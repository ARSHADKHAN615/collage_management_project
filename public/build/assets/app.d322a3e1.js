var Fl=!1,Bl=!1,xi=[];function Pm(e){Nm(e)}function Nm(e){xi.includes(e)||xi.push(e),Fm()}function eh(e){let t=xi.indexOf(e);t!==-1&&xi.splice(t,1)}function Fm(){!Bl&&!Fl&&(Fl=!0,queueMicrotask(Bm))}function Bm(){Fl=!1,Bl=!0;for(let e=0;e<xi.length;e++)xi[e]();xi.length=0,Bl=!1}var bo,cs,Oa,th,$l=!0;function $m(e){$l=!1,e(),$l=!0}function Um(e){bo=e.reactive,Oa=e.release,cs=t=>e.effect(t,{scheduler:n=>{$l?Pm(n):n()}}),th=e.raw}function kc(e){cs=e}function jm(e){let t=()=>{};return[r=>{let i=cs(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(o=>o())}),e._x_effects.add(i),t=()=>{i!==void 0&&(e._x_effects.delete(i),Oa(i))},i},()=>{t()}]}var nh=[],rh=[],ih=[];function Vm(e){ih.push(e)}function oh(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,rh.push(t))}function Gm(e){nh.push(e)}function Hm(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function sh(e,t){!e._x_attributeCleanups||Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(i=>i()),delete e._x_attributeCleanups[n])})}var Lu=new MutationObserver(Pu),ku=!1;function ah(){Lu.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ku=!0}function Wm(){zm(),Lu.disconnect(),ku=!1}var Ho=[],rl=!1;function zm(){Ho=Ho.concat(Lu.takeRecords()),Ho.length&&!rl&&(rl=!0,queueMicrotask(()=>{Ym(),rl=!1}))}function Ym(){Pu(Ho),Ho.length=0}function en(e){if(!ku)return e();Wm();let t=e();return ah(),t}var Mu=!1,na=[];function qm(){Mu=!0}function Km(){Mu=!1,Pu(na),na=[]}function Pu(e){if(Mu){na=na.concat(e);return}let t=[],n=[],r=new Map,i=new Map;for(let o=0;o<e.length;o++)if(!e[o].target._x_ignoreMutationObserver&&(e[o].type==="childList"&&(e[o].addedNodes.forEach(s=>s.nodeType===1&&t.push(s)),e[o].removedNodes.forEach(s=>s.nodeType===1&&n.push(s))),e[o].type==="attributes")){let s=e[o].target,a=e[o].attributeName,l=e[o].oldValue,u=()=>{r.has(s)||r.set(s,[]),r.get(s).push({name:a,value:s.getAttribute(a)})},c=()=>{i.has(s)||i.set(s,[]),i.get(s).push(a)};s.hasAttribute(a)&&l===null?u():s.hasAttribute(a)?(c(),u()):c()}i.forEach((o,s)=>{sh(s,o)}),r.forEach((o,s)=>{nh.forEach(a=>a(s,o))});for(let o of n)if(!t.includes(o)&&(rh.forEach(s=>s(o)),o._x_cleanups))for(;o._x_cleanups.length;)o._x_cleanups.pop()();t.forEach(o=>{o._x_ignoreSelf=!0,o._x_ignore=!0});for(let o of t)n.includes(o)||!o.isConnected||(delete o._x_ignoreSelf,delete o._x_ignore,ih.forEach(s=>s(o)),o._x_ignore=!0,o._x_ignoreSelf=!0);t.forEach(o=>{delete o._x_ignoreSelf,delete o._x_ignore}),t=null,n=null,r=null,i=null}function lh(e){return fs(uo(e))}function ds(e,t,n){return e._x_dataStack=[t,...uo(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Mc(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach(([r,i])=>{n[r]=i})}function uo(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?uo(e.host):e.parentNode?uo(e.parentNode):[]}function fs(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(n=>Object.keys(n)))),has:(n,r)=>e.some(i=>i.hasOwnProperty(r)),get:(n,r)=>(e.find(i=>{if(i.hasOwnProperty(r)){let o=Object.getOwnPropertyDescriptor(i,r);if(o.get&&o.get._x_alreadyBound||o.set&&o.set._x_alreadyBound)return!0;if((o.get||o.set)&&o.enumerable){let s=o.get,a=o.set,l=o;s=s&&s.bind(t),a=a&&a.bind(t),s&&(s._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(i,r,{...l,get:s,set:a})}return!0}return!1})||{})[r],set:(n,r,i)=>{let o=e.find(s=>s.hasOwnProperty(r));return o?o[r]=i:e[e.length-1][r]=i,!0}});return t}function uh(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,i="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([o,{value:s,enumerable:a}])=>{if(a===!1||s===void 0)return;let l=i===""?o:`${i}.${o}`;typeof s=="object"&&s!==null&&s._x_interceptor?r[o]=s.initialize(e,l,o):t(s)&&s!==r&&!(s instanceof Element)&&n(s,l)})};return n(e)}function ch(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,i,o){return e(this.initialValue,()=>Xm(r,i),s=>Ul(r,i,s),i,o)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let i=n.initialize.bind(n);n.initialize=(o,s,a)=>{let l=r.initialize(o,s,a);return n.initialValue=l,i(o,s,a)}}else n.initialValue=r;return n}}function Xm(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function Ul(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Ul(e[t[0]],t.slice(1),n)}}var dh={};function or(e,t){dh[e]=t}function jl(e,t){return Object.entries(dh).forEach(([n,r])=>{Object.defineProperty(e,`$${n}`,{get(){let[i,o]=mh(t);return i={interceptor:ch,...i},oh(t,o),r(t,i)},enumerable:!1})}),e}function Zm(e,t,n,...r){try{return n(...r)}catch(i){is(i,e,t)}}function is(e,t,n=void 0){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var $s=!0;function Jm(e){let t=$s;$s=!1,e(),$s=t}function ro(e,t,n={}){let r;return vn(e,t)(i=>r=i,n),r}function vn(...e){return fh(...e)}var fh=hh;function Qm(e){fh=e}function hh(e,t){let n={};jl(n,e);let r=[n,...uo(e)];if(typeof t=="function")return ev(r,t);let i=nv(r,t,e);return Zm.bind(null,e,t,i)}function ev(e,t){return(n=()=>{},{scope:r={},params:i=[]}={})=>{let o=t.apply(fs([r,...e]),i);ra(n,o)}}var il={};function tv(e,t){if(il[e])return il[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,o=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(s){return is(s,t,e),Promise.resolve()}})();return il[e]=o,o}function nv(e,t,n){let r=tv(t,n);return(i=()=>{},{scope:o={},params:s=[]}={})=>{r.result=void 0,r.finished=!1;let a=fs([o,...e]);if(typeof r=="function"){let l=r(r,a).catch(u=>is(u,n,t));r.finished?(ra(i,r.result,a,s,n),r.result=void 0):l.then(u=>{ra(i,u,a,s,n)}).catch(u=>is(u,n,t)).finally(()=>r.result=void 0)}}}function ra(e,t,n,r,i){if($s&&typeof t=="function"){let o=t.apply(n,r);o instanceof Promise?o.then(s=>ra(e,s,n,r)).catch(s=>is(s,i,t)):e(o)}else e(t)}var Nu="x-";function Eo(e=""){return Nu+e}function rv(e){Nu=e}var ph={};function jt(e,t){ph[e]=t}function Fu(e,t,n){let r={};return Array.from(t).map(bh((o,s)=>r[o]=s)).filter(_h).map(av(r,n)).sort(lv).map(o=>sv(e,o))}function iv(e){return Array.from(e).map(bh()).filter(t=>!_h(t))}var Vl=!1,Uo=new Map,gh=Symbol();function ov(e){Vl=!0;let t=Symbol();gh=t,Uo.set(t,[]);let n=()=>{for(;Uo.get(t).length;)Uo.get(t).shift()();Uo.delete(t)},r=()=>{Vl=!1,n()};e(n),r()}function mh(e){let t=[],n=a=>t.push(a),[r,i]=jm(e);return t.push(i),[{Alpine:hs,effect:r,cleanup:n,evaluateLater:vn.bind(vn,e),evaluate:ro.bind(ro,e)},()=>t.forEach(a=>a())]}function sv(e,t){let n=()=>{},r=ph[t.type]||n,[i,o]=mh(e);Hm(e,t.original,o);let s=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,i),r=r.bind(r,e,t,i),Vl?Uo.get(gh).push(r):r())};return s.runCleanups=o,s}var vh=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),yh=e=>e;function bh(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:i}=Eh.reduce((o,s)=>s(o),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var Eh=[];function Bu(e){Eh.push(e)}function _h({name:e}){return wh().test(e)}var wh=()=>new RegExp(`^${Nu}([^:^.]+)\\b`);function av(e,t){return({name:n,value:r})=>{let i=n.match(wh()),o=n.match(/:([a-zA-Z0-9\-:]+)/),s=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:s.map(l=>l.replace(".","")),expression:r,original:a}}}var Gl="DEFAULT",bs=["ignore","ref","data","id","bind","init","for","mask","model","modelable","transition","show","if",Gl,"teleport","element"];function lv(e,t){let n=bs.indexOf(e.type)===-1?Gl:e.type,r=bs.indexOf(t.type)===-1?Gl:t.type;return bs.indexOf(n)-bs.indexOf(r)}function Wo(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var Hl=[],$u=!1;function Ah(e=()=>{}){return queueMicrotask(()=>{$u||setTimeout(()=>{Wl()})}),new Promise(t=>{Hl.push(()=>{e(),t()})})}function Wl(){for($u=!1;Hl.length;)Hl.shift()()}function uv(){$u=!0}function Ni(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(i=>Ni(i,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)Ni(r,t),r=r.nextElementSibling}function co(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}function cv(){document.body||co("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Wo(document,"alpine:init"),Wo(document,"alpine:initializing"),ah(),Vm(t=>ai(t,Ni)),oh(t=>fv(t)),Gm((t,n)=>{Fu(t,n).forEach(r=>r())});let e=t=>!xa(t.parentElement,!0);Array.from(document.querySelectorAll(Ih())).filter(e).forEach(t=>{ai(t)}),Wo(document,"alpine:initialized")}var Uu=[],Th=[];function Sh(){return Uu.map(e=>e())}function Ih(){return Uu.concat(Th).map(e=>e())}function Ch(e){Uu.push(e)}function Oh(e){Th.push(e)}function xa(e,t=!1){return Ra(e,n=>{if((t?Ih():Sh()).some(i=>n.matches(i)))return!0})}function Ra(e,t){if(!!e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Ra(e.parentElement,t)}}function dv(e){return Sh().some(t=>e.matches(t))}function ai(e,t=Ni){ov(()=>{t(e,(n,r)=>{Fu(n,n.attributes).forEach(i=>i()),n._x_ignore&&r()})})}function fv(e){Ni(e,t=>sh(t))}function ju(e,t){return Array.isArray(t)?Pc(e,t.join(" ")):typeof t=="object"&&t!==null?hv(e,t):typeof t=="function"?ju(e,t()):Pc(e,t)}function Pc(e,t){let n=i=>i.split(" ").filter(o=>!e.classList.contains(o)).filter(Boolean),r=i=>(e.classList.add(...i),()=>{e.classList.remove(...i)});return t=t===!0?t="":t||"",r(n(t))}function hv(e,t){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),i=Object.entries(t).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),o=[],s=[];return i.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),s.push(a))}),r.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),o.push(a))}),()=>{s.forEach(a=>e.classList.add(a)),o.forEach(a=>e.classList.remove(a))}}function Da(e,t){return typeof t=="object"&&t!==null?pv(e,t):gv(e,t)}function pv(e,t){let n={};return Object.entries(t).forEach(([r,i])=>{n[r]=e.style[r],r.startsWith("--")||(r=mv(r)),e.style.setProperty(r,i)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{Da(e,n)}}function gv(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function mv(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zl(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}jt("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{typeof r=="function"&&(r=i(r)),r?vv(e,r,t):yv(e,n,t)});function vv(e,t,n){xh(e,ju,""),{enter:i=>{e._x_transition.enter.during=i},"enter-start":i=>{e._x_transition.enter.start=i},"enter-end":i=>{e._x_transition.enter.end=i},leave:i=>{e._x_transition.leave.during=i},"leave-start":i=>{e._x_transition.leave.start=i},"leave-end":i=>{e._x_transition.leave.end=i}}[n](t)}function yv(e,t,n){xh(e,Da);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),o=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((y,E)=>E<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((y,E)=>E>t.indexOf("out")));let s=!t.includes("opacity")&&!t.includes("scale"),a=s||t.includes("opacity"),l=s||t.includes("scale"),u=a?0:1,c=l?ko(t,"scale",95)/100:1,f=ko(t,"delay",0),d=ko(t,"origin","center"),p="opacity, transform",g=ko(t,"duration",150)/1e3,h=ko(t,"duration",75)/1e3,v="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:d,transitionDelay:f,transitionProperty:p,transitionDuration:`${g}s`,transitionTimingFunction:v},e._x_transition.enter.start={opacity:u,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(e._x_transition.leave.during={transformOrigin:d,transitionDelay:f,transitionProperty:p,transitionDuration:`${h}s`,transitionTimingFunction:v},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${c})`})}function xh(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},i=()=>{}){Yl(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,i)},out(r=()=>{},i=()=>{}){Yl(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,i)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let i=()=>{document.visibilityState==="visible"?requestAnimationFrame(n):setTimeout(n)};if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((o,s)=>{e._x_transition.out(()=>{},()=>o(r)),e._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=Rh(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):queueMicrotask(()=>{let s=a=>{let l=Promise.all([a._x_hidePromise,...(a._x_hideChildren||[]).map(s)]).then(([u])=>u());return delete a._x_hidePromise,delete a._x_hideChildren,l};s(e).catch(a=>{if(!a.isFromCancelledTransition)throw a})})})};function Rh(e){let t=e.parentNode;if(!!t)return t._x_hidePromise?t:Rh(t)}function Yl(e,t,{during:n,start:r,end:i}={},o=()=>{},s=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(i).length===0){o(),s();return}let a,l,u;bv(e,{start(){a=t(e,r)},during(){l=t(e,n)},before:o,end(){a(),u=t(e,i)},after:s,cleanup(){l(),u()}})}function bv(e,t){let n,r,i,o=zl(()=>{en(()=>{n=!0,r||t.before(),i||(t.end(),Wl()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(s){this.beforeCancels.push(s)},cancel:zl(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},en(()=>{t.start(),t.during()}),uv(),requestAnimationFrame(()=>{if(n)return;let s=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;s===0&&(s=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),en(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(en(()=>{t.end()}),Wl(),setTimeout(e._x_transitioning.finish,s+a),i=!0)})})}function ko(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"){let i=r.match(/([0-9]+)ms/);if(i)return i[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var ql=!1;function La(e,t=()=>{}){return(...n)=>ql?t(...n):e(...n)}function Ev(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ql=!0,wv(()=>{_v(t)}),ql=!1}function _v(e){let t=!1;ai(e,(r,i)=>{Ni(r,(o,s)=>{if(t&&dv(o))return s();t=!0,i(o,s)})})}function wv(e){let t=cs;kc((n,r)=>{let i=t(n);return Oa(i),()=>{}}),e(),kc(t)}function Dh(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=bo({})),e._x_bindings[t]=n,t=r.includes("camel")?xv(t):t,t){case"value":Av(e,n);break;case"style":Sv(e,n);break;case"class":Tv(e,n);break;default:Iv(e,t,n);break}}function Av(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(e.checked=Nc(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Number.isInteger(t)&&!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Nc(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Ov(e,t);else{if(e.value===t)return;e.value=t}}function Tv(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=ju(e,t)}function Sv(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Da(e,t)}function Iv(e,t,n){[null,void 0,!1].includes(n)&&Rv(t)?e.removeAttribute(t):(Lh(t)&&(n=t),Cv(e,t,n))}function Cv(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Ov(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function xv(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Nc(e,t){return e==t}function Lh(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Rv(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Dv(e,t,n){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:Lh(t)?!![t,"true"].includes(r):r===""?!0:r}function kh(e,t){var n;return function(){var r=this,i=arguments,o=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(o,t)}}function Mh(e,t){let n;return function(){let r=this,i=arguments;n||(e.apply(r,i),n=!0,setTimeout(()=>n=!1,t))}}function Lv(e){e(hs)}var Ai={},Fc=!1;function kv(e,t){if(Fc||(Ai=bo(Ai),Fc=!0),t===void 0)return Ai[e];Ai[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Ai[e].init(),uh(Ai[e])}function Mv(){return Ai}var Ph={};function Pv(e,t){Ph[e]=typeof t!="function"?()=>t:t}function Nv(e){return Object.entries(Ph).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}var Nh={};function Fv(e,t){Nh[e]=t}function Bv(e,t){return Object.entries(Nh).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...i)=>r.bind(t)(...i)},enumerable:!1})}),e}var $v={get reactive(){return bo},get release(){return Oa},get effect(){return cs},get raw(){return th},version:"3.10.0",flushAndStopDeferringMutations:Km,dontAutoEvaluateFunctions:Jm,disableEffectScheduling:$m,setReactivityEngine:Um,closestDataStack:uo,skipDuringClone:La,addRootSelector:Ch,addInitSelector:Oh,addScopeToNode:ds,deferMutations:qm,mapAttributes:Bu,evaluateLater:vn,setEvaluator:Qm,mergeProxies:fs,findClosest:Ra,closestRoot:xa,interceptor:ch,transition:Yl,setStyles:Da,mutateDom:en,directive:jt,throttle:Mh,debounce:kh,evaluate:ro,initTree:ai,nextTick:Ah,prefixed:Eo,prefix:rv,plugin:Lv,magic:or,store:kv,start:cv,clone:Ev,bound:Dv,$data:lh,data:Fv,bind:Pv},hs=$v;function Uv(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}var jv={},Fh=Object.assign,Vv=Object.prototype.hasOwnProperty,ka=(e,t)=>Vv.call(e,t),Ri=Array.isArray,Us=e=>Bh(e)==="[object Map]",Gv=e=>typeof e=="string",Vu=e=>typeof e=="symbol",Ma=e=>e!==null&&typeof e=="object",Hv=Object.prototype.toString,Bh=e=>Hv.call(e),Wv=e=>Bh(e).slice(8,-1),Gu=e=>Gv(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$h=(e,t)=>e!==t&&(e===e||t===t),Kl=new WeakMap,Mo=[],Si,Di=Symbol(""),Xl=Symbol("");function zv(e){return e&&e._isEffect===!0}function Yv(e,t=jv){zv(e)&&(e=e.raw);const n=Xv(e,t);return t.lazy||n(),n}function qv(e){e.active&&(Uh(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Kv=0;function Xv(e,t){const n=function(){if(!n.active)return e();if(!Mo.includes(n)){Uh(n);try{return Jv(),Mo.push(n),Si=n,e()}finally{Mo.pop(),jh(),Si=Mo[Mo.length-1]}}};return n.id=Kv++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function Uh(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var fo=!0,Hu=[];function Zv(){Hu.push(fo),fo=!1}function Jv(){Hu.push(fo),fo=!0}function jh(){const e=Hu.pop();fo=e===void 0?!0:e}function nr(e,t,n){if(!fo||Si===void 0)return;let r=Kl.get(e);r||Kl.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(Si)||(i.add(Si),Si.deps.push(i))}function li(e,t,n,r,i,o){const s=Kl.get(e);if(!s)return;const a=new Set,l=c=>{c&&c.forEach(f=>{(f!==Si||f.allowRecurse)&&a.add(f)})};if(t==="clear")s.forEach(l);else if(n==="length"&&Ri(e))s.forEach((c,f)=>{(f==="length"||f>=r)&&l(c)});else switch(n!==void 0&&l(s.get(n)),t){case"add":Ri(e)?Gu(n)&&l(s.get("length")):(l(s.get(Di)),Us(e)&&l(s.get(Xl)));break;case"delete":Ri(e)||(l(s.get(Di)),Us(e)&&l(s.get(Xl)));break;case"set":Us(e)&&l(s.get(Di));break}const u=c=>{c.options.scheduler?c.options.scheduler(c):c()};a.forEach(u)}var Qv=Uv("__proto__,__v_isRef,__isVue"),Vh=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Vu)),ey=Pa(),ty=Pa(!1,!0),ny=Pa(!0),ry=Pa(!0,!0),ia={};["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];ia[e]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)nr(r,"get",o+"");const i=t.apply(r,n);return i===-1||i===!1?t.apply(r,n.map(Mt)):i}});["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];ia[e]=function(...n){Zv();const r=t.apply(this,n);return jh(),r}});function Pa(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_raw"&&o===(e?t?hy:np:t?fy:tp).get(r))return r;const s=Ri(r);if(!e&&s&&ka(ia,i))return Reflect.get(ia,i,o);const a=Reflect.get(r,i,o);return(Vu(i)?Vh.has(i):Qv(i))||(e||nr(r,"get",i),t)?a:Zl(a)?!s||!Gu(i)?a.value:a:Ma(a)?e?rp(a):qu(a):a}}var iy=Gh(),oy=Gh(!0);function Gh(e=!1){return function(n,r,i,o){let s=n[r];if(!e&&(i=Mt(i),s=Mt(s),!Ri(n)&&Zl(s)&&!Zl(i)))return s.value=i,!0;const a=Ri(n)&&Gu(r)?Number(r)<n.length:ka(n,r),l=Reflect.set(n,r,i,o);return n===Mt(o)&&(a?$h(i,s)&&li(n,"set",r,i):li(n,"add",r,i)),l}}function sy(e,t){const n=ka(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&li(e,"delete",t,void 0),r}function ay(e,t){const n=Reflect.has(e,t);return(!Vu(t)||!Vh.has(t))&&nr(e,"has",t),n}function ly(e){return nr(e,"iterate",Ri(e)?"length":Di),Reflect.ownKeys(e)}var Hh={get:ey,set:iy,deleteProperty:sy,has:ay,ownKeys:ly},Wh={get:ny,set(e,t){return!0},deleteProperty(e,t){return!0}};Fh({},Hh,{get:ty,set:oy});Fh({},Wh,{get:ry});var Wu=e=>Ma(e)?qu(e):e,zu=e=>Ma(e)?rp(e):e,Yu=e=>e,Na=e=>Reflect.getPrototypeOf(e);function Fa(e,t,n=!1,r=!1){e=e.__v_raw;const i=Mt(e),o=Mt(t);t!==o&&!n&&nr(i,"get",t),!n&&nr(i,"get",o);const{has:s}=Na(i),a=r?Yu:n?zu:Wu;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function Ba(e,t=!1){const n=this.__v_raw,r=Mt(n),i=Mt(e);return e!==i&&!t&&nr(r,"has",e),!t&&nr(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function $a(e,t=!1){return e=e.__v_raw,!t&&nr(Mt(e),"iterate",Di),Reflect.get(e,"size",e)}function zh(e){e=Mt(e);const t=Mt(this);return Na(t).has.call(t,e)||(t.add(e),li(t,"add",e,e)),this}function Yh(e,t){t=Mt(t);const n=Mt(this),{has:r,get:i}=Na(n);let o=r.call(n,e);o||(e=Mt(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?$h(t,s)&&li(n,"set",e,t):li(n,"add",e,t),this}function qh(e){const t=Mt(this),{has:n,get:r}=Na(t);let i=n.call(t,e);i||(e=Mt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&li(t,"delete",e,void 0),o}function Kh(){const e=Mt(this),t=e.size!==0,n=e.clear();return t&&li(e,"clear",void 0,void 0),n}function Ua(e,t){return function(r,i){const o=this,s=o.__v_raw,a=Mt(s),l=t?Yu:e?zu:Wu;return!e&&nr(a,"iterate",Di),s.forEach((u,c)=>r.call(i,l(u),l(c),o))}}function Es(e,t,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=Us(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,u=i[e](...r),c=n?Yu:t?zu:Wu;return!t&&nr(o,"iterate",l?Xl:Di),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:a?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function ri(e){return function(...t){return e==="delete"?!1:this}}var Xh={get(e){return Fa(this,e)},get size(){return $a(this)},has:Ba,add:zh,set:Yh,delete:qh,clear:Kh,forEach:Ua(!1,!1)},Zh={get(e){return Fa(this,e,!1,!0)},get size(){return $a(this)},has:Ba,add:zh,set:Yh,delete:qh,clear:Kh,forEach:Ua(!1,!0)},Jh={get(e){return Fa(this,e,!0)},get size(){return $a(this,!0)},has(e){return Ba.call(this,e,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Ua(!0,!1)},Qh={get(e){return Fa(this,e,!0,!0)},get size(){return $a(this,!0)},has(e){return Ba.call(this,e,!0)},add:ri("add"),set:ri("set"),delete:ri("delete"),clear:ri("clear"),forEach:Ua(!0,!0)},uy=["keys","values","entries",Symbol.iterator];uy.forEach(e=>{Xh[e]=Es(e,!1,!1),Jh[e]=Es(e,!0,!1),Zh[e]=Es(e,!1,!0),Qh[e]=Es(e,!0,!0)});function ep(e,t){const n=t?e?Qh:Zh:e?Jh:Xh;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ka(n,i)&&i in r?n:r,i,o)}var cy={get:ep(!1,!1)},dy={get:ep(!0,!1)},tp=new WeakMap,fy=new WeakMap,np=new WeakMap,hy=new WeakMap;function py(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gy(e){return e.__v_skip||!Object.isExtensible(e)?0:py(Wv(e))}function qu(e){return e&&e.__v_isReadonly?e:ip(e,!1,Hh,cy,tp)}function rp(e){return ip(e,!0,Wh,dy,np)}function ip(e,t,n,r,i){if(!Ma(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=gy(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Mt(e){return e&&Mt(e.__v_raw)||e}function Zl(e){return Boolean(e&&e.__v_isRef===!0)}or("nextTick",()=>Ah);or("dispatch",e=>Wo.bind(Wo,e));or("watch",(e,{evaluateLater:t,effect:n})=>(r,i)=>{let o=t(r),s=!0,a,l=n(()=>o(u=>{JSON.stringify(u),s?a=u:queueMicrotask(()=>{i(u,a),a=u}),s=!1}));e._x_effects.delete(l)});or("store",Mv);or("data",e=>lh(e));or("root",e=>xa(e));or("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=fs(my(e))),e._x_refs_proxy));function my(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}var ol={};function op(e){return ol[e]||(ol[e]=0),++ol[e]}function vy(e,t){return Ra(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function yy(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=op(t))}or("id",e=>(t,n=null)=>{let r=vy(e,t),i=r?r._x_ids[t]:op(t);return n?`${t}-${i}-${n}`:`${t}-${i}`});or("el",e=>e);sp("Focus","focus","focus");sp("Persist","persist","persist");function sp(e,t,n){or(t,r=>co(`You can't use [$${directiveName}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}jt("modelable",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t),o=()=>{let u;return i(c=>u=c),u},s=r(`${t} = __placeholder`),a=u=>s(()=>{},{scope:{__placeholder:u}}),l=o();a(l),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let u=e._x_model.get,c=e._x_model.set;n(()=>a(u())),n(()=>c(o()))})});jt("teleport",(e,{expression:t},{cleanup:n})=>{e.tagName.toLowerCase()!=="template"&&co("x-teleport can only be used on a <template> tag",e);let r=document.querySelector(t);r||co(`Cannot find x-teleport element for selector: "${t}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(o=>{i.addEventListener(o,s=>{s.stopPropagation(),e.dispatchEvent(new s.constructor(s.type,s))})}),ds(i,{},e),en(()=>{r.appendChild(i),ai(i),i._x_ignore=!0}),n(()=>i.remove())});var ap=()=>{};ap.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};jt("ignore",ap);jt("effect",(e,{expression:t},{effect:n})=>n(vn(e,t)));function lp(e,t,n,r){let i=e,o=l=>r(l),s={},a=(l,u)=>c=>u(l,c);if(n.includes("dot")&&(t=by(t)),n.includes("camel")&&(t=Ey(t)),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("prevent")&&(o=a(o,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(o=a(o,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("self")&&(o=a(o,(l,u)=>{u.target===e&&l(u)})),(n.includes("away")||n.includes("outside"))&&(i=document,o=a(o,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("once")&&(o=a(o,(l,u)=>{l(u),i.removeEventListener(t,o,s)})),o=a(o,(l,u)=>{wy(t)&&Ay(u,n)||l(u)}),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=Jl(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=kh(o,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=Jl(l.split("ms")[0])?Number(l.split("ms")[0]):250;o=Mh(o,u)}return i.addEventListener(t,o,s),()=>{i.removeEventListener(t,o,s)}}function by(e){return e.replace(/-/g,".")}function Ey(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Jl(e){return!Array.isArray(e)&&!isNaN(e)}function _y(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function wy(e){return["keydown","keyup"].includes(e)}function Ay(e,t){let n=t.filter(o=>!["window","document","prevent","stop","once"].includes(o));if(n.includes("debounce")){let o=n.indexOf("debounce");n.splice(o,Jl((n[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&Bc(e.key).includes(n[0]))return!1;const i=["ctrl","shift","alt","meta","cmd","super"].filter(o=>n.includes(o));return n=n.filter(o=>!i.includes(o)),!(i.length>0&&i.filter(s=>((s==="cmd"||s==="super")&&(s="meta"),e[`${s}Key`])).length===i.length&&Bc(e.key).includes(n[0]))}function Bc(e){if(!e)return[];e=_y(e);let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}jt("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let o=vn(e,n),s=`${n} = rightSideOfExpression($event, ${n})`,a=vn(e,s);var l=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let u=Ty(e,t,n),c=lp(e,l,t,d=>{a(()=>{},{scope:{$event:d,rightSideOfExpression:u}})});e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=c,i(()=>e._x_removeModelListeners.default());let f=vn(e,`${n} = __placeholder`);e._x_model={get(){let d;return o(p=>d=p),d},set(d){f(()=>{},{scope:{__placeholder:d}})}},e._x_forceModelUpdate=()=>{o(d=>{d===void 0&&n.match(/\./)&&(d=""),window.fromModel=!0,en(()=>Dh(e,"value",d)),delete window.fromModel})},r(()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()})});function Ty(e,t,n){return e.type==="radio"&&en(()=>{e.hasAttribute("name")||e.setAttribute("name",n)}),(r,i)=>en(()=>{if(r instanceof CustomEvent&&r.detail!==void 0)return r.detail||r.target.value;if(e.type==="checkbox")if(Array.isArray(i)){let o=t.includes("number")?sl(r.target.value):r.target.value;return r.target.checked?i.concat([o]):i.filter(s=>!Sy(s,o))}else return r.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(r.target.selectedOptions).map(o=>{let s=o.value||o.text;return sl(s)}):Array.from(r.target.selectedOptions).map(o=>o.value||o.text);{let o=r.target.value;return t.includes("number")?sl(o):t.includes("trim")?o.trim():o}}})}function sl(e){let t=e?parseFloat(e):null;return Iy(t)?t:e}function Sy(e,t){return e==t}function Iy(e){return!Array.isArray(e)&&!isNaN(e)}jt("cloak",e=>queueMicrotask(()=>en(()=>e.removeAttribute(Eo("cloak")))));Oh(()=>`[${Eo("init")}]`);jt("init",La((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));jt("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(o=>{en(()=>{e.textContent=o})})})});jt("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(o=>{en(()=>{e.innerHTML=o,e._x_ignoreSelf=!0,ai(e),delete e._x_ignoreSelf})})})});Bu(vh(":",yh(Eo("bind:"))));jt("bind",(e,{value:t,modifiers:n,expression:r,original:i},{effect:o})=>{if(!t)return Cy(e,r,i);if(t==="key")return Oy(e,r);let s=vn(e,r);o(()=>s(a=>{a===void 0&&r.match(/\./)&&(a=""),en(()=>Dh(e,t,a,n))}))});function Cy(e,t,n,r){let i={};Nv(i);let o=vn(e,t),s=[];for(;s.length;)s.pop()();o(a=>{let l=Object.entries(a).map(([c,f])=>({name:c,value:f})),u=iv(l);l=l.map(c=>u.find(f=>f.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),Fu(e,l,n).map(c=>{s.push(c.runCleanups),c()})},{scope:i})}function Oy(e,t){e._x_keyExpression=t}Ch(()=>`[${Eo("data")}]`);jt("data",La((e,{expression:t},{cleanup:n})=>{t=t===""?"{}":t;let r={};jl(r,e);let i={};Bv(i,r);let o=ro(e,t,{scope:i});o===void 0&&(o={}),jl(o,e);let s=bo(o);uh(s);let a=ds(e,s);s.init&&ro(e,s.init),n(()=>{s.destroy&&ro(e,s.destroy),a()})}));jt("show",(e,{modifiers:t,expression:n},{effect:r})=>{let i=vn(e,n);e._x_doHide||(e._x_doHide=()=>{en(()=>e.style.display="none")}),e._x_doShow||(e._x_doShow=()=>{en(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let o=()=>{e._x_doHide(),e._x_isShown=!1},s=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(s),l=zl(f=>f?s():o(),f=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,f,s,o):f?a():o()}),u,c=!0;r(()=>i(f=>{!c&&f===u||(t.includes("immediate")&&(f?a():o()),l(f),u=f,c=!1)}))});jt("for",(e,{expression:t},{effect:n,cleanup:r})=>{let i=Ry(t),o=vn(e,i.items),s=vn(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>xy(e,i,o,s)),r(()=>{Object.values(e._x_lookup).forEach(a=>a.remove()),delete e._x_prevKeys,delete e._x_lookup})});function xy(e,t,n,r){let i=s=>typeof s=="object"&&!Array.isArray(s),o=e;n(s=>{Dy(s)&&s>=0&&(s=Array.from(Array(s).keys(),v=>v+1)),s===void 0&&(s=[]);let a=e._x_lookup,l=e._x_prevKeys,u=[],c=[];if(i(s))s=Object.entries(s).map(([v,y])=>{let E=$c(t,y,v,s);r(m=>c.push(m),{scope:{index:v,...E}}),u.push(E)});else for(let v=0;v<s.length;v++){let y=$c(t,s[v],v,s);r(E=>c.push(E),{scope:{index:v,...y}}),u.push(y)}let f=[],d=[],p=[],g=[];for(let v=0;v<l.length;v++){let y=l[v];c.indexOf(y)===-1&&p.push(y)}l=l.filter(v=>!p.includes(v));let h="template";for(let v=0;v<c.length;v++){let y=c[v],E=l.indexOf(y);if(E===-1)l.splice(v,0,y),f.push([h,v]);else if(E!==v){let m=l.splice(v,1)[0],b=l.splice(E-1,1)[0];l.splice(v,0,b),l.splice(E,0,m),d.push([m,b])}else g.push(y);h=y}for(let v=0;v<p.length;v++){let y=p[v];a[y]._x_effects&&a[y]._x_effects.forEach(eh),a[y].remove(),a[y]=null,delete a[y]}for(let v=0;v<d.length;v++){let[y,E]=d[v],m=a[y],b=a[E],w=document.createElement("div");en(()=>{b.after(w),m.after(b),b._x_currentIfEl&&b.after(b._x_currentIfEl),w.before(m),m._x_currentIfEl&&m.after(m._x_currentIfEl),w.remove()}),Mc(b,u[c.indexOf(E)])}for(let v=0;v<f.length;v++){let[y,E]=f[v],m=y==="template"?o:a[y];m._x_currentIfEl&&(m=m._x_currentIfEl);let b=u[E],w=c[E],A=document.importNode(o.content,!0).firstElementChild;ds(A,bo(b),o),en(()=>{m.after(A),ai(A)}),typeof w=="object"&&co("x-for key cannot be an object, it must be a string or an integer",o),a[w]=A}for(let v=0;v<g.length;v++)Mc(a[g[v]],u[c.indexOf(g[v])]);o._x_prevKeys=c})}function Ry(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=e.match(r);if(!i)return;let o={};o.items=i[2].trim();let s=i[1].replace(n,"").trim(),a=s.match(t);return a?(o.item=s.replace(t,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=s,o}function $c(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(s=>s.trim()).forEach((s,a)=>{i[s]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(s=>s.trim()).forEach(s=>{i[s]=t[s]}):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function Dy(e){return!Array.isArray(e)&&!isNaN(e)}function up(){}up.inline=(e,{expression:t},{cleanup:n})=>{let r=xa(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};jt("ref",up);jt("if",(e,{expression:t},{effect:n,cleanup:r})=>{let i=vn(e,t),o=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return ds(a,{},e),en(()=>{e.after(a),ai(a)}),e._x_currentIfEl=a,e._x_undoIf=()=>{Ni(a,l=>{l._x_effects&&l._x_effects.forEach(eh)}),a.remove(),delete e._x_currentIfEl},a},s=()=>{!e._x_undoIf||(e._x_undoIf(),delete e._x_undoIf)};n(()=>i(a=>{a?o():s()})),r(()=>e._x_undoIf&&e._x_undoIf())});jt("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(i=>yy(e,i))});Bu(vh("@",yh(Eo("on:"))));jt("on",La((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let o=r?vn(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=lp(e,t,n,a=>{o(()=>{},{scope:{$event:a},params:[a]})});i(()=>s())}));ja("Collapse","collapse","collapse");ja("Intersect","intersect","intersect");ja("Focus","trap","focus");ja("Mask","mask","mask");function ja(e,t,n){jt(t,r=>co(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}hs.setEvaluator(hh);hs.setReactivityEngine({reactive:qu,effect:Yv,release:qv,raw:Mt});var Ly=hs,_o=Ly,ky=e=>{e.data("notificationComponent",({$wire:t,notification:n})=>({phase:"enter-start",computedStyle:null,hasTransitionLeaveAttribute:!1,init:function(){this.computedStyle=window.getComputedStyle(this.$el),this.hasTransitionLeaveAttribute=this.$el.hasAttribute("x-transition:leave")||this.$el.hasAttribute("x-transition:leave-start")||this.$el.hasAttribute("x-transition:leave-end"),this.configureAnimations(),n.duration!==null&&setTimeout(()=>this.close(),n.duration),this.$nextTick(()=>this.phase="enter-end")},configureAnimations:function(){let r;Livewire.hook("message.received",(i,o)=>{if(o.fingerprint.name!=="notifications")return;const s=this.getTop();r=()=>{const a=this.getTop();this.$el.animate([{transform:`translateY(${s-a}px)`},{transform:"translateY(0px)"}],{duration:this.getTransitionDuration(),easing:this.computedStyle.transitionTimingFunction})},this.$el.getAnimations().forEach(a=>a.finish())}),Livewire.hook("message.processed",(i,o)=>{o.fingerprint.name==="notifications"&&(this.phase.startsWith("leave-")||r())})},close:function(){this.phase="leave-start",this.$nextTick(()=>{setTimeout(()=>t.close(n.id),this.hasTransitionLeaveAttribute?this.getTransitionDuration():0),this.phase="leave-end"})},getTop:function(){return this.$el.getBoundingClientRect().top},getTransitionDuration:function(){return parseFloat(this.computedStyle.transitionDuration)*1e3}}))},My=e=>{e.plugin(ky)},Py=Object.create,Va=Object.defineProperty,Ny=Object.getPrototypeOf,Fy=Object.prototype.hasOwnProperty,By=Object.getOwnPropertyNames,$y=Object.getOwnPropertyDescriptor,Uy=e=>Va(e,"__esModule",{value:!0}),wo=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),jy=(e,t)=>{for(var n in t)Va(e,n,{get:t[n],enumerable:!0})},Vy=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of By(t))!Fy.call(e,r)&&r!=="default"&&Va(e,r,{get:()=>t[r],enumerable:!(n=$y(t,r))||n.enumerable});return e},Ao=e=>Vy(Uy(Va(e!=null?Py(Ny(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Gy=wo((e,t)=>{(function(n,r){typeof e=="object"&&typeof t<"u"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=r()})(e,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},l=function(h){return(h=+h)+(h>68?1900:2e3)},u=function(h){return function(v){this[h]=+v}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),E=60*y[1]+(+y[2]||0);return E===0?0:y[0]==="+"?-E:E}(h)}],f=function(h){var v=a[h];return v&&(v.indexOf?v:v.s.concat(v.f))},d=function(h,v){var y,E=a.meridiem;if(E){for(var m=1;m<=24;m+=1)if(h.indexOf(E(m,0,v))>-1){y=m>12;break}}else y=h===(v?"pm":"PM");return y},p={A:[s,function(h){this.afternoon=d(h,!1)}],a:[s,function(h){this.afternoon=d(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[i,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[o,u("seconds")],ss:[o,u("seconds")],m:[o,u("minutes")],mm:[o,u("minutes")],H:[o,u("hours")],h:[o,u("hours")],HH:[o,u("hours")],hh:[o,u("hours")],D:[o,u("day")],DD:[i,u("day")],Do:[s,function(h){var v=a.ordinal,y=h.match(/\d+/);if(this.day=y[0],v)for(var E=1;E<=31;E+=1)v(E).replace(/\[|\]/g,"")===h&&(this.day=E)}],M:[o,u("month")],MM:[i,u("month")],MMM:[s,function(h){var v=f("months"),y=(f("monthsShort")||v.map(function(E){return E.slice(0,3)})).indexOf(h)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(h){var v=f("months").indexOf(h)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(h){this.year=l(h)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function g(h){var v,y;v=h,y=a&&a.formats;for(var E=(h=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,L,D){var O=D&&D.toUpperCase();return L||y[D]||n[D]||y[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,x,R){return x||R.slice(1)})})).match(r),m=E.length,b=0;b<m;b+=1){var w=E[b],A=p[w],_=A&&A[0],T=A&&A[1];E[b]=T?{regex:_,parser:T}:w.replace(/^\[|\]$/g,"")}return function(C){for(var L={},D=0,O=0;D<m;D+=1){var S=E[D];if(typeof S=="string")O+=S.length;else{var x=S.regex,R=S.parser,I=C.slice(O),k=x.exec(I)[0];R.call(L,k),C=C.replace(k,"")}}return function(M){var F=M.afternoon;if(F!==void 0){var j=M.hours;F?j<12&&(M.hours+=12):j===12&&(M.hours=0),delete M.afternoon}}(L),L}}return function(h,v,y){y.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(l=h.parseTwoDigitYear);var E=v.prototype,m=E.parse;E.parse=function(b){var w=b.date,A=b.utc,_=b.args;this.$u=A;var T=_[1];if(typeof T=="string"){var C=_[2]===!0,L=_[3]===!0,D=C||L,O=_[2];L&&(O=_[2]),a=this.$locale(),!C&&O&&(a=y.Ls[O]),this.$d=function(I,k,M){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*I);var F=g(k)(I),j=F.year,z=F.month,ce=F.day,ie=F.hours,de=F.minutes,_e=F.seconds,ae=F.milliseconds,we=F.zone,Se=new Date,Pe=ce||(j||z?1:Se.getDate()),Oe=j||Se.getFullYear(),rt=0;j&&!z||(rt=z>0?z-1:Se.getMonth());var nt=ie||0,Dt=de||0,At=_e||0,Tt=ae||0;return we?new Date(Date.UTC(Oe,rt,Pe,nt,Dt,At,Tt+60*we.offset*1e3)):M?new Date(Date.UTC(Oe,rt,Pe,nt,Dt,At,Tt)):new Date(Oe,rt,Pe,nt,Dt,At,Tt)}catch{return new Date("")}}(w,T,A),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),D&&w!=this.format(T)&&(this.$d=new Date("")),a={}}else if(T instanceof Array)for(var S=T.length,x=1;x<=S;x+=1){_[1]=T[x-1];var R=y.apply(this,_);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}x===S&&(this.$d=new Date(""))}else m.call(this,b)}}})}),Hy=wo((e,t)=>{(function(n,r){typeof e=="object"&&typeof t<"u"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_localeData=r()})(e,function(){return function(n,r,i){var o=r.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},a=function(f,d,p,g,h){var v=f.name?f:f.$locale(),y=s(v[d]),E=s(v[p]),m=y||E.map(function(w){return w.slice(0,g)});if(!h)return m;var b=v.weekStart;return m.map(function(w,A){return m[(A+(b||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,d){return f.formats[d]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,h,v){return h||v.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):a(f,"months")},monthsShort:function(d){return d?d.format("MMM"):a(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):a(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):a(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):a(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(f){return a(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return a(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return a(l(),"weekdaysMin","weekdays",2,f)}}})}),Wy=wo((e,t)=>{(function(n,r){typeof e=="object"&&typeof t<"u"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_timezone=r()})(e,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,l=function(d,p,g){g===void 0&&(g={});var h=new Date(d),v=function(y,E){E===void 0&&(E={});var m=E.timeZoneName||"short",b=y+"|"+m,w=r[b];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:m}),r[b]=w),w}(p,g);return v.formatToParts(h)},u=function(d,p){for(var g=l(d,p),h=[],v=0;v<g.length;v+=1){var y=g[v],E=y.type,m=y.value,b=n[E];b>=0&&(h[b]=parseInt(m,10))}var w=h[3],A=w===24?0:w,_=h[0]+"-"+h[1]+"-"+h[2]+" "+A+":"+h[4]+":"+h[5]+":000",T=+d;return(s.utc(_).valueOf()-(T-=T%1e3))/6e4},c=o.prototype;c.tz=function(d,p){d===void 0&&(d=a);var g=this.utcOffset(),h=this.toDate(),v=h.toLocaleString("en-US",{timeZone:d}),y=Math.round((h-new Date(v))/1e3/60),E=s(v).$set("millisecond",this.$ms).utcOffset(15*-Math.round(h.getTimezoneOffset()/15)-y,!0);if(p){var m=E.utcOffset();E=E.add(g-m,"minute")}return E.$x.$timezone=d,E},c.offsetName=function(d){var p=this.$x.$timezone||s.tz.guess(),g=l(this.valueOf(),p,{timeZoneName:d}).find(function(h){return h.type.toLowerCase()==="timezonename"});return g&&g.value};var f=c.startOf;c.startOf=function(d,p){if(!this.$x||!this.$x.$timezone)return f.call(this,d,p);var g=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return f.call(g,d,p).tz(this.$x.$timezone,!0)},s.tz=function(d,p,g){var h=g&&p,v=g||p||a,y=u(+s(),v);if(typeof d!="string")return s(d).tz(v);var E=function(A,_,T){var C=A-60*_*1e3,L=u(C,T);if(_===L)return[C,_];var D=u(C-=60*(L-_)*1e3,T);return L===D?[C,L]:[A-60*Math.min(L,D)*1e3,Math.max(L,D)]}(s.utc(d,h).valueOf(),y,v),m=E[0],b=E[1],w=s(m).utcOffset(b);return w.$x.$timezone=v,w},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(d){a=d}}})}),zy=wo((e,t)=>{(function(n,r){typeof e=="object"&&typeof t<"u"?t.exports=r():typeof define=="function"&&define.amd?define(r):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=r()})(e,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var l=s.prototype;a.utc=function(h){var v={date:h,utc:!0,args:arguments};return new s(v)},l.utc=function(h){var v=a(this.toDate(),{locale:this.$L,utc:!0});return h?v.add(this.utcOffset(),n):v},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),u.call(this,h)};var c=l.init;l.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else c.call(this)};var f=l.utcOffset;l.utcOffset=function(h,v){var y=this.$utils().u;if(y(h))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof h=="string"&&(h=function(w){w===void 0&&(w="");var A=w.match(r);if(!A)return null;var _=(""+A[0]).match(i)||["-",0,0],T=_[0],C=60*+_[1]+ +_[2];return C===0?0:T==="+"?C:-C}(h),h===null))return this;var E=Math.abs(h)<=16?60*h:h,m=this;if(v)return m.$offset=E,m.$u=h===0,m;if(h!==0){var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(m=this.local().add(E+b,n)).$offset=E,m.$x.$localOffset=b}else m=this.utc();return m};var d=l.format;l.format=function(h){var v=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,v)},l.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(h){return h==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var g=l.diff;l.diff=function(h,v,y){if(h&&this.$u===h.$u)return g.call(this,h,v,y);var E=this.local(),m=a(h).local();return g.call(E,m,v,y)}}})}),Yy=wo((e,t)=>{(function(){}).call(e),function(){window.Set==null&&(window.Set=function(){function n(){this.clear()}return n.prototype.clear=function(){return this.values=[]},n.prototype.has=function(r){return this.values.indexOf(r)!==-1},n.prototype.add=function(r){return this.has(r)||this.values.push(r),this},n.prototype.delete=function(r){var i;return(i=this.values.indexOf(r))===-1?!1:(this.values.splice(i,1),!0)},n.prototype.forEach=function(){var r;return(r=this.values).forEach.apply(r,arguments)},n}())}.call(e),function(n){function r(){}function i(h,v){return function(){h.apply(v,arguments)}}function o(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(h,this)}function s(h,v){for(;h._state===3;)h=h._value;return h._state===0?void h._deferreds.push(v):(h._handled=!0,void p(function(){var y=h._state===1?v.onFulfilled:v.onRejected;if(y===null)return void(h._state===1?a:l)(v.promise,h._value);var E;try{E=y(h._value)}catch(m){return void l(v.promise,m)}a(v.promise,E)}))}function a(h,v){try{if(v===h)throw new TypeError("A promise cannot be resolved with itself.");if(v&&(typeof v=="object"||typeof v=="function")){var y=v.then;if(v instanceof o)return h._state=3,h._value=v,void u(h);if(typeof y=="function")return void f(i(y,v),h)}h._state=1,h._value=v,u(h)}catch(E){l(h,E)}}function l(h,v){h._state=2,h._value=v,u(h)}function u(h){h._state===2&&h._deferreds.length===0&&setTimeout(function(){h._handled||g(h._value)},1);for(var v=0,y=h._deferreds.length;y>v;v++)s(h,h._deferreds[v]);h._deferreds=null}function c(h,v,y){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.promise=y}function f(h,v){var y=!1;try{h(function(E){y||(y=!0,a(v,E))},function(E){y||(y=!0,l(v,E))})}catch(E){if(y)return;y=!0,l(v,E)}}var d=setTimeout,p=typeof setImmediate=="function"&&setImmediate||function(h){d(h,1)},g=function(h){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",h)};o.prototype.catch=function(h){return this.then(null,h)},o.prototype.then=function(h,v){var y=new o(r);return s(this,new c(h,v,y)),y},o.all=function(h){var v=Array.prototype.slice.call(h);return new o(function(y,E){function m(A,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var T=_.then;if(typeof T=="function")return void T.call(_,function(C){m(A,C)},E)}v[A]=_,--b===0&&y(v)}catch(C){E(C)}}if(v.length===0)return y([]);for(var b=v.length,w=0;w<v.length;w++)m(w,v[w])})},o.resolve=function(h){return h&&typeof h=="object"&&h.constructor===o?h:new o(function(v){v(h)})},o.reject=function(h){return new o(function(v,y){y(h)})},o.race=function(h){return new o(function(v,y){for(var E=0,m=h.length;m>E;E++)h[E].then(v,y)})},o._setImmediateFn=function(h){p=h},o._setUnhandledRejectionFn=function(h){g=h},typeof t<"u"&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(e),function(){var n=typeof window.customElements=="object",r=typeof document.registerElement=="function",i=n||r;i||(typeof WeakMap>"u"&&function(){var o=Object.defineProperty,s=Date.now()%1e9,a=function(){this.name="__st"+(1e9*Math.random()>>>0)+(s+++"__")};a.prototype={set:function(l,u){var c=l[this.name];return c&&c[0]===l?c[1]=u:o(l,this.name,{value:[l,u],writable:!0}),this},get:function(l){var u;return(u=l[this.name])&&u[0]===l?u[1]:void 0},delete:function(l){var u=l[this.name];return u&&u[0]===l?(u[0]=u[1]=void 0,!0):!1},has:function(l){var u=l[this.name];return u?u[0]===l:!1}},window.WeakMap=a}(),function(o){function s(S){C.push(S),T||(T=!0,b(l))}function a(S){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(S)||S}function l(){T=!1;var S=C;C=[],S.sort(function(R,I){return R.uid_-I.uid_});var x=!1;S.forEach(function(R){var I=R.takeRecords();u(R),I.length&&(R.callback_(I,R),x=!0)}),x&&l()}function u(S){S.nodes_.forEach(function(x){var R=w.get(x);R&&R.forEach(function(I){I.observer===S&&I.removeTransientObservers()})})}function c(S,x){for(var R=S;R;R=R.parentNode){var I=w.get(R);if(I)for(var k=0;k<I.length;k++){var M=I[k],F=M.options;if(R===S||F.subtree){var j=x(F);j&&M.enqueue(j)}}}}function f(S){this.callback_=S,this.nodes_=[],this.records_=[],this.uid_=++L}function d(S,x){this.type=S,this.target=x,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(S){var x=new d(S.type,S.target);return x.addedNodes=S.addedNodes.slice(),x.removedNodes=S.removedNodes.slice(),x.previousSibling=S.previousSibling,x.nextSibling=S.nextSibling,x.attributeName=S.attributeName,x.attributeNamespace=S.attributeNamespace,x.oldValue=S.oldValue,x}function g(S,x){return D=new d(S,x)}function h(S){return O||(O=p(D),O.oldValue=S,O)}function v(){D=O=void 0}function y(S){return S===O||S===D}function E(S,x){return S===x?S:O&&y(S)?O:null}function m(S,x,R){this.observer=S,this.target=x,this.options=R,this.transientObservedNodes=[]}if(!o.JsMutationObserver){var b,w=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))b=setTimeout;else if(window.setImmediate)b=window.setImmediate;else{var A=[],_=String(Math.random());window.addEventListener("message",function(S){if(S.data===_){var x=A;A=[],x.forEach(function(R){R()})}}),b=function(S){A.push(S),window.postMessage(_,"*")}}var T=!1,C=[],L=0;f.prototype={observe:function(S,x){if(S=a(S),!x.childList&&!x.attributes&&!x.characterData||x.attributeOldValue&&!x.attributes||x.attributeFilter&&x.attributeFilter.length&&!x.attributes||x.characterDataOldValue&&!x.characterData)throw new SyntaxError;var R=w.get(S);R||w.set(S,R=[]);for(var I,k=0;k<R.length;k++)if(R[k].observer===this){I=R[k],I.removeListeners(),I.options=x;break}I||(I=new m(this,S,x),R.push(I),this.nodes_.push(S)),I.addListeners()},disconnect:function(){this.nodes_.forEach(function(S){for(var x=w.get(S),R=0;R<x.length;R++){var I=x[R];if(I.observer===this){I.removeListeners(),x.splice(R,1);break}}},this),this.records_=[]},takeRecords:function(){var S=this.records_;return this.records_=[],S}};var D,O;m.prototype={enqueue:function(S){var x=this.observer.records_,R=x.length;if(x.length>0){var I=x[R-1],k=E(I,S);if(k)return void(x[R-1]=k)}else s(this.observer);x[R]=S},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(S){var x=this.options;x.attributes&&S.addEventListener("DOMAttrModified",this,!0),x.characterData&&S.addEventListener("DOMCharacterDataModified",this,!0),x.childList&&S.addEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&S.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(S){var x=this.options;x.attributes&&S.removeEventListener("DOMAttrModified",this,!0),x.characterData&&S.removeEventListener("DOMCharacterDataModified",this,!0),x.childList&&S.removeEventListener("DOMNodeInserted",this,!0),(x.childList||x.subtree)&&S.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(S){if(S!==this.target){this.addListeners_(S),this.transientObservedNodes.push(S);var x=w.get(S);x||w.set(S,x=[]),x.push(this)}},removeTransientObservers:function(){var S=this.transientObservedNodes;this.transientObservedNodes=[],S.forEach(function(x){this.removeListeners_(x);for(var R=w.get(x),I=0;I<R.length;I++)if(R[I]===this){R.splice(I,1);break}},this)},handleEvent:function(S){switch(S.stopImmediatePropagation(),S.type){case"DOMAttrModified":var x=S.attrName,R=S.relatedNode.namespaceURI,I=S.target,ie=new g("attributes",I);ie.attributeName=x,ie.attributeNamespace=R;var k=S.attrChange===MutationEvent.ADDITION?null:S.prevValue;c(I,function(de){return!de.attributes||de.attributeFilter&&de.attributeFilter.length&&de.attributeFilter.indexOf(x)===-1&&de.attributeFilter.indexOf(R)===-1?void 0:de.attributeOldValue?h(k):ie});break;case"DOMCharacterDataModified":var I=S.target,ie=g("characterData",I),k=S.prevValue;c(I,function(de){return de.characterData?de.characterDataOldValue?h(k):ie:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(S.target);case"DOMNodeInserted":var M,F,j=S.target;S.type==="DOMNodeInserted"?(M=[j],F=[]):(M=[],F=[j]);var z=j.previousSibling,ce=j.nextSibling,ie=g("childList",S.target.parentNode);ie.addedNodes=M,ie.removedNodes=F,ie.previousSibling=z,ie.nextSibling=ce,c(S.relatedNode,function(de){return de.childList?ie:void 0})}v()}},o.JsMutationObserver=f,o.MutationObserver||(o.MutationObserver=f,f._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var o=Date.now();window.performance={now:function(){return Date.now()-o}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var c=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return c?function(f){return c(function(){f(performance.now())})}:function(f){return window.setTimeout(f,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(c){clearTimeout(c)}}());var s=function(){var c=document.createEvent("Event");return c.initEvent("foo",!0,!0),c.preventDefault(),c.defaultPrevented}();if(!s){var a=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(a.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var l=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||l&&typeof window.CustomEvent!="function")&&(window.CustomEvent=function(c,f){f=f||{};var d=document.createEvent("CustomEvent");return d.initCustomEvent(c,Boolean(f.bubbles),Boolean(f.cancelable),f.detail),d},window.CustomEvent.prototype=window.Event.prototype),!window.Event||l&&typeof window.Event!="function"){var u=window.Event;window.Event=function(c,f){f=f||{};var d=document.createEvent("Event");return d.initEvent(c,Boolean(f.bubbles),Boolean(f.cancelable)),d},window.Event.prototype=u.prototype}}(),window.CustomElements=window.CustomElements||{flags:{}},function(o){var s=o.flags,a=[],l=function(c){a.push(c)},u=function(){a.forEach(function(c){c(o)})};o.addModule=l,o.initializeModules=u,o.hasNative=Boolean(document.registerElement),o.isIE=/Trident/.test(navigator.userAgent),o.useNative=!s.register&&o.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(o){function s(d,p){a(d,function(g){return p(g)?!0:void l(g,p)}),l(d,p)}function a(d,p,g){var h=d.firstElementChild;if(!h)for(h=d.firstChild;h&&h.nodeType!==Node.ELEMENT_NODE;)h=h.nextSibling;for(;h;)p(h,g)!==!0&&a(h,p,g),h=h.nextElementSibling;return null}function l(d,p){for(var g=d.shadowRoot;g;)s(g,p),g=g.olderShadowRoot}function u(d,p){c(d,p,[])}function c(d,p,g){if(d=window.wrap(d),!(g.indexOf(d)>=0)){g.push(d);for(var h,v=d.querySelectorAll("link[rel="+f+"]"),y=0,E=v.length;E>y&&(h=v[y]);y++)h.import&&c(h.import,p,g);p(d)}}var f=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";o.forDocumentTree=u,o.forSubtree=s}),window.CustomElements.addModule(function(o){function s(R,I){return a(R,I)||l(R,I)}function a(R,I){return o.upgrade(R,I)?!0:void(I&&f(R))}function l(R,I){T(R,function(k){return a(k,I)?!0:void 0})}function u(R){O.push(R),D||(D=!0,setTimeout(c))}function c(){D=!1;for(var R,I=O,k=0,M=I.length;M>k&&(R=I[k]);k++)R();O=[]}function f(R){L?u(function(){d(R)}):d(R)}function d(R){R.__upgraded__&&!R.__attached&&(R.__attached=!0,R.attachedCallback&&R.attachedCallback())}function p(R){g(R),T(R,function(I){g(I)})}function g(R){L?u(function(){h(R)}):h(R)}function h(R){R.__upgraded__&&R.__attached&&(R.__attached=!1,R.detachedCallback&&R.detachedCallback())}function v(R){for(var I=R,k=window.wrap(document);I;){if(I==k)return!0;I=I.parentNode||I.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&I.host}}function y(R){if(R.shadowRoot&&!R.shadowRoot.__watched){_.dom&&console.log("watching shadow-root for: ",R.localName);for(var I=R.shadowRoot;I;)b(I),I=I.olderShadowRoot}}function E(R,I){if(_.dom){var k=I[0];if(k&&k.type==="childList"&&k.addedNodes&&k.addedNodes){for(var M=k.addedNodes[0];M&&M!==document&&!M.host;)M=M.parentNode;var F=M&&(M.URL||M._URL||M.host&&M.host.localName)||"";F=F.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",I.length,F||"")}var j=v(R);I.forEach(function(z){z.type==="childList"&&(S(z.addedNodes,function(ce){ce.localName&&s(ce,j)}),S(z.removedNodes,function(ce){ce.localName&&p(ce)}))}),_.dom&&console.groupEnd()}function m(R){for(R=window.wrap(R),R||(R=window.wrap(document));R.parentNode;)R=R.parentNode;var I=R.__observer;I&&(E(R,I.takeRecords()),c())}function b(R){if(!R.__observer){var I=new MutationObserver(E.bind(this,R));I.observe(R,{childList:!0,subtree:!0}),R.__observer=I}}function w(R){R=window.wrap(R),_.dom&&console.group("upgradeDocument: ",R.baseURI.split("/").pop());var I=R===window.wrap(document);s(R,I),b(R),_.dom&&console.groupEnd()}function A(R){C(R,w)}var _=o.flags,T=o.forSubtree,C=o.forDocumentTree,L=window.MutationObserver._isPolyfilled&&_["throttle-attached"];o.hasPolyfillMutations=L,o.hasThrottledAttached=L;var D=!1,O=[],S=Array.prototype.forEach.call.bind(Array.prototype.forEach),x=Element.prototype.createShadowRoot;x&&(Element.prototype.createShadowRoot=function(){var R=x.call(this);return window.CustomElements.watchShadow(this),R}),o.watchShadow=y,o.upgradeDocumentTree=A,o.upgradeDocument=w,o.upgradeSubtree=l,o.upgradeAll=s,o.attached=f,o.takeRecords=m}),window.CustomElements.addModule(function(o){function s(d,p){if(d.localName==="template"&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(d),!d.__upgraded__&&d.nodeType===Node.ELEMENT_NODE){var g=d.getAttribute("is"),h=o.getRegisteredDefinition(d.localName)||o.getRegisteredDefinition(g);if(h&&(g&&h.tag==d.localName||!g&&!h.extends))return a(d,h,p)}}function a(d,p,g){return f.upgrade&&console.group("upgrade:",d.localName),p.is&&d.setAttribute("is",p.is),l(d,p),d.__upgraded__=!0,c(d),g&&o.attached(d),o.upgradeSubtree(d,g),f.upgrade&&console.groupEnd(),d}function l(d,p){Object.__proto__||u(d,p.prototype,p.native),d.__proto__=p.prototype}function u(d,p,g){for(var h={},v=p;v!==g&&v!==HTMLElement.prototype;){for(var y,E=Object.getOwnPropertyNames(v),m=0;y=E[m];m++)h[y]||(Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(v,y)),h[y]=1);v=Object.getPrototypeOf(v)}}function c(d){d.createdCallback&&d.createdCallback()}var f=o.flags;o.upgrade=s,o.upgradeWithDefinition=a,o.implementPrototype=l}),window.CustomElements.addModule(function(o){function s(R,I){var k=I||{};if(!R)throw new Error("document.registerElement: first argument `name` must not be empty");if(R.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(R)+"'.");if(u(R))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(R)+"'. The type name is invalid.");if(g(R))throw new Error("DuplicateDefinitionError: a type with name '"+String(R)+"' is already registered");return k.prototype||(k.prototype=Object.create(HTMLElement.prototype)),k.__name=R.toLowerCase(),k.extends&&(k.extends=k.extends.toLowerCase()),k.lifecycle=k.lifecycle||{},k.ancestry=c(k.extends),f(k),d(k),a(k.prototype),h(k.__name,k),k.ctor=v(k),k.ctor.prototype=k.prototype,k.prototype.constructor=k.ctor,o.ready&&w(document),k.ctor}function a(R){if(!R.setAttribute._polyfilled){var I=R.setAttribute;R.setAttribute=function(M,F){l.call(this,M,F,I)};var k=R.removeAttribute;R.removeAttribute=function(M){l.call(this,M,null,k)},R.setAttribute._polyfilled=!0}}function l(R,I,k){R=R.toLowerCase();var M=this.getAttribute(R);k.apply(this,arguments);var F=this.getAttribute(R);this.attributeChangedCallback&&F!==M&&this.attributeChangedCallback(R,M,F)}function u(R){for(var I=0;I<L.length;I++)if(R===L[I])return!0}function c(R){var I=g(R);return I?c(I.extends).concat([I]):[]}function f(R){for(var I,k=R.extends,M=0;I=R.ancestry[M];M++)k=I.is&&I.tag;R.tag=k||R.__name,k&&(R.is=R.__name)}function d(R){if(!Object.__proto__){var I=HTMLElement.prototype;if(R.is){var k=document.createElement(R.tag);I=Object.getPrototypeOf(k)}for(var M,F=R.prototype,j=!1;F;)F==I&&(j=!0),M=Object.getPrototypeOf(F),M&&(F.__proto__=M),F=M;j||console.warn(R.tag+" prototype not found in prototype chain for "+R.is),R.native=I}}function p(R){return _(S(R.tag),R)}function g(R){return R?D[R.toLowerCase()]:void 0}function h(R,I){D[R]=I}function v(R){return function(){return p(R)}}function y(R,I,k){return R===O?E(I,k):x(R,I)}function E(R,I){R&&(R=R.toLowerCase()),I&&(I=I.toLowerCase());var k=g(I||R);if(k){if(R==k.tag&&I==k.is)return new k.ctor;if(!I&&!k.is)return new k.ctor}var M;return I?(M=E(R),M.setAttribute("is",I),M):(M=S(R),R.indexOf("-")>=0&&T(M,HTMLElement),M)}function m(R,I){var k=R[I];R[I]=function(){var M=k.apply(this,arguments);return A(M),M}}var b,w=(o.isIE,o.upgradeDocumentTree),A=o.upgradeAll,_=o.upgradeWithDefinition,T=o.implementPrototype,C=o.useNative,L=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],D={},O="http://www.w3.org/1999/xhtml",S=document.createElement.bind(document),x=document.createElementNS.bind(document);b=Object.__proto__||C?function(R,I){return R instanceof I}:function(R,I){if(R instanceof I)return!0;for(var k=R;k;){if(k===I.prototype)return!0;k=k.__proto__}return!1},m(Node.prototype,"cloneNode"),m(document,"importNode"),document.registerElement=s,document.createElement=E,document.createElementNS=y,o.registry=D,o.instanceof=b,o.reservedTagList=L,o.getRegisteredDefinition=g,document.register=document.registerElement}),function(o){function s(){c(window.wrap(document)),window.CustomElements.ready=!0;var p=window.requestAnimationFrame||function(g){setTimeout(g,16)};p(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var a=o.useNative,l=o.initializeModules;if(o.isIE,a){var u=function(){};o.watchShadow=u,o.upgrade=u,o.upgradeAll=u,o.upgradeDocumentTree=u,o.upgradeSubtree=u,o.takeRecords=u,o.instanceof=function(p,g){return p instanceof g}}else l();var c=o.upgradeDocumentTree,f=o.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(p){return p}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(p){p.import&&f(wrap(p.import))}),document.readyState==="complete"||o.flags.eager)s();else if(document.readyState!=="interactive"||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var d=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(d,s)}else s()}(window.CustomElements))}.call(e),function(){}.call(e),function(){var n=this;(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\uFEFF",NON_BREAKING_SPACE:"\xA0",OBJECT_REPLACEMENT_CHARACTER:"\uFFFC",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var i,o,s,a;if(typeof InputEvent>"u")return!1;for(a=["data","getTargetRanges","inputType"],i=0,o=a.length;o>i;i++)if(s=a[i],!(s in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(n);var r=n.Trix;(function(){(function(){r.BasicObject=function(){function i(){}var o,s,a;return i.proxyMethod=function(l){var u,c,f,d,p;return f=s(l),u=f.name,d=f.toMethod,p=f.toProperty,c=f.optional,this.prototype[u]=function(){var g,h;return g=d!=null?c?typeof this[d]=="function"?this[d]():void 0:this[d]():p!=null?this[p]:void 0,c?(h=g!=null?g[u]:void 0,h!=null?o.call(h,g,arguments):void 0):(h=g[u],o.call(h,g,arguments))}},s=function(l){var u,c;if(!(c=l.match(a)))throw new Error("can't parse @proxyMethod expression: "+l);return u={name:c[4]},c[2]!=null?u.toMethod=c[1]:u.toProperty=c[1],c[3]!=null&&(u.optional=!0),u},o=Function.prototype.apply,a=/^(.+?)(\(\))?(\?)?\.(.+?)$/,i}()}).call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Object=function(s){function a(){this.id=++l}var l;return i(a,s),l=0,a.fromJSONString=function(u){return this.fromJSON(JSON.parse(u))},a.prototype.hasSameConstructorAs=function(u){return this.constructor===(u!=null?u.constructor:void 0)},a.prototype.isEqualTo=function(u){return this===u},a.prototype.inspect=function(){var u,c,f;return u=function(){var d,p,g;p=(d=this.contentsForInspection())!=null?d:{},g=[];for(c in p)f=p[c],g.push(c+"="+f);return g}.call(this),"#<"+this.constructor.name+":"+this.id+(u.length?" "+u.join(", "):"")+">"},a.prototype.contentsForInspection=function(){},a.prototype.toJSONString=function(){return JSON.stringify(this)},a.prototype.toUTF16String=function(){return r.UTF16String.box(this)},a.prototype.getCacheKey=function(){return this.id.toString()},a}(r.BasicObject)}.call(this),function(){r.extend=function(i){var o,s;for(o in i)s=i[o],this[o]=s;return this}}.call(this),function(){r.extend({defer:function(i){return setTimeout(i,1)}})}.call(this),function(){var i,o;r.extend({normalizeSpaces:function(s){return s.replace(RegExp(""+r.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+r.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(s){return s.replace(/\r\n/g,`
`)},breakableWhitespacePattern:RegExp("[^\\S"+r.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(s){return s.replace(RegExp(""+r.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(s,a){var l,u,c,f;return s=r.UTF16String.box(s),a=r.UTF16String.box(a),a.length<s.length?(u=o(s,a),f=u[0],l=u[1]):(c=o(a,s),l=c[0],f=c[1]),{added:l,removed:f}}}),o=function(s,a){var l,u,c,f,d;return s.isEqualTo(a)?["",""]:(u=i(s,a),f=u.utf16String.length,c=f?(d=u.offset,l=s.codepoints.slice(0,d).concat(s.codepoints.slice(d+f)),i(a,r.UTF16String.fromCodepoints(l))):i(a,s),[u.utf16String.toString(),c.utf16String.toString()])},i=function(s,a){var l,u,c;for(l=0,u=s.length,c=a.length;u>l&&s.charAt(l).isEqualTo(a.charAt(l));)l++;for(;u>l+1&&s.charAt(u-1).isEqualTo(a.charAt(c-1));)u--,c--;return{utf16String:s.slice(l,u),offset:l}}}.call(this),function(){r.extend({copyObject:function(i){var o,s,a;i==null&&(i={}),s={};for(o in i)a=i[o],s[o]=a;return s},objectsAreEqual:function(i,o){var s,a;if(i==null&&(i={}),o==null&&(o={}),Object.keys(i).length!==Object.keys(o).length)return!1;for(s in i)if(a=i[s],a!==o[s])return!1;return!0}})}.call(this),function(){var i=[].slice;r.extend({arraysAreEqual:function(o,s){var a,l,u,c;if(o==null&&(o=[]),s==null&&(s=[]),o.length!==s.length)return!1;for(l=a=0,u=o.length;u>a;l=++a)if(c=o[l],c!==s[l])return!1;return!0},arrayStartsWith:function(o,s){return o==null&&(o=[]),s==null&&(s=[]),r.arraysAreEqual(o.slice(0,s.length),s)},spliceArray:function(){var o,s,a;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],a=s.slice(0),a.splice.apply(a,o),a},summarizeArrayChange:function(o,s){var a,l,u,c,f,d,p,g,h,v,y;for(o==null&&(o=[]),s==null&&(s=[]),a=[],v=[],u=new Set,c=0,p=o.length;p>c;c++)y=o[c],u.add(y);for(l=new Set,f=0,g=s.length;g>f;f++)y=s[f],l.add(y),u.has(y)||a.push(y);for(d=0,h=o.length;h>d;d++)y=o[d],l.has(y)||v.push(y);return{added:a,removed:v}}})}.call(this),function(){var i,o,s,a;i=null,o=null,a=null,s=null,r.extend({getAllAttributeNames:function(){return i!=null?i:i=r.getTextAttributeNames().concat(r.getBlockAttributeNames())},getBlockConfig:function(l){return r.config.blockAttributes[l]},getBlockAttributeNames:function(){return o!=null?o:o=Object.keys(r.config.blockAttributes)},getTextConfig:function(l){return r.config.textAttributes[l]},getTextAttributeNames:function(){return a!=null?a:a=Object.keys(r.config.textAttributes)},getListAttributeNames:function(){var l,u;return s!=null?s:s=function(){var c,f;c=r.config.blockAttributes,f=[];for(l in c)u=c[l].listAttribute,u!=null&&f.push(u);return f}()}})}.call(this),function(){var i,o,s,a,l,u=[].indexOf||function(c){for(var f=0,d=this.length;d>f;f++)if(f in this&&this[f]===c)return f;return-1};i=document.documentElement,o=(s=(a=(l=i.matchesSelector)!=null?l:i.webkitMatchesSelector)!=null?a:i.msMatchesSelector)!=null?s:i.mozMatchesSelector,r.extend({handleEvent:function(c,f){var d,p,g,h,v,y,E,m,b,w,A;return E=f!=null?f:{},v=E.onElement,h=E.matchingSelector,A=E.withCallback,g=E.inPhase,y=E.preventDefault,b=E.times,d=v!=null?v:i,m=h,w=g==="capturing",p=function(_){var T;return b!=null&&--b===0&&p.destroy(),T=r.findClosestElementFromNode(_.target,{matchingSelector:m}),T!=null&&(A!=null&&A.call(T,_,T),y)?_.preventDefault():void 0},p.destroy=function(){return d.removeEventListener(c,p,w)},d.addEventListener(c,p,w),p},handleEventOnce:function(c,f){return f==null&&(f={}),f.times=1,r.handleEvent(c,f)},triggerEvent:function(c,f){var d,p,g,h,v,y,E;return E=f!=null?f:{},y=E.onElement,p=E.bubbles,g=E.cancelable,d=E.attributes,h=y!=null?y:i,p=p!==!1,g=g!==!1,v=document.createEvent("Events"),v.initEvent(c,p,g),d!=null&&r.extend.call(v,d),h.dispatchEvent(v)},elementMatchesSelector:function(c,f){return(c!=null?c.nodeType:void 0)===1?o.call(c,f):void 0},findClosestElementFromNode:function(c,f){var d,p,g;for(p=f!=null?f:{},d=p.matchingSelector,g=p.untilNode;c!=null&&c.nodeType!==Node.ELEMENT_NODE;)c=c.parentNode;if(c!=null){if(d==null)return c;if(c.closest&&g==null)return c.closest(d);for(;c&&c!==g;){if(r.elementMatchesSelector(c,d))return c;c=c.parentNode}}},findInnerElement:function(c){for(;c!=null&&c.firstElementChild;)c=c.firstElementChild;return c},innerElementIsActive:function(c){return document.activeElement!==c&&r.elementContainsNode(c,document.activeElement)},elementContainsNode:function(c,f){if(c&&f)for(;f;){if(f===c)return!0;f=f.parentNode}},findNodeFromContainerAndOffset:function(c,f){var d;if(c)return c.nodeType===Node.TEXT_NODE?c:f===0?(d=c.firstChild)!=null?d:c:c.childNodes.item(f-1)},findElementFromContainerAndOffset:function(c,f){var d;return d=r.findNodeFromContainerAndOffset(c,f),r.findClosestElementFromNode(d)},findChildIndexOfNode:function(c){var f;if(c!=null&&c.parentNode){for(f=0;c=c.previousSibling;)f++;return f}},removeNode:function(c){var f;return c!=null&&(f=c.parentNode)!=null?f.removeChild(c):void 0},walkTree:function(c,f){var d,p,g,h,v;return g=f!=null?f:{},p=g.onlyNodesOfType,h=g.usingFilter,d=g.expandEntityReferences,v=function(){switch(p){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(c,v,h!=null?h:null,d===!0)},tagName:function(c){var f;return c!=null&&(f=c.tagName)!=null?f.toLowerCase():void 0},makeElement:function(c,f){var d,p,g,h,v,y,E,m,b,w,A,_,T,C;if(f==null&&(f={}),typeof c=="object"?(f=c,c=f.tagName):f={attributes:f},g=document.createElement(c),f.editable!=null&&(f.attributes==null&&(f.attributes={}),f.attributes.contenteditable=f.editable),f.attributes){b=f.attributes;for(y in b)C=b[y],g.setAttribute(y,C)}if(f.style){w=f.style;for(y in w)C=w[y],g.style[y]=C}if(f.data){A=f.data;for(y in A)C=A[y],g.dataset[y]=C}if(f.className)for(_=f.className.split(" "),h=0,E=_.length;E>h;h++)p=_[h],g.classList.add(p);if(f.textContent&&(g.textContent=f.textContent),f.childNodes)for(T=[].concat(f.childNodes),v=0,m=T.length;m>v;v++)d=T[v],g.appendChild(d);return g},getBlockTagNames:function(){var c,f;return r.blockTagNames!=null?r.blockTagNames:r.blockTagNames=function(){var d,p;d=r.config.blockAttributes,p=[];for(c in d)f=d[c].tagName,f&&p.push(f);return p}()},nodeIsBlockContainer:function(c){return r.nodeIsBlockStartComment(c!=null?c.firstChild:void 0)},nodeProbablyIsBlockContainer:function(c){var f,d;return f=r.tagName(c),u.call(r.getBlockTagNames(),f)>=0&&(d=r.tagName(c.firstChild),u.call(r.getBlockTagNames(),d)<0)},nodeIsBlockStart:function(c,f){var d;return d=(f!=null?f:{strict:!0}).strict,d?r.nodeIsBlockStartComment(c):r.nodeIsBlockStartComment(c)||!r.nodeIsBlockStartComment(c.firstChild)&&r.nodeProbablyIsBlockContainer(c)},nodeIsBlockStartComment:function(c){return r.nodeIsCommentNode(c)&&(c!=null?c.data:void 0)==="block"},nodeIsCommentNode:function(c){return(c!=null?c.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(c,f){var d;return d=(f!=null?f:{}).name,c?r.nodeIsTextNode(c)?c.data===r.ZERO_WIDTH_SPACE?d?c.parentNode.dataset.trixCursorTarget===d:!0:void 0:r.nodeIsCursorTarget(c.firstChild):void 0},nodeIsAttachmentElement:function(c){return r.elementMatchesSelector(c,r.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(c){return r.nodeIsTextNode(c)&&(c!=null?c.data:void 0)===""},nodeIsTextNode:function(c){return(c!=null?c.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var i,o,s,a,l;i=r.copyObject,a=r.objectsAreEqual,r.extend({normalizeRange:s=function(u){var c;if(u!=null)return Array.isArray(u)||(u=[u,u]),[o(u[0]),o((c=u[1])!=null?c:u[0])]},rangeIsCollapsed:function(u){var c,f,d;if(u!=null)return f=s(u),d=f[0],c=f[1],l(d,c)},rangesAreEqual:function(u,c){var f,d,p,g,h,v;if(u!=null&&c!=null)return p=s(u),d=p[0],f=p[1],g=s(c),v=g[0],h=g[1],l(d,v)&&l(f,h)}}),o=function(u){return typeof u=="number"?u:i(u)},l=function(u,c){return typeof u=="number"?u===c:a(u,c)}}.call(this),function(){var i,o,s,a,l,u,c;r.registerElement=function(f,d){var p,g;return d==null&&(d={}),f=f.toLowerCase(),d=c(d),g=u(d),(p=g.defaultCSS)&&(delete g.defaultCSS,a(p,f)),l(f,g)},a=function(f,d){var p;return p=s(d),p.textContent=f.replace(/%t/g,d)},s=function(f){var d,p;return d=document.createElement("style"),d.setAttribute("type","text/css"),d.setAttribute("data-tag-name",f.toLowerCase()),(p=i())&&d.setAttribute("nonce",p),document.head.insertBefore(d,document.head.firstChild),d},i=function(){var f;return(f=o("trix-csp-nonce")||o("csp-nonce"))?f.getAttribute("content"):void 0},o=function(f){return document.head.querySelector("meta[name="+f+"]")},u=function(f){var d,p,g;p={};for(d in f)g=f[d],p[d]=typeof g=="function"?{value:g}:g;return p},c=function(){var f;return f=function(d){var p,g,h,v,y;for(p={},y=["initialize","connect","disconnect"],g=0,v=y.length;v>g;g++)h=y[g],p[h]=d[h],delete d[h];return p},window.customElements?function(d){var p,g,h,v,y;return y=f(d),h=y.initialize,p=y.connect,g=y.disconnect,h&&(v=p,p=function(){return this.initialized||(this.initialized=!0,h.call(this)),v!=null?v.call(this):void 0}),p&&(d.connectedCallback=p),g&&(d.disconnectedCallback=g),d}:function(d){var p,g,h,v;return v=f(d),h=v.initialize,p=v.connect,g=v.disconnect,h&&(d.createdCallback=h),p&&(d.attachedCallback=p),g&&(d.detachedCallback=g),d}}(),l=function(){return window.customElements?function(f,d){var p;return p=function(){return typeof Reflect=="object"?Reflect.construct(HTMLElement,[],p):HTMLElement.apply(this)},Object.setPrototypeOf(p.prototype,HTMLElement.prototype),Object.setPrototypeOf(p,HTMLElement),Object.defineProperties(p.prototype,d),window.customElements.define(f,p),p}:function(f,d){var p,g;return g=Object.create(HTMLElement.prototype,d),p=document.registerElement(f,{prototype:g}),Object.defineProperty(g,"constructor",{value:p}),p}}()}.call(this),function(){var i,o;r.extend({getDOMSelection:function(){var s;return s=window.getSelection(),s.rangeCount>0?s:void 0},getDOMRange:function(){var s,a;return(s=(a=r.getDOMSelection())!=null?a.getRangeAt(0):void 0)&&!i(s)?s:void 0},setDOMRange:function(s){var a;return a=window.getSelection(),a.removeAllRanges(),a.addRange(s),r.selectionChangeObserver.update()}}),i=function(s){return o(s.startContainer)||o(s.endContainer)},o=function(s){return!Object.getPrototypeOf(s)}}.call(this),function(){var i;i={"application/x-trix-feature-detection":"test"},r.extend({dataTransferIsPlainText:function(o){var s,a,l;return l=o.getData("text/plain"),a=o.getData("text/html"),l&&a?(s=new DOMParser().parseFromString(a,"text/html").body,s.textContent===l?!s.querySelector("*"):void 0):l!=null?l.length:void 0},dataTransferIsWritable:function(o){var s,a;if((o!=null?o.setData:void 0)!=null){for(s in i)if(a=i[s],!function(){try{return o.setData(s,a),o.getData(s)===a}catch{}}())return;return!0}},keyEventIsKeyboardCommand:function(){return/Mac|^iP/.test(navigator.platform)?function(o){return o.metaKey}:function(o){return o.ctrlKey}}()})}.call(this),function(){r.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:function(){var i,o,s,a;return o=r.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),i=r.makeElement("form"),i.appendChild(o),s=function(){try{return new FormData(i).has(o.dirName)}catch{}}(),a=function(){try{return o.matches(":dir(ltr),:dir(rtl)")}catch{}}(),s?function(l){return o.value=l,new FormData(i).get(o.dirName)}:a?function(l){return o.value=l,o.matches(":dir(rtl)")?"rtl":"ltr"}:function(l){var u;return u=l.trim().charAt(0),r.RTL_PATTERN.test(u)?"rtl":"ltr"}}()})}.call(this),function(){}.call(this),function(){var i,o=function(a,l){function u(){this.constructor=a}for(var c in l)s.call(l,c)&&(a[c]=l[c]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;i=r.arraysAreEqual,r.Hash=function(a){function l(g){g==null&&(g={}),this.values=c(g),l.__super__.constructor.apply(this,arguments)}var u,c,f,d,p;return o(l,a),l.fromCommonAttributesOfObjects=function(g){var h,v,y,E,m,b;if(g==null&&(g=[]),!g.length)return new this;for(h=u(g[0]),y=h.getKeys(),b=g.slice(1),v=0,E=b.length;E>v;v++)m=b[v],y=h.getKeysCommonToHash(u(m)),h=h.slice(y);return h},l.box=function(g){return u(g)},l.prototype.add=function(g,h){return this.merge(d(g,h))},l.prototype.remove=function(g){return new r.Hash(c(this.values,g))},l.prototype.get=function(g){return this.values[g]},l.prototype.has=function(g){return g in this.values},l.prototype.merge=function(g){return new r.Hash(f(this.values,p(g)))},l.prototype.slice=function(g){var h,v,y,E;for(E={},h=0,y=g.length;y>h;h++)v=g[h],this.has(v)&&(E[v]=this.values[v]);return new r.Hash(E)},l.prototype.getKeys=function(){return Object.keys(this.values)},l.prototype.getKeysCommonToHash=function(g){var h,v,y,E,m;for(g=u(g),E=this.getKeys(),m=[],h=0,y=E.length;y>h;h++)v=E[h],this.values[v]===g.values[v]&&m.push(v);return m},l.prototype.isEqualTo=function(g){return i(this.toArray(),u(g).toArray())},l.prototype.isEmpty=function(){return this.getKeys().length===0},l.prototype.toArray=function(){var g,h,v;return(this.array!=null?this.array:this.array=function(){var y;h=[],y=this.values;for(g in y)v=y[g],h.push(g,v);return h}.call(this)).slice(0)},l.prototype.toObject=function(){return c(this.values)},l.prototype.toJSON=function(){return this.toObject()},l.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},d=function(g,h){var v;return v={},v[g]=h,v},f=function(g,h){var v,y,E;y=c(g);for(v in h)E=h[v],y[v]=E;return y},c=function(g,h){var v,y,E,m,b;for(m={},b=Object.keys(g).sort(),v=0,E=b.length;E>v;v++)y=b[v],y!==h&&(m[y]=g[y]);return m},u=function(g){return g instanceof r.Hash?g:new r.Hash(g)},p=function(g){return g instanceof r.Hash?g.values:g},l}(r.Object)}.call(this),function(){r.ObjectGroup=function(){function i(o,s){var a,l;this.objects=o!=null?o:[],l=s.depth,a=s.asTree,a&&(this.depth=l,this.objects=this.constructor.groupObjects(this.objects,{asTree:a,depth:this.depth+1}))}return i.groupObjects=function(o,s){var a,l,u,c,f,d,p,g,h;for(o==null&&(o=[]),h=s!=null?s:{},u=h.depth,a=h.asTree,a&&u==null&&(u=0),g=[],f=0,d=o.length;d>f;f++){if(p=o[f],c){if((typeof p.canBeGrouped=="function"?p.canBeGrouped(u):void 0)&&(typeof(l=c[c.length-1]).canBeGroupedWith=="function"?l.canBeGroupedWith(p,u):void 0)){c.push(p);continue}g.push(new this(c,{depth:u,asTree:a})),c=null}typeof p.canBeGrouped=="function"&&p.canBeGrouped(u)?c=[p]:g.push(p)}return c&&g.push(new this(c,{depth:u,asTree:a})),g},i.prototype.getObjects=function(){return this.objects},i.prototype.getDepth=function(){return this.depth},i.prototype.getCacheKey=function(){var o,s,a,l,u;for(s=["objectGroup"],u=this.getObjects(),o=0,a=u.length;a>o;o++)l=u[o],s.push(l.getCacheKey());return s.join("/")},i}()}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ObjectMap=function(s){function a(l){var u,c,f,d,p;for(l==null&&(l=[]),this.objects={},f=0,d=l.length;d>f;f++)p=l[f],c=JSON.stringify(p),(u=this.objects)[c]==null&&(u[c]=p)}return i(a,s),a.prototype.find=function(l){var u;return u=JSON.stringify(l),this.objects[u]},a}(r.BasicObject)}.call(this),function(){r.ElementStore=function(){function i(s){this.reset(s)}var o;return i.prototype.add=function(s){var a;return a=o(s),this.elements[a]=s},i.prototype.remove=function(s){var a,l;return a=o(s),(l=this.elements[a])?(delete this.elements[a],l):void 0},i.prototype.reset=function(s){var a,l,u;for(s==null&&(s=[]),this.elements={},l=0,u=s.length;u>l;l++)a=s[l],this.add(a);return s},o=function(s){return s.dataset.trixStoreKey},i}()}.call(this),function(){}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Operation=function(s){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,s),a.prototype.isPerforming=function(){return this.performing===!0},a.prototype.hasPerformed=function(){return this.performed===!0},a.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},a.prototype.hasFailed=function(){return this.performed&&!this.succeeded},a.prototype.getPromise=function(){return this.promise!=null?this.promise:this.promise=new Promise(function(l){return function(u,c){return l.performing=!0,l.perform(function(f,d){return l.succeeded=f,l.performing=!1,l.performed=!0,l.succeeded?u(d):c(d)})}}(this))},a.prototype.perform=function(l){return l(!1)},a.prototype.release=function(){var l;return(l=this.promise)!=null&&typeof l.cancel=="function"&&l.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},a.proxyMethod("getPromise().then"),a.proxyMethod("getPromise().catch"),a}(r.BasicObject)}.call(this),function(){var i,o,s,a,l,u=function(f,d){function p(){this.constructor=f}for(var g in d)c.call(d,g)&&(f[g]=d[g]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},c={}.hasOwnProperty;r.UTF16String=function(f){function d(p,g){this.ucs2String=p,this.codepoints=g,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return u(d,f),d.box=function(p){return p==null&&(p=""),p instanceof this?p:this.fromUCS2String(p!=null?p.toString():void 0)},d.fromUCS2String=function(p){return new this(p,a(p))},d.fromCodepoints=function(p){return new this(l(p),p)},d.prototype.offsetToUCS2Offset=function(p){return l(this.codepoints.slice(0,Math.max(0,p))).length},d.prototype.offsetFromUCS2Offset=function(p){return a(this.ucs2String.slice(0,Math.max(0,p))).length},d.prototype.slice=function(){var p;return this.constructor.fromCodepoints((p=this.codepoints).slice.apply(p,arguments))},d.prototype.charAt=function(p){return this.slice(p,p+1)},d.prototype.isEqualTo=function(p){return this.constructor.box(p).ucs2String===this.ucs2String},d.prototype.toJSON=function(){return this.ucs2String},d.prototype.getCacheKey=function(){return this.ucs2String},d.prototype.toString=function(){return this.ucs2String},d}(r.BasicObject),i=(typeof Array.from=="function"?Array.from("\u{1F47C}").length:void 0)===1,o=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,s=(typeof String.fromCodePoint=="function"?String.fromCodePoint(32,128124):void 0)===" \u{1F47C}",a=i&&o?function(f){return Array.from(f).map(function(d){return d.codePointAt(0)})}:function(f){var d,p,g,h,v;for(h=[],d=0,g=f.length;g>d;)v=f.charCodeAt(d++),v>=55296&&56319>=v&&g>d&&(p=f.charCodeAt(d++),(64512&p)===56320?v=((1023&v)<<10)+(1023&p)+65536:d--),h.push(v);return h},l=s?function(f){return String.fromCodePoint.apply(String,f)}:function(f){var d,p,g;return d=function(){var h,v,y;for(y=[],h=0,v=f.length;v>h;h++)g=f[h],p="",g>65535&&(g-=65536,p+=String.fromCharCode(g>>>10&1023|55296),g=56320|1023&g),y.push(p+String.fromCharCode(g));return y}(),d.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){r.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){r.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var i;r.config.blockAttributes=i={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(o){return r.tagName(o.parentNode)===i[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(o){return r.tagName(o.parentNode)===i[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var i,o;i=r.config.lang,o=[i.bytes,i.KB,i.MB,i.GB,i.TB,i.PB],r.config.fileSize={prefix:"IEC",precision:2,formatter:function(s){var a,l,u,c,f;switch(s){case 0:return"0 "+i.bytes;case 1:return"1 "+i.byte;default:return a=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),l=Math.floor(Math.log(s)/Math.log(a)),u=s/Math.pow(a,l),c=u.toFixed(this.precision),f=c.replace(/0*$/,"").replace(/\.$/,""),f+" "+o[l]}}}}.call(this),function(){r.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(i){var o;return o=window.getComputedStyle(i),o.fontWeight==="bold"||o.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(i){var o;return o=window.getComputedStyle(i),o.fontStyle==="italic"}},href:{groupTagName:"a",parser:function(i){var o,s,a;return o=r.AttachmentView.attachmentSelector,a="a:not("+o+")",(s=r.findClosestElementFromNode(i,{matchingSelector:a}))?s.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var i,o,s,a,l;l="[data-trix-serialize=false]",a=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],o="data-trix-serialized-attributes",s="["+o+"]",i=new RegExp("<!--block-->","g"),r.extend({serializers:{"application/json":function(u){var c;if(u instanceof r.Document)c=u;else{if(!(u instanceof HTMLElement))throw new Error("unserializable object");c=r.Document.fromHTML(u.innerHTML)}return c.toSerializableDocument().toJSONString()},"text/html":function(u){var c,f,d,p,g,h,v,y,E,m,b,w,A,_,T,C,L;if(u instanceof r.Document)p=r.DocumentView.render(u);else{if(!(u instanceof HTMLElement))throw new Error("unserializable object");p=u.cloneNode(!0)}for(_=p.querySelectorAll(l),g=0,E=_.length;E>g;g++)d=_[g],r.removeNode(d);for(h=0,m=a.length;m>h;h++)for(c=a[h],T=p.querySelectorAll("["+c+"]"),v=0,b=T.length;b>v;v++)d=T[v],d.removeAttribute(c);for(C=p.querySelectorAll(s),y=0,w=C.length;w>y;y++){d=C[y];try{f=JSON.parse(d.getAttribute(o)),d.removeAttribute(o);for(A in f)L=f[A],d.setAttribute(A,L)}catch{}}return p.innerHTML.replace(i,"")}},deserializers:{"application/json":function(u){return r.Document.fromJSONString(u)},"text/html":function(u){return r.Document.fromHTML(u)}},serializeToContentType:function(u,c){var f;if(f=r.serializers[c])return f(u);throw new Error("unknown content type: "+c)},deserializeFromContentType:function(u,c){var f;if(f=r.deserializers[c])return f(u);throw new Error("unknown content type: "+c)}})}.call(this),function(){var i;i=r.config.lang,r.config.toolbar={getDefaultHTML:function(){return`<div class="trix-button-row">
  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`+i.bold+'" tabindex="-1">'+i.bold+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`+i.italic+'" tabindex="-1">'+i.italic+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`+i.strike+'" tabindex="-1">'+i.strike+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`+i.link+'" tabindex="-1">'+i.link+`</button>
  </span>

  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`+i.heading1+'" tabindex="-1">'+i.heading1+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`+i.quote+'" tabindex="-1">'+i.quote+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`+i.code+'" tabindex="-1">'+i.code+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`+i.bullets+'" tabindex="-1">'+i.bullets+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`+i.numbers+'" tabindex="-1">'+i.numbers+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`+i.outdent+'" tabindex="-1">'+i.outdent+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`+i.indent+'" tabindex="-1">'+i.indent+`</button>
  </span>

  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`+i.attachFiles+'" tabindex="-1">'+i.attachFiles+`</button>
  </span>

  <span class="trix-button-group-spacer"></span>

  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`+i.undo+'" tabindex="-1">'+i.undo+`</button>
    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`+i.redo+'" tabindex="-1">'+i.redo+`</button>
  </span>
</div>

<div class="trix-dialogs" data-trix-dialogs>
  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
    <div class="trix-dialog__link-fields">
      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`+i.urlPlaceholder+'" aria-label="'+i.url+`" required data-trix-input>
      <div class="trix-button-group">
        <input type="button" class="trix-button trix-button--dialog" value="`+i.link+`" data-trix-method="setAttribute">
        <input type="button" class="trix-button trix-button--dialog" value="`+i.unlink+`" data-trix-method="removeAttribute">
      </div>
    </div>
  </div>
</div>`}}}.call(this),function(){r.config.undoInterval=5e3}.call(this),function(){r.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){r.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){r.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&r.browser.supportsInputEvents?2:0},pickFiles:function(i){var o;return o=r.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId}),o.addEventListener("change",function(){return i(o.files),r.removeNode(o)}),r.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(o),o.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){r.registerElement("trix-toolbar",{defaultCSS:`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`,initialize:function(){return this.innerHTML===""?this.innerHTML=r.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var i=function(a,l){function u(){this.constructor=a}for(var c in l)o.call(l,c)&&(a[c]=l[c]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},o={}.hasOwnProperty,s=[].indexOf||function(a){for(var l=0,u=this.length;u>l;l++)if(l in this&&this[l]===a)return l;return-1};r.ObjectView=function(a){function l(u,c){this.object=u,this.options=c!=null?c:{},this.childViews=[],this.rootView=this}return i(l,a),l.prototype.getNodes=function(){var u,c,f,d,p;for(this.nodes==null&&(this.nodes=this.createNodes()),d=this.nodes,p=[],u=0,c=d.length;c>u;u++)f=d[u],p.push(f.cloneNode(!0));return p},l.prototype.invalidate=function(){var u;return this.nodes=null,this.childViews=[],(u=this.parentView)!=null?u.invalidate():void 0},l.prototype.invalidateViewForObject=function(u){var c;return(c=this.findViewForObject(u))!=null?c.invalidate():void 0},l.prototype.findOrCreateCachedChildView=function(u,c){var f;return(f=this.getCachedViewForObject(c))?this.recordChildView(f):(f=this.createChildView.apply(this,arguments),this.cacheViewForObject(f,c)),f},l.prototype.createChildView=function(u,c,f){var d;return f==null&&(f={}),c instanceof r.ObjectGroup&&(f.viewClass=u,u=r.ObjectGroupView),d=new u(c,f),this.recordChildView(d)},l.prototype.recordChildView=function(u){return u.parentView=this,u.rootView=this.rootView,this.childViews.push(u),u},l.prototype.getAllChildViews=function(){var u,c,f,d,p;for(p=[],d=this.childViews,c=0,f=d.length;f>c;c++)u=d[c],p.push(u),p=p.concat(u.getAllChildViews());return p},l.prototype.findElement=function(){return this.findElementForObject(this.object)},l.prototype.findElementForObject=function(u){var c;return(c=u!=null?u.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+c+"']"):void 0},l.prototype.findViewForObject=function(u){var c,f,d,p;for(d=this.getAllChildViews(),c=0,f=d.length;f>c;c++)if(p=d[c],p.object===u)return p},l.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?this.viewCache!=null?this.viewCache:this.viewCache={}:void 0},l.prototype.isViewCachingEnabled=function(){return this.shouldCacheViews!==!1},l.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},l.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},l.prototype.getCachedViewForObject=function(u){var c;return(c=this.getViewCache())!=null?c[u.getCacheKey()]:void 0},l.prototype.cacheViewForObject=function(u,c){var f;return(f=this.getViewCache())!=null?f[c.getCacheKey()]=u:void 0},l.prototype.garbageCollectCachedViews=function(){var u,c,f,d,p,g;if(u=this.getViewCache()){g=this.getAllChildViews().concat(this),f=function(){var h,v,y;for(y=[],h=0,v=g.length;v>h;h++)p=g[h],y.push(p.object.getCacheKey());return y}(),d=[];for(c in u)s.call(f,c)<0&&d.push(delete u[c]);return d}},l}(r.BasicObject)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ObjectGroupView=function(s){function a(){a.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return i(a,s),a.prototype.getChildViews=function(){var l,u,c,f;if(!this.childViews.length)for(f=this.objectGroup.getObjects(),l=0,u=f.length;u>l;l++)c=f[l],this.findOrCreateCachedChildView(this.viewClass,c,this.options);return this.childViews},a.prototype.createNodes=function(){var l,u,c,f,d,p,g,h,v;for(l=this.createContainerElement(),g=this.getChildViews(),u=0,f=g.length;f>u;u++)for(v=g[u],h=v.getNodes(),c=0,d=h.length;d>c;c++)p=h[c],l.appendChild(p);return[l]},a.prototype.createContainerElement=function(l){return l==null&&(l=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(l)},a}(r.ObjectView)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Controller=function(s){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,s),a}(r.BasicObject)}.call(this),function(){var i,o,s,a,l,u,c=function(g,h){return function(){return g.apply(h,arguments)}},f=function(g,h){function v(){this.constructor=g}for(var y in h)d.call(h,y)&&(g[y]=h[y]);return v.prototype=h.prototype,g.prototype=new v,g.__super__=h.prototype,g},d={}.hasOwnProperty,p=[].indexOf||function(g){for(var h=0,v=this.length;v>h;h++)if(h in this&&this[h]===g)return h;return-1};i=r.findClosestElementFromNode,s=r.nodeIsEmptyTextNode,o=r.nodeIsBlockStartComment,a=r.normalizeSpaces,l=r.summarizeStringChange,u=r.tagName,r.MutationObserver=function(g){function h(b){this.element=b,this.didMutate=c(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var v,y,E,m;return f(h,g),y="data-trix-mutable",E="["+y+"]",m={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},h.prototype.start=function(){return this.reset(),this.observer.observe(this.element,m)},h.prototype.stop=function(){return this.observer.disconnect()},h.prototype.didMutate=function(b){var w,A;return(w=this.mutations).push.apply(w,this.findSignificantMutations(b)),this.mutations.length?((A=this.delegate)!=null&&typeof A.elementDidMutate=="function"&&A.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},h.prototype.reset=function(){return this.mutations=[]},h.prototype.findSignificantMutations=function(b){var w,A,_,T;for(T=[],w=0,A=b.length;A>w;w++)_=b[w],this.mutationIsSignificant(_)&&T.push(_);return T},h.prototype.mutationIsSignificant=function(b){var w,A,_,T;if(this.nodeIsMutable(b.target))return!1;for(T=this.nodesModifiedByMutation(b),w=0,A=T.length;A>w;w++)if(_=T[w],this.nodeIsSignificant(_))return!0;return!1},h.prototype.nodeIsSignificant=function(b){return b!==this.element&&!this.nodeIsMutable(b)&&!s(b)},h.prototype.nodeIsMutable=function(b){return i(b,{matchingSelector:E})},h.prototype.nodesModifiedByMutation=function(b){var w;switch(w=[],b.type){case"attributes":b.attributeName!==y&&w.push(b.target);break;case"characterData":w.push(b.target.parentNode),w.push(b.target);break;case"childList":w.push.apply(w,b.addedNodes),w.push.apply(w,b.removedNodes)}return w},h.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},h.prototype.getTextMutationSummary=function(){var b,w,A,_,T,C,L,D,O,S,x;for(D=this.getTextChangesFromCharacterData(),A=D.additions,T=D.deletions,x=this.getTextChangesFromChildList(),O=x.additions,C=0,L=O.length;L>C;C++)w=O[C],p.call(A,w)<0&&A.push(w);return T.push.apply(T,x.deletions),S={},(b=A.join(""))&&(S.textAdded=b),(_=T.join(""))&&(S.textDeleted=_),S},h.prototype.getMutationsByType=function(b){var w,A,_,T,C;for(T=this.mutations,C=[],w=0,A=T.length;A>w;w++)_=T[w],_.type===b&&C.push(_);return C},h.prototype.getTextChangesFromChildList=function(){var b,w,A,_,T,C,L,D,O,S,x;for(b=[],L=[],C=this.getMutationsByType("childList"),w=0,_=C.length;_>w;w++)T=C[w],b.push.apply(b,T.addedNodes),L.push.apply(L,T.removedNodes);return D=b.length===0&&L.length===1&&o(L[0]),D?(S=[],x=[`
`]):(S=v(b),x=v(L)),{additions:function(){var R,I,k;for(k=[],A=R=0,I=S.length;I>R;A=++R)O=S[A],O!==x[A]&&k.push(a(O));return k}(),deletions:function(){var R,I,k;for(k=[],A=R=0,I=x.length;I>R;A=++R)O=x[A],O!==S[A]&&k.push(a(O));return k}()}},h.prototype.getTextChangesFromCharacterData=function(){var b,w,A,_,T,C,L,D;return w=this.getMutationsByType("characterData"),w.length&&(D=w[0],A=w[w.length-1],T=a(D.oldValue),_=a(A.target.data),C=l(T,_),b=C.added,L=C.removed),{additions:b?[b]:[],deletions:L?[L]:[]}},v=function(b){var w,A,_,T;for(b==null&&(b=[]),T=[],w=0,A=b.length;A>w;w++)switch(_=b[w],_.nodeType){case Node.TEXT_NODE:T.push(_.data);break;case Node.ELEMENT_NODE:u(_)==="br"?T.push(`
`):T.push.apply(T,v(_.childNodes))}return T},h}(r.BasicObject)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.FileVerificationOperation=function(s){function a(l){this.file=l}return i(a,s),a.prototype.perform=function(l){var u;return u=new FileReader,u.onerror=function(){return l(!1)},u.onload=function(c){return function(){u.onerror=null;try{u.abort()}catch{}return l(!0,c.file)}}(this),u.readAsArrayBuffer(this.file)},a}(r.Operation)}.call(this),function(){var i,o,s=function(l,u){function c(){this.constructor=l}for(var f in u)a.call(u,f)&&(l[f]=u[f]);return c.prototype=u.prototype,l.prototype=new c,l.__super__=u.prototype,l},a={}.hasOwnProperty;i=r.handleEvent,o=r.innerElementIsActive,r.InputController=function(l){function u(c){var f;this.element=c,this.mutationObserver=new r.MutationObserver(this.element),this.mutationObserver.delegate=this;for(f in this.events)i(f,{onElement:this.element,withCallback:this.handlerFor(f)})}return s(u,l),u.prototype.events={},u.prototype.elementDidMutate=function(){},u.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},u.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},u.prototype.requestRender=function(){var c;return(c=this.delegate)!=null&&typeof c.inputControllerDidRequestRender=="function"?c.inputControllerDidRequestRender():void 0},u.prototype.requestReparse=function(){var c;return(c=this.delegate)!=null&&typeof c.inputControllerDidRequestReparse=="function"&&c.inputControllerDidRequestReparse(),this.requestRender()},u.prototype.attachFiles=function(c){var f,d;return d=function(){var p,g,h;for(h=[],p=0,g=c.length;g>p;p++)f=c[p],h.push(new r.FileVerificationOperation(f));return h}(),Promise.all(d).then(function(p){return function(g){return p.handleInput(function(){var h,v;return(h=this.delegate)!=null&&h.inputControllerWillAttachFiles(),(v=this.responder)!=null&&v.insertFiles(g),this.requestRender()})}}(this))},u.prototype.handlerFor=function(c){return function(f){return function(d){return d.defaultPrevented?void 0:f.handleInput(function(){return o(this.element)?void 0:(this.eventName=c,this.events[c].call(this,d))})}}(this)},u.prototype.handleInput=function(c){var f,d;try{return(f=this.delegate)!=null&&f.inputControllerWillHandleInput(),c.call(this)}finally{(d=this.delegate)!=null&&d.inputControllerDidHandleInput()}},u.prototype.createLinkHTML=function(c,f){var d;return d=document.createElement("a"),d.href=c,d.textContent=f!=null?f:c,d.outerHTML},u}(r.BasicObject)}.call(this),function(){var i,o,s,a,l,u,c,f,d,p,g,h,v=function(m,b){function w(){this.constructor=m}for(var A in b)y.call(b,A)&&(m[A]=b[A]);return w.prototype=b.prototype,m.prototype=new w,m.__super__=b.prototype,m},y={}.hasOwnProperty,E=[].indexOf||function(m){for(var b=0,w=this.length;w>b;b++)if(b in this&&this[b]===m)return b;return-1};d=r.makeElement,p=r.objectsAreEqual,r.tagName,o=r.browser,c=r.keyEventIsKeyboardCommand,a=r.dataTransferIsWritable,s=r.dataTransferIsPlainText,f=r.config.keyNames,r.Level0InputController=function(m){function b(){b.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var w;return v(b,m),w=0,b.prototype.setInputSummary=function(A){var _,T;A==null&&(A={}),this.inputSummary.eventName=this.eventName;for(_ in A)T=A[_],this.inputSummary[_]=T;return this.inputSummary},b.prototype.resetInputSummary=function(){return this.inputSummary={}},b.prototype.reset=function(){return this.resetInputSummary(),r.selectionChangeObserver.reset()},b.prototype.elementDidMutate=function(A){var _;return this.isComposing()?(_=this.delegate)!=null&&typeof _.inputControllerDidAllowUnhandledInput=="function"?_.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(A)&&(this.mutationIsExpected(A)?this.requestRender():this.requestReparse()),this.reset()})},b.prototype.mutationIsExpected=function(A){var _,T,C,L,D,O,S,x,R,I;return S=A.textAdded,x=A.textDeleted,this.inputSummary.preferDocument?!0:(_=S!=null?S===this.inputSummary.textAdded:!this.inputSummary.textAdded,T=x!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,R=(S===`
`||S===` 
`)&&!_,I=x===`
`&&!T,O=R&&!I||I&&!R,O&&(L=this.getSelectedRange())&&(C=R?S.replace(/\n$/,"").length||-1:(S!=null?S.length:void 0)||1,(D=this.responder)!=null?D.positionIsBlockBreak(L[1]+C):void 0)?!0:_&&T)},b.prototype.mutationIsSignificant=function(A){var _,T,C;return C=Object.keys(A).length>0,_=((T=this.compositionInput)!=null?T.getEndData():void 0)==="",C||!_},b.prototype.events={keydown:function(A){var _,T,C,L,D,O,S,x,R;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,L=f[A.keyCode]){for(T=this.keys,x=["ctrl","alt","shift","meta"],C=0,O=x.length;O>C;C++)S=x[C],A[S+"Key"]&&(S==="ctrl"&&(S="control"),T=T!=null?T[S]:void 0);(T!=null?T[L]:void 0)!=null&&(this.setInputSummary({keyName:L}),r.selectionChangeObserver.reset(),T[L].call(this,A))}return c(A)&&(_=String.fromCharCode(A.keyCode).toLowerCase())&&(D=function(){var I,k,M,F;for(M=["alt","shift"],F=[],I=0,k=M.length;k>I;I++)S=M[I],A[S+"Key"]&&F.push(S);return F}(),D.push(_),(R=this.delegate)!=null?R.inputControllerDidReceiveKeyboardCommand(D):void 0)?A.preventDefault():void 0},keypress:function(A){var _,T,C;if(this.inputSummary.eventName==null&&!A.metaKey&&(!A.ctrlKey||A.altKey))return(C=h(A))?((_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),(T=this.responder)!=null&&T.insertString(C),this.setInputSummary({textAdded:C,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(A){var _,T,C,L;return _=A.data,L=this.inputSummary.textAdded,L&&L!==_&&L.toUpperCase()===_?(T=this.getSelectedRange(),this.setSelectedRange([T[0],T[1]+L.length]),(C=this.responder)!=null&&C.insertString(_),this.setInputSummary({textAdded:_}),this.setSelectedRange(T)):void 0},dragenter:function(A){return A.preventDefault()},dragstart:function(A){var _;return A.target,this.serializeSelectionToDataTransfer(A.dataTransfer),this.draggedRange=this.getSelectedRange(),(_=this.delegate)!=null&&typeof _.inputControllerDidStartDrag=="function"?_.inputControllerDidStartDrag():void 0},dragover:function(A){var _,T;return!this.draggedRange&&!this.canAcceptDataTransfer(A.dataTransfer)||(A.preventDefault(),_={x:A.clientX,y:A.clientY},p(_,this.draggingPoint))?void 0:(this.draggingPoint=_,(T=this.delegate)!=null&&typeof T.inputControllerDidReceiveDragOverPoint=="function"?T.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var A;return(A=this.delegate)!=null&&typeof A.inputControllerDidCancelDrag=="function"&&A.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(A){var _,T,C,L,D,O,S,x,R;return A.preventDefault(),C=(D=A.dataTransfer)!=null?D.files:void 0,L={x:A.clientX,y:A.clientY},(O=this.responder)!=null&&O.setLocationRangeFromPointRange(L),C!=null&&C.length?this.attachFiles(C):this.draggedRange?((S=this.delegate)!=null&&S.inputControllerWillMoveText(),(x=this.responder)!=null&&x.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(T=A.dataTransfer.getData("application/x-trix-document"))&&(_=r.Document.fromJSONString(T),(R=this.responder)!=null&&R.insertDocument(_),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(A){var _,T;return((_=this.responder)!=null?_.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(A.clipboardData)&&A.preventDefault(),(T=this.delegate)!=null&&T.inputControllerWillCutText(),this.deleteInDirection("backward"),A.defaultPrevented)?this.requestRender():void 0},copy:function(A){var _;return((_=this.responder)!=null?_.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(A.clipboardData)?A.preventDefault():void 0},paste:function(A){var _,T,C,L,D,O,S,x,R,I,k,M,F,j,z,ce,ie,de,_e,ae,we,Se,Pe;return _=(x=A.clipboardData)!=null?x:A.testClipboardData,S={clipboard:_},_==null||g(A)?void this.getPastedHTMLUsingHiddenElement(function(Oe){return function(rt){var nt,Dt,At;return S.type="text/html",S.html=rt,(nt=Oe.delegate)!=null&&nt.inputControllerWillPaste(S),(Dt=Oe.responder)!=null&&Dt.insertHTML(S.html),Oe.requestRender(),(At=Oe.delegate)!=null?At.inputControllerDidPaste(S):void 0}}(this)):((L=_.getData("URL"))?(S.type="text/html",Pe=(O=_.getData("public.url-name"))?r.squishBreakableWhitespace(O).trim():L,S.html=this.createLinkHTML(L,Pe),(R=this.delegate)!=null&&R.inputControllerWillPaste(S),this.setInputSummary({textAdded:Pe,didDelete:this.selectionIsExpanded()}),(z=this.responder)!=null&&z.insertHTML(S.html),this.requestRender(),(ce=this.delegate)!=null&&ce.inputControllerDidPaste(S)):s(_)?(S.type="text/plain",S.string=_.getData("text/plain"),(ie=this.delegate)!=null&&ie.inputControllerWillPaste(S),this.setInputSummary({textAdded:S.string,didDelete:this.selectionIsExpanded()}),(de=this.responder)!=null&&de.insertString(S.string),this.requestRender(),(_e=this.delegate)!=null&&_e.inputControllerDidPaste(S)):(D=_.getData("text/html"))?(S.type="text/html",S.html=D,(ae=this.delegate)!=null&&ae.inputControllerWillPaste(S),(we=this.responder)!=null&&we.insertHTML(S.html),this.requestRender(),(Se=this.delegate)!=null&&Se.inputControllerDidPaste(S)):E.call(_.types,"Files")>=0&&(C=(I=_.items)!=null&&(k=I[0])!=null&&typeof k.getAsFile=="function"?k.getAsFile():void 0)&&(!C.name&&(T=l(C))&&(C.name="pasted-file-"+ ++w+"."+T),S.type="File",S.file=C,(M=this.delegate)!=null&&M.inputControllerWillAttachFiles(),(F=this.responder)!=null&&F.insertFile(S.file),this.requestRender(),(j=this.delegate)!=null&&j.inputControllerDidPaste(S)),A.preventDefault())},compositionstart:function(A){return this.getCompositionInput().start(A.data)},compositionupdate:function(A){return this.getCompositionInput().update(A.data)},compositionend:function(A){return this.getCompositionInput().end(A.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(A){return this.inputSummary.didInput=!0,A.stopPropagation()}},b.prototype.keys={backspace:function(A){var _;return(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),this.deleteInDirection("backward",A)},delete:function(A){var _;return(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),this.deleteInDirection("forward",A)},return:function(){var A,_;return this.setInputSummary({preferDocument:!0}),(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),(_=this.responder)!=null?_.insertLineBreak():void 0},tab:function(A){var _,T;return(_=this.responder)!=null&&_.canIncreaseNestingLevel()?((T=this.responder)!=null&&T.increaseNestingLevel(),this.requestRender(),A.preventDefault()):void 0},left:function(A){var _;return this.selectionIsInCursorTarget()?(A.preventDefault(),(_=this.responder)!=null?_.moveCursorInDirection("backward"):void 0):void 0},right:function(A){var _;return this.selectionIsInCursorTarget()?(A.preventDefault(),(_=this.responder)!=null?_.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(A){var _;return(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),this.deleteInDirection("forward",A)},h:function(A){var _;return(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),this.deleteInDirection("backward",A)},o:function(A){var _,T;return A.preventDefault(),(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),(T=this.responder)!=null&&T.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return:function(A){var _,T;return(_=this.delegate)!=null&&_.inputControllerWillPerformTyping(),(T=this.responder)!=null&&T.insertString(`
`),this.requestRender(),A.preventDefault()},tab:function(A){var _,T;return(_=this.responder)!=null&&_.canDecreaseNestingLevel()?((T=this.responder)!=null&&T.decreaseNestingLevel(),this.requestRender(),A.preventDefault()):void 0},left:function(A){return this.selectionIsInCursorTarget()?(A.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(A){return this.selectionIsInCursorTarget()?(A.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var A;return this.setInputSummary({preferDocument:!1}),(A=this.delegate)!=null?A.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var A;return this.setInputSummary({preferDocument:!1}),(A=this.delegate)!=null?A.inputControllerWillPerformTyping():void 0}}},b.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new i(this)},b.prototype.isComposing=function(){return this.compositionInput!=null&&!this.compositionInput.isEnded()},b.prototype.deleteInDirection=function(A,_){var T;return((T=this.responder)!=null?T.deleteInDirection(A):void 0)!==!1?this.setInputSummary({didDelete:!0}):_?(_.preventDefault(),this.requestRender()):void 0},b.prototype.serializeSelectionToDataTransfer=function(A){var _,T;if(a(A))return _=(T=this.responder)!=null?T.getSelectedDocument().toSerializableDocument():void 0,A.setData("application/x-trix-document",JSON.stringify(_)),A.setData("text/html",r.DocumentView.render(_).innerHTML),A.setData("text/plain",_.toString().replace(/\n$/,"")),!0},b.prototype.canAcceptDataTransfer=function(A){var _,T,C,L,D,O;for(O={},L=(C=A!=null?A.types:void 0)!=null?C:[],_=0,T=L.length;T>_;_++)D=L[_],O[D]=!0;return O.Files||O["application/x-trix-document"]||O["text/html"]||O["text/plain"]},b.prototype.getPastedHTMLUsingHiddenElement=function(A){var _,T,C;return T=this.getSelectedRange(),C={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},_=d({style:C,tagName:"div",editable:!0}),document.body.appendChild(_),_.focus(),requestAnimationFrame(function(L){return function(){var D;return D=_.innerHTML,r.removeNode(_),L.setSelectedRange(T),A(D)}}(this))},b.proxyMethod("responder?.getSelectedRange"),b.proxyMethod("responder?.setSelectedRange"),b.proxyMethod("responder?.expandSelectionInDirection"),b.proxyMethod("responder?.selectionIsInCursorTarget"),b.proxyMethod("responder?.selectionIsExpanded"),b}(r.InputController),l=function(m){var b,w;return(b=m.type)!=null&&(w=b.match(/\/(\w+)$/))!=null?w[1]:void 0},u=(typeof" ".codePointAt=="function"?" ".codePointAt(0):void 0)!=null,h=function(m){var b;return m.key&&u&&m.key.codePointAt(0)===m.keyCode?m.key:(m.which===null?b=m.keyCode:m.which!==0&&m.charCode!==0&&(b=m.charCode),b!=null&&f[b]!=="escape"?r.UTF16String.fromCodepoints([b]).toString():void 0)},g=function(m){var b,w,A,_,T,C,L,D,O;if(L=m.clipboardData){if(E.call(L.types,"text/html")>=0){for(D=L.types,A=0,C=D.length;C>A;A++)if(O=D[A],b=/^CorePasteboardFlavorType/.test(O),w=/^dyn\./.test(O)&&L.getData(O),b||w)return!0;return!1}return _=E.call(L.types,"com.apple.webarchive")>=0,T=E.call(L.types,"com.apple.flat-rtfd")>=0,_||T}},i=function(m){function b(w){var A;this.inputController=w,A=this.inputController,this.responder=A.responder,this.delegate=A.delegate,this.inputSummary=A.inputSummary,this.data={}}return v(b,m),b.prototype.start=function(w){var A,_;return this.data.start=w,this.isSignificant()?(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&(A=this.responder)!=null&&A.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(_=this.responder)!=null?_.getSelectedRange():void 0):void 0},b.prototype.update=function(w){var A;return this.data.update=w,this.isSignificant()&&(A=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=A):void 0},b.prototype.end=function(w){var A,_,T,C;return this.data.end=w,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(A=this.delegate)!=null&&A.inputControllerWillPerformTyping(),(_=this.responder)!=null&&_.setSelectedRange(this.range),(T=this.responder)!=null&&T.insertString(this.data.end),(C=this.responder)!=null?C.setSelectedRange(this.range[0]+this.data.end.length):void 0):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},b.prototype.getEndData=function(){return this.data.end},b.prototype.isEnded=function(){return this.getEndData()!=null},b.prototype.isSignificant=function(){return o.composesExistingText?this.inputSummary.didInput:!0},b.prototype.canApplyToDocument=function(){var w,A;return((w=this.data.start)!=null?w.length:void 0)===0&&((A=this.data.end)!=null?A.length:void 0)>0&&this.range!=null},b.proxyMethod("inputController.setInputSummary"),b.proxyMethod("inputController.requestRender"),b.proxyMethod("inputController.requestReparse"),b.proxyMethod("responder?.selectionIsExpanded"),b.proxyMethod("responder?.insertPlaceholder"),b.proxyMethod("responder?.selectPlaceholder"),b.proxyMethod("responder?.forgetPlaceholder"),b}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(f,d){return function(){return f.apply(d,arguments)}},l=function(f,d){function p(){this.constructor=f}for(var g in d)u.call(d,g)&&(f[g]=d[g]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},u={}.hasOwnProperty,c=[].indexOf||function(f){for(var d=0,p=this.length;p>d;d++)if(d in this&&this[d]===f)return d;return-1};i=r.dataTransferIsPlainText,o=r.keyEventIsKeyboardCommand,s=r.objectsAreEqual,r.Level2InputController=function(f){function d(){return this.render=a(this.render,this),d.__super__.constructor.apply(this,arguments)}var p,g,h,v,y,E;return l(d,f),d.prototype.elementDidMutate=function(){var m;return this.scheduledRender?this.composing&&(m=this.delegate)!=null&&typeof m.inputControllerDidAllowUnhandledInput=="function"?m.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},d.prototype.scheduleRender=function(){return this.scheduledRender!=null?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},d.prototype.render=function(){var m;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(m=this.delegate)!=null&&m.render(),typeof this.afterRender=="function"&&this.afterRender(),this.afterRender=null},d.prototype.reparse=function(){var m;return(m=this.delegate)!=null?m.reparse():void 0},d.prototype.events={keydown:function(m){var b,w,A,_;if(o(m)){if(b=g(m),(_=this.delegate)!=null?_.inputControllerDidReceiveKeyboardCommand(b):void 0)return m.preventDefault()}else if(A=m.key,m.altKey&&(A+="+Alt"),m.shiftKey&&(A+="+Shift"),w=this.keys[A])return this.withEvent(m,w)},paste:function(m){var b,w,A,_,T,C,L,D,O;return h(m)?(m.preventDefault(),this.attachFiles(m.clipboardData.files)):v(m)?(m.preventDefault(),w={type:"text/plain",string:m.clipboardData.getData("text/plain")},(A=this.delegate)!=null&&A.inputControllerWillPaste(w),(_=this.responder)!=null&&_.insertString(w.string),this.render(),(T=this.delegate)!=null?T.inputControllerDidPaste(w):void 0):(b=(C=m.clipboardData)!=null?C.getData("URL"):void 0)?(m.preventDefault(),w={type:"text/html",html:this.createLinkHTML(b)},(L=this.delegate)!=null&&L.inputControllerWillPaste(w),(D=this.responder)!=null&&D.insertHTML(w.html),this.render(),(O=this.delegate)!=null?O.inputControllerDidPaste(w):void 0):void 0},beforeinput:function(m){var b;return(b=this.inputTypes[m.inputType])?(this.withEvent(m,b),this.scheduleRender()):void 0},input:function(){return r.selectionChangeObserver.reset()},dragstart:function(m){var b,w;return(b=this.responder)!=null&&b.selectionContainsAttachments()?(m.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(w=this.responder)!=null?w.getSelectedRange():void 0,point:y(m)}):void 0},dragenter:function(m){return p(m)?m.preventDefault():void 0},dragover:function(m){var b,w;if(this.dragging){if(m.preventDefault(),b=y(m),!s(b,this.dragging.point))return this.dragging.point=b,(w=this.responder)!=null?w.setLocationRangeFromPointRange(b):void 0}else if(p(m))return m.preventDefault()},drop:function(m){var b,w,A,_;return this.dragging?(m.preventDefault(),(w=this.delegate)!=null&&w.inputControllerWillMoveText(),(A=this.responder)!=null&&A.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):p(m)?(m.preventDefault(),b=y(m),(_=this.responder)!=null&&_.setLocationRangeFromPointRange(b),this.attachFiles(m.dataTransfer.files)):void 0},dragend:function(){var m;return this.dragging?((m=this.responder)!=null&&m.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},d.prototype.keys={ArrowLeft:function(){var m,b;return(m=this.responder)!=null&&m.shouldManageMovingCursorInDirection("backward")?(this.event.preventDefault(),(b=this.responder)!=null?b.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var m,b;return(m=this.responder)!=null&&m.shouldManageMovingCursorInDirection("forward")?(this.event.preventDefault(),(b=this.responder)!=null?b.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var m,b,w;return(m=this.responder)!=null&&m.shouldManageDeletingInDirection("backward")?(this.event.preventDefault(),(b=this.delegate)!=null&&b.inputControllerWillPerformTyping(),(w=this.responder)!=null&&w.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var m,b;return(m=this.responder)!=null&&m.canIncreaseNestingLevel()?(this.event.preventDefault(),(b=this.responder)!=null&&b.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var m,b;return(m=this.responder)!=null&&m.canDecreaseNestingLevel()?(this.event.preventDefault(),(b=this.responder)!=null&&b.decreaseNestingLevel(),this.render()):void 0}},d.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var m;return this.deleteByDragRange=(m=this.responder)!=null?m.getSelectedRange():void 0})},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var m;return(m=this.responder)!=null&&m.canIncreaseNestingLevel()?this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.increaseNestingLevel():void 0}):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var m;return(m=this.responder)!=null&&m.canDecreaseNestingLevel()?this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.decreaseNestingLevel():void 0}):void 0},formatRemove:function(){return this.withTargetDOMRange(function(){var m,b,w,A;A=[];for(m in(b=this.responder)!=null?b.getCurrentAttributes():void 0)A.push((w=this.responder)!=null?w.removeCurrentAttribute(m):void 0);return A})},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var m;return(m=this.delegate)!=null?m.inputControllerWillPerformRedo():void 0},historyUndo:function(){var m;return(m=this.delegate)!=null?m.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var m,b;return(m=this.deleteByDragRange)?(this.deleteByDragRange=null,(b=this.delegate)!=null&&b.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var w;return(w=this.responder)!=null?w.moveTextFromRange(m):void 0})):void 0},insertFromPaste:function(){var m,b,w,A,_,T,C,L,D,O,S;return m=this.event.dataTransfer,_={dataTransfer:m},(b=m.getData("URL"))?(this.event.preventDefault(),_.type="text/html",S=(A=m.getData("public.url-name"))?r.squishBreakableWhitespace(A).trim():b,_.html=this.createLinkHTML(b,S),(T=this.delegate)!=null&&T.inputControllerWillPaste(_),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertHTML(_.html):void 0}),this.afterRender=function(x){return function(){var R;return(R=x.delegate)!=null?R.inputControllerDidPaste(_):void 0}}(this)):i(m)?(_.type="text/plain",_.string=m.getData("text/plain"),(C=this.delegate)!=null&&C.inputControllerWillPaste(_),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertString(_.string):void 0}),this.afterRender=function(x){return function(){var R;return(R=x.delegate)!=null?R.inputControllerDidPaste(_):void 0}}(this)):(w=m.getData("text/html"))?(this.event.preventDefault(),_.type="text/html",_.html=w,(L=this.delegate)!=null&&L.inputControllerWillPaste(_),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertHTML(_.html):void 0}),this.afterRender=function(x){return function(){var R;return(R=x.delegate)!=null?R.inputControllerDidPaste(_):void 0}}(this)):(D=m.files)!=null&&D.length?(_.type="File",_.file=m.files[0],(O=this.delegate)!=null&&O.inputControllerWillPaste(_),this.withTargetDOMRange(function(){var x;return(x=this.responder)!=null?x.insertFile(_.file):void 0}),this.afterRender=function(x){return function(){var R;return(R=x.delegate)!=null?R.inputControllerDidPaste(_):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString(`
`)},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var m;return(m=this.delegate)!=null&&m.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var b;return(b=this.responder)!=null?b.insertLineBreak():void 0})},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var m,b;return this.insertString((m=this.event.data)!=null?m:(b=this.event.dataTransfer)!=null?b.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},d.prototype.insertString=function(m,b){var w;return m==null&&(m=""),(w=this.delegate)!=null&&w.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var A;return(A=this.responder)!=null?A.insertString(m,b):void 0})},d.prototype.toggleAttributeIfSupported=function(m){var b;return c.call(r.getAllAttributeNames(),m)>=0?((b=this.delegate)!=null&&b.inputControllerWillPerformFormatting(m),this.withTargetDOMRange(function(){var w;return(w=this.responder)!=null?w.toggleCurrentAttribute(m):void 0})):void 0},d.prototype.activateAttributeIfSupported=function(m,b){var w;return c.call(r.getAllAttributeNames(),m)>=0?((w=this.delegate)!=null&&w.inputControllerWillPerformFormatting(m),this.withTargetDOMRange(function(){var A;return(A=this.responder)!=null?A.setCurrentAttribute(m,b):void 0})):void 0},d.prototype.deleteInDirection=function(m,b){var w,A,_,T;return _=(b!=null?b:{recordUndoEntry:!0}).recordUndoEntry,_&&(T=this.delegate)!=null&&T.inputControllerWillPerformTyping(),A=function(C){return function(){var L;return(L=C.responder)!=null?L.deleteInDirection(m):void 0}}(this),(w=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(w,A):A()},d.prototype.withTargetDOMRange=function(m,b){var w;return typeof m=="function"&&(b=m,m=this.getTargetDOMRange()),m?(w=this.responder)!=null?w.withTargetDOMRange(m,b.bind(this)):void 0:(r.selectionChangeObserver.reset(),b.call(this))},d.prototype.getTargetDOMRange=function(m){var b,w,A,_;return A=(m!=null?m:{minLength:0}).minLength,(_=typeof(b=this.event).getTargetRanges=="function"?b.getTargetRanges():void 0)&&_.length&&(w=E(_[0]),A===0||w.toString().length>=A)?w:void 0},E=function(m){var b;return b=document.createRange(),b.setStart(m.startContainer,m.startOffset),b.setEnd(m.endContainer,m.endOffset),b},d.prototype.withEvent=function(m,b){var w;this.event=m;try{w=b.call(this)}finally{this.event=null}return w},p=function(m){var b,w;return c.call((b=(w=m.dataTransfer)!=null?w.types:void 0)!=null?b:[],"Files")>=0},h=function(m){var b;return(b=m.clipboardData)?c.call(b.types,"Files")>=0&&b.types.length===1&&b.files.length>=1:void 0},v=function(m){var b;return(b=m.clipboardData)?c.call(b.types,"text/plain")>=0&&b.types.length===1:void 0},g=function(m){var b;return b=[],m.altKey&&b.push("alt"),m.shiftKey&&b.push("shift"),b.push(m.key),b},y=function(m){return{x:m.clientX,y:m.clientY}},d}(r.InputController)}.call(this),function(){var i,o,s,a,l,u,c,f,d=function(h,v){return function(){return h.apply(v,arguments)}},p=function(h,v){function y(){this.constructor=h}for(var E in v)g.call(v,E)&&(h[E]=v[E]);return y.prototype=v.prototype,h.prototype=new y,h.__super__=v.prototype,h},g={}.hasOwnProperty;o=r.defer,s=r.handleEvent,u=r.makeElement,f=r.tagName,c=r.config,l=c.lang,i=c.css,a=c.keyNames,r.AttachmentEditorController=function(h){function v(E,m,b,w){this.attachmentPiece=E,this.element=m,this.container=b,this.options=w!=null?w:{},this.didBlurCaption=d(this.didBlurCaption,this),this.didChangeCaption=d(this.didChangeCaption,this),this.didInputCaption=d(this.didInputCaption,this),this.didKeyDownCaption=d(this.didKeyDownCaption,this),this.didClickActionButton=d(this.didClickActionButton,this),this.didClickToolbar=d(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,f(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}var y;return p(v,h),y=function(E){return function(){var m;return m=E.apply(this,arguments),m.do(),this.undos==null&&(this.undos=[]),this.undos.push(m.undo)}},v.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},v.prototype.uninstall=function(){var E,m;for(this.savePendingCaption();m=this.undos.pop();)m();return(E=this.delegate)!=null?E.didUninstallAttachmentEditor(this):void 0},v.prototype.savePendingCaption=function(){var E,m,b;return this.pendingCaption!=null?(E=this.pendingCaption,this.pendingCaption=null,E?(m=this.delegate)!=null&&typeof m.attachmentEditorDidRequestUpdatingAttributesForAttachment=="function"?m.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:E},this.attachment):void 0:(b=this.delegate)!=null&&typeof b.attachmentEditorDidRequestRemovingAttributeForAttachment=="function"?b.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},v.prototype.makeElementMutable=y(function(){return{do:function(E){return function(){return E.element.dataset.trixMutable=!0}}(this),undo:function(E){return function(){return delete E.element.dataset.trixMutable}}(this)}}),v.prototype.addToolbar=y(function(){var E;return E=u({tagName:"div",className:i.attachmentToolbar,data:{trixMutable:!0},childNodes:u({tagName:"div",className:"trix-button-row",childNodes:u({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:u({tagName:"button",className:"trix-button trix-button--remove",textContent:l.remove,attributes:{title:l.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&E.appendChild(u({tagName:"div",className:i.attachmentMetadataContainer,childNodes:u({tagName:"span",className:i.attachmentMetadata,childNodes:[u({tagName:"span",className:i.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),u({tagName:"span",className:i.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),s("click",{onElement:E,withCallback:this.didClickToolbar}),s("click",{onElement:E,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(m){return function(){return m.element.appendChild(E)}}(this),undo:function(){return function(){return r.removeNode(E)}}()}}),v.prototype.installCaptionEditor=y(function(){var E,m,b,w,A;return w=u({tagName:"textarea",className:i.attachmentCaptionEditor,attributes:{placeholder:l.captionPlaceholder},data:{trixMutable:!0}}),w.value=this.attachmentPiece.getCaption(),A=w.cloneNode(),A.classList.add("trix-autoresize-clone"),A.tabIndex=-1,E=function(){return A.value=w.value,w.style.height=A.scrollHeight+"px"},s("input",{onElement:w,withCallback:E}),s("input",{onElement:w,withCallback:this.didInputCaption}),s("keydown",{onElement:w,withCallback:this.didKeyDownCaption}),s("change",{onElement:w,withCallback:this.didChangeCaption}),s("blur",{onElement:w,withCallback:this.didBlurCaption}),b=this.element.querySelector("figcaption"),m=b.cloneNode(),{do:function(_){return function(){return b.style.display="none",m.appendChild(w),m.appendChild(A),m.classList.add(i.attachmentCaption+"--editing"),b.parentElement.insertBefore(m,b),E(),_.options.editCaption?o(function(){return w.focus()}):void 0}}(this),undo:function(){return r.removeNode(m),b.style.display=null}}}),v.prototype.didClickToolbar=function(E){return E.preventDefault(),E.stopPropagation()},v.prototype.didClickActionButton=function(E){var m;switch(E.target.getAttribute("data-trix-action")){case"remove":return(m=this.delegate)!=null?m.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0}},v.prototype.didKeyDownCaption=function(E){var m;return a[E.keyCode]==="return"?(E.preventDefault(),this.savePendingCaption(),(m=this.delegate)!=null&&typeof m.attachmentEditorDidRequestDeselectingAttachment=="function"?m.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},v.prototype.didInputCaption=function(E){return this.pendingCaption=E.target.value.replace(/\s/g," ").trim()},v.prototype.didChangeCaption=function(){return this.savePendingCaption()},v.prototype.didBlurCaption=function(){return this.savePendingCaption()},v}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(u,c){function f(){this.constructor=u}for(var d in c)l.call(c,d)&&(u[d]=c[d]);return f.prototype=c.prototype,u.prototype=new f,u.__super__=c.prototype,u},l={}.hasOwnProperty;s=r.makeElement,i=r.config.css,r.AttachmentView=function(u){function c(){c.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var f;return a(c,u),c.attachmentSelector="[data-trix-attachment]",c.prototype.createContentNodes=function(){return[]},c.prototype.createNodes=function(){var d,p,g,h,v,y,E;if(d=h=s({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(p=this.getHref())&&(h=s({tagName:"a",editable:!1,attributes:{href:p,tabindex:-1}}),d.appendChild(h)),this.attachment.hasContent())h.innerHTML=this.attachment.getContent();else for(E=this.createContentNodes(),g=0,v=E.length;v>g;g++)y=E[g],h.appendChild(y);return h.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=s({tagName:"progress",attributes:{class:i.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),d.appendChild(this.progressElement)),[f("left"),d,f("right")]},c.prototype.createCaptionElement=function(){var d,p,g,h,v,y,E;return g=s({tagName:"figcaption",className:i.attachmentCaption}),(d=this.attachmentPiece.getCaption())?(g.classList.add(i.attachmentCaption+"--edited"),g.textContent=d):(p=this.getCaptionConfig(),p.name&&(h=this.attachment.getFilename()),p.size&&(y=this.attachment.getFormattedFilesize()),h&&(v=s({tagName:"span",className:i.attachmentName,textContent:h}),g.appendChild(v)),y&&(h&&g.appendChild(document.createTextNode(" ")),E=s({tagName:"span",className:i.attachmentSize,textContent:y}),g.appendChild(E))),g},c.prototype.getClassName=function(){var d,p;return p=[i.attachment,i.attachment+"--"+this.attachment.getType()],(d=this.attachment.getExtension())&&p.push(i.attachment+"--"+d),p.join(" ")},c.prototype.getData=function(){var d,p;return p={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},d=this.attachmentPiece.attributes,d.isEmpty()||(p.trixAttributes=JSON.stringify(d)),this.attachment.isPending()&&(p.trixSerialize=!1),p},c.prototype.getHref=function(){return o(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},c.prototype.getCaptionConfig=function(){var d,p,g;return g=this.attachment.getType(),d=r.copyObject((p=r.config.attachments[g])!=null?p.caption:void 0),g==="file"&&(d.name=!0),d},c.prototype.findProgressElement=function(){var d;return(d=this.findElement())!=null?d.querySelector("progress"):void 0},f=function(d){return s({tagName:"span",textContent:r.ZERO_WIDTH_SPACE,data:{trixCursorTarget:d,trixSerialize:!1}})},c.prototype.attachmentDidChangeUploadProgress=function(){var d,p;return p=this.attachment.getUploadProgress(),(d=this.findProgressElement())!=null?d.value=p:void 0},c}(r.ObjectView),o=function(u,c){var f;return f=s("div"),f.innerHTML=u!=null?u:"",f.querySelector(c)}}.call(this),function(){var i,o=function(a,l){function u(){this.constructor=a}for(var c in l)s.call(l,c)&&(a[c]=l[c]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;i=r.makeElement,r.PreviewableAttachmentView=function(a){function l(){l.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return o(l,a),l.prototype.createContentNodes=function(){return this.image=i({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},l.prototype.createCaptionElement=function(){var u;return u=l.__super__.createCaptionElement.apply(this,arguments),u.textContent||u.setAttribute("data-trix-placeholder",r.config.lang.captionPlaceholder),u},l.prototype.refresh=function(u){var c;return u==null&&(u=(c=this.findElement())!=null?c.querySelector("img"):void 0),u?this.updateAttributesForImage(u):void 0},l.prototype.updateAttributesForImage=function(u){var c,f,d,p,g,h;return g=this.attachment.getURL(),f=this.attachment.getPreviewURL(),u.src=f||g,f===g?u.removeAttribute("data-trix-serialized-attributes"):(d=JSON.stringify({src:g}),u.setAttribute("data-trix-serialized-attributes",d)),h=this.attachment.getWidth(),c=this.attachment.getHeight(),h!=null&&(u.width=h),c!=null&&(u.height=c),p=["imageElement",this.attachment.id,u.src,u.width,u.height].join("/"),u.dataset.trixStoreKey=p},l.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},l}(r.AttachmentView)}.call(this),function(){var i,o,s,a=function(u,c){function f(){this.constructor=u}for(var d in c)l.call(c,d)&&(u[d]=c[d]);return f.prototype=c.prototype,u.prototype=new f,u.__super__=c.prototype,u},l={}.hasOwnProperty;s=r.makeElement,i=r.findInnerElement,o=r.getTextConfig,r.PieceView=function(u){function c(){var d;c.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),d=this.options,this.textConfig=d.textConfig,this.context=d.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var f;return a(c,u),c.prototype.createNodes=function(){var d,p,g,h,v,y;if(y=this.attachment?this.createAttachmentNodes():this.createStringNodes(),d=this.createElement()){for(g=i(d),p=0,h=y.length;h>p;p++)v=y[p],g.appendChild(v);y=[d]}return y},c.prototype.createAttachmentNodes=function(){var d,p;return d=this.attachment.isPreviewable()?r.PreviewableAttachmentView:r.AttachmentView,p=this.createChildView(d,this.piece.attachment,{piece:this.piece}),p.getNodes()},c.prototype.createStringNodes=function(){var d,p,g,h,v,y,E,m,b;if((E=this.textConfig)!=null&&E.plaintext)return[document.createTextNode(this.string)];for(y=[],m=this.string.split(`
`),g=p=0,h=m.length;h>p;g=++p)b=m[g],g>0&&(d=s("br"),y.push(d)),b.length&&(v=document.createTextNode(this.preserveSpaces(b)),y.push(v));return y},c.prototype.createElement=function(){var d,p,g,h,v,y,E,m,b;m={},y=this.attributes;for(h in y)if(b=y[h],(d=o(h))&&(d.tagName&&(v=s(d.tagName),g?(g.appendChild(v),g=v):p=g=v),d.styleProperty&&(m[d.styleProperty]=b),d.style)){E=d.style;for(h in E)b=E[h],m[h]=b}if(Object.keys(m).length){p==null&&(p=s("span"));for(h in m)b=m[h],p.style[h]=b}return p},c.prototype.createContainerElement=function(){var d,p,g,h,v;h=this.attributes;for(g in h)if(v=h[g],(p=o(g))&&p.groupTagName)return d={},d[g]=v,s(p.groupTagName,d)},f=r.NON_BREAKING_SPACE,c.prototype.preserveSpaces=function(d){return this.context.isLast&&(d=d.replace(/\ $/,f)),d=d.replace(/(\S)\ {3}(\S)/g,"$1 "+f+" $2").replace(/\ {2}/g,f+" ").replace(/\ {2}/g," "+f),(this.context.isFirst||this.context.followsWhitespace)&&(d=d.replace(/^\ /,f)),d},c}(r.ObjectView)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.TextView=function(s){function a(){a.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var l;return i(a,s),a.prototype.createNodes=function(){var u,c,f,d,p,g,h,v,y,E;for(g=[],v=r.ObjectGroup.groupObjects(this.getPieces()),d=v.length-1,f=c=0,p=v.length;p>c;f=++c)h=v[f],u={},f===0&&(u.isFirst=!0),f===d&&(u.isLast=!0),l(y)&&(u.followsWhitespace=!0),E=this.findOrCreateCachedChildView(r.PieceView,h,{textConfig:this.textConfig,context:u}),g.push.apply(g,E.getNodes()),y=h;return g},a.prototype.getPieces=function(){var u,c,f,d,p;for(d=this.text.getPieces(),p=[],u=0,c=d.length;c>u;u++)f=d[u],f.hasAttribute("blockBreak")||p.push(f);return p},l=function(u){return/\s$/.test(u!=null?u.toString():void 0)},a}(r.ObjectView)}.call(this),function(){var i,o,s,a=function(u,c){function f(){this.constructor=u}for(var d in c)l.call(c,d)&&(u[d]=c[d]);return f.prototype=c.prototype,u.prototype=new f,u.__super__=c.prototype,u},l={}.hasOwnProperty;s=r.makeElement,o=r.getBlockConfig,i=r.config.css,r.BlockView=function(u){function c(){c.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return a(c,u),c.prototype.createNodes=function(){var f,d,p,g,h,v,y,E,m,b,w;if(d=document.createComment("block"),y=[d],this.block.isEmpty()?y.push(s("br")):(b=(E=o(this.block.getLastAttribute()))!=null?E.text:void 0,w=this.findOrCreateCachedChildView(r.TextView,this.block.text,{textConfig:b}),y.push.apply(y,w.getNodes()),this.shouldAddExtraNewlineElement()&&y.push(s("br"))),this.attributes.length)return y;for(m=r.config.blockAttributes.default.tagName,this.block.isRTL()&&(f={dir:"rtl"}),p=s({tagName:m,attributes:f}),g=0,h=y.length;h>g;g++)v=y[g],p.appendChild(v);return[p]},c.prototype.createContainerElement=function(f){var d,p,g,h,v;return d=this.attributes[f],v=o(d).tagName,f===0&&this.block.isRTL()&&(p={dir:"rtl"}),d==="attachmentGallery"&&(h=this.block.getBlockBreakPosition(),g=i.attachmentGallery+" "+i.attachmentGallery+"--"+h),s({tagName:v,className:g,attributes:p})},c.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},c}(r.ObjectView)}.call(this),function(){var i,o,s=function(l,u){function c(){this.constructor=l}for(var f in u)a.call(u,f)&&(l[f]=u[f]);return c.prototype=u.prototype,l.prototype=new c,l.__super__=u.prototype,l},a={}.hasOwnProperty;i=r.defer,o=r.makeElement,r.DocumentView=function(l){function u(){u.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new r.ElementStore,this.setDocument(this.object)}var c,f,d;return s(u,l),u.render=function(p){var g,h;return g=o("div"),h=new this(p,{element:g}),h.render(),h.sync(),g},u.prototype.setDocument=function(p){return p.isEqualTo(this.document)?void 0:this.document=this.object=p},u.prototype.render=function(){var p,g,h,v,y,E,m;if(this.childViews=[],this.shadowElement=o("div"),!this.document.isEmpty()){for(y=r.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0}),E=[],p=0,g=y.length;g>p;p++)v=y[p],m=this.findOrCreateCachedChildView(r.BlockView,v),E.push(function(){var b,w,A,_;for(A=m.getNodes(),_=[],b=0,w=A.length;w>b;b++)h=A[b],_.push(this.shadowElement.appendChild(h));return _}.call(this));return E}},u.prototype.isSynced=function(){return c(this.shadowElement,this.element)},u.prototype.sync=function(){var p;for(p=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(p),this.didSync()},u.prototype.didSync=function(){return this.elementStore.reset(f(this.element)),i(function(p){return function(){return p.garbageCollectCachedViews()}}(this))},u.prototype.createDocumentFragmentForSync=function(){var p,g,h,v,y,E,m,b,w,A;for(g=document.createDocumentFragment(),b=this.shadowElement.childNodes,h=0,y=b.length;y>h;h++)m=b[h],g.appendChild(m.cloneNode(!0));for(w=f(g),v=0,E=w.length;E>v;v++)p=w[v],(A=this.elementStore.remove(p))&&p.parentNode.replaceChild(A,p);return g},f=function(p){return p.querySelectorAll("[data-trix-store-key]")},c=function(p,g){return d(p.innerHTML)===d(g.innerHTML)},d=function(p){return p.replace(/&nbsp;/g," ")},u}(r.ObjectView)}.call(this),function(){var i,o,s,a,l,u=function(d,p){return function(){return d.apply(p,arguments)}},c=function(d,p){function g(){this.constructor=d}for(var h in p)f.call(p,h)&&(d[h]=p[h]);return g.prototype=p.prototype,d.prototype=new g,d.__super__=p.prototype,d},f={}.hasOwnProperty;s=r.findClosestElementFromNode,a=r.handleEvent,l=r.innerElementIsActive,o=r.defer,i=r.AttachmentView.attachmentSelector,r.CompositionController=function(d){function p(g,h){this.element=g,this.composition=h,this.didClickAttachment=u(this.didClickAttachment,this),this.didBlur=u(this.didBlur,this),this.didFocus=u(this.didFocus,this),this.documentView=new r.DocumentView(this.composition.document,{element:this.element}),a("focus",{onElement:this.element,withCallback:this.didFocus}),a("blur",{onElement:this.element,withCallback:this.didBlur}),a("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),a("mousedown",{onElement:this.element,matchingSelector:i,withCallback:this.didClickAttachment}),a("click",{onElement:this.element,matchingSelector:"a"+i,preventDefault:!0})}return c(p,d),p.prototype.didFocus=function(){var g,h,v;return g=function(y){return function(){var E;return y.focused?void 0:(y.focused=!0,(E=y.delegate)!=null&&typeof E.compositionControllerDidFocus=="function"?E.compositionControllerDidFocus():void 0)}}(this),(h=(v=this.blurPromise)!=null?v.then(g):void 0)!=null?h:g()},p.prototype.didBlur=function(){return this.blurPromise=new Promise(function(g){return function(h){return o(function(){var v;return l(g.element)||(g.focused=null,(v=g.delegate)!=null&&typeof v.compositionControllerDidBlur=="function"&&v.compositionControllerDidBlur()),g.blurPromise=null,h()})}}(this))},p.prototype.didClickAttachment=function(g,h){var v,y,E;return v=this.findAttachmentForElement(h),y=s(g.target,{matchingSelector:"figcaption"})!=null,(E=this.delegate)!=null&&typeof E.compositionControllerDidSelectAttachment=="function"?E.compositionControllerDidSelectAttachment(v,{editCaption:y}):void 0},p.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},p.prototype.render=function(){var g,h,v;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((g=this.delegate)!=null&&typeof g.compositionControllerWillSyncDocumentView=="function"&&g.compositionControllerWillSyncDocumentView(),this.documentView.sync(),(h=this.delegate)!=null&&typeof h.compositionControllerDidSyncDocumentView=="function"&&h.compositionControllerDidSyncDocumentView()),(v=this.delegate)!=null&&typeof v.compositionControllerDidRender=="function"?v.compositionControllerDidRender():void 0},p.prototype.rerenderViewForObject=function(g){return this.invalidateViewForObject(g),this.render()},p.prototype.invalidateViewForObject=function(g){return this.documentView.invalidateViewForObject(g)},p.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},p.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},p.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},p.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},p.prototype.isEditingAttachment=function(){return this.attachmentEditor!=null},p.prototype.installAttachmentEditorForAttachment=function(g,h){var v,y,E;if(((E=this.attachmentEditor)!=null?E.attachment:void 0)!==g&&(y=this.documentView.findElementForObject(g)))return this.uninstallAttachmentEditor(),v=this.composition.document.getAttachmentPieceForAttachment(g),this.attachmentEditor=new r.AttachmentEditorController(v,y,this.element,h),this.attachmentEditor.delegate=this},p.prototype.uninstallAttachmentEditor=function(){var g;return(g=this.attachmentEditor)!=null?g.uninstall():void 0},p.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},p.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(g,h){var v;return(v=this.delegate)!=null&&typeof v.compositionControllerWillUpdateAttachment=="function"&&v.compositionControllerWillUpdateAttachment(h),this.composition.updateAttributesForAttachment(g,h)},p.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(g,h){var v;return(v=this.delegate)!=null&&typeof v.compositionControllerWillUpdateAttachment=="function"&&v.compositionControllerWillUpdateAttachment(h),this.composition.removeAttributeForAttachment(g,h)},p.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(g){var h;return(h=this.delegate)!=null&&typeof h.compositionControllerDidRequestRemovalOfAttachment=="function"?h.compositionControllerDidRequestRemovalOfAttachment(g):void 0},p.prototype.attachmentEditorDidRequestDeselectingAttachment=function(g){var h;return(h=this.delegate)!=null&&typeof h.compositionControllerDidRequestDeselectingAttachment=="function"?h.compositionControllerDidRequestDeselectingAttachment(g):void 0},p.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},p.prototype.findAttachmentForElement=function(g){return this.composition.document.getAttachmentById(parseInt(g.dataset.trixId,10))},p}(r.BasicObject)}.call(this),function(){var i,o,s,a=function(c,f){return function(){return c.apply(f,arguments)}},l=function(c,f){function d(){this.constructor=c}for(var p in f)u.call(f,p)&&(c[p]=f[p]);return d.prototype=f.prototype,c.prototype=new d,c.__super__=f.prototype,c},u={}.hasOwnProperty;o=r.handleEvent,s=r.triggerEvent,i=r.findClosestElementFromNode,r.ToolbarController=function(c){function f(_){this.element=_,this.didKeyDownDialogInput=a(this.didKeyDownDialogInput,this),this.didClickDialogButton=a(this.didClickDialogButton,this),this.didClickAttributeButton=a(this.didClickAttributeButton,this),this.didClickActionButton=a(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),o("mousedown",{onElement:this.element,matchingSelector:d,withCallback:this.didClickActionButton}),o("mousedown",{onElement:this.element,matchingSelector:g,withCallback:this.didClickAttributeButton}),o("click",{onElement:this.element,matchingSelector:A,preventDefault:!0}),o("click",{onElement:this.element,matchingSelector:h,withCallback:this.didClickDialogButton}),o("keydown",{onElement:this.element,matchingSelector:v,withCallback:this.didKeyDownDialogInput})}var d,p,g,h,v,y,E,m,b,w,A;return l(f,c),g="[data-trix-attribute]",d="[data-trix-action]",A=g+", "+d,y="[data-trix-dialog]",p=y+"[data-trix-active]",h=y+" [data-trix-method]",v=y+" [data-trix-input]",f.prototype.didClickActionButton=function(_,T){var C,L,D;return(L=this.delegate)!=null&&L.toolbarDidClickButton(),_.preventDefault(),C=E(T),this.getDialog(C)?this.toggleDialog(C):(D=this.delegate)!=null?D.toolbarDidInvokeAction(C):void 0},f.prototype.didClickAttributeButton=function(_,T){var C,L,D;return(L=this.delegate)!=null&&L.toolbarDidClickButton(),_.preventDefault(),C=m(T),this.getDialog(C)?this.toggleDialog(C):(D=this.delegate)!=null&&D.toolbarDidToggleAttribute(C),this.refreshAttributeButtons()},f.prototype.didClickDialogButton=function(_,T){var C,L;return C=i(T,{matchingSelector:y}),L=T.getAttribute("data-trix-method"),this[L].call(this,C)},f.prototype.didKeyDownDialogInput=function(_,T){var C,L;return _.keyCode===13&&(_.preventDefault(),C=T.getAttribute("name"),L=this.getDialog(C),this.setAttribute(L)),_.keyCode===27?(_.preventDefault(),this.hideDialog()):void 0},f.prototype.updateActions=function(_){return this.actions=_,this.refreshActionButtons()},f.prototype.refreshActionButtons=function(){return this.eachActionButton(function(_){return function(T,C){return T.disabled=_.actions[C]===!1}}(this))},f.prototype.eachActionButton=function(_){var T,C,L,D,O;for(D=this.element.querySelectorAll(d),O=[],C=0,L=D.length;L>C;C++)T=D[C],O.push(_(T,E(T)));return O},f.prototype.updateAttributes=function(_){return this.attributes=_,this.refreshAttributeButtons()},f.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(_){return function(T,C){return T.disabled=_.attributes[C]===!1,_.attributes[C]||_.dialogIsVisible(C)?(T.setAttribute("data-trix-active",""),T.classList.add("trix-active")):(T.removeAttribute("data-trix-active"),T.classList.remove("trix-active"))}}(this))},f.prototype.eachAttributeButton=function(_){var T,C,L,D,O;for(D=this.element.querySelectorAll(g),O=[],C=0,L=D.length;L>C;C++)T=D[C],O.push(_(T,m(T)));return O},f.prototype.applyKeyboardCommand=function(_){var T,C,L,D,O,S,x;for(O=JSON.stringify(_.sort()),x=this.element.querySelectorAll("[data-trix-key]"),D=0,S=x.length;S>D;D++)if(T=x[D],L=T.getAttribute("data-trix-key").split("+"),C=JSON.stringify(L.sort()),C===O)return s("mousedown",{onElement:T}),!0;return!1},f.prototype.dialogIsVisible=function(_){var T;return(T=this.getDialog(_))?T.hasAttribute("data-trix-active"):void 0},f.prototype.toggleDialog=function(_){return this.dialogIsVisible(_)?this.hideDialog():this.showDialog(_)},f.prototype.showDialog=function(_){var T,C,L,D,O,S,x,R,I,k;for(this.hideDialog(),(x=this.delegate)!=null&&x.toolbarWillShowDialog(),L=this.getDialog(_),L.setAttribute("data-trix-active",""),L.classList.add("trix-active"),R=L.querySelectorAll("input[disabled]"),D=0,S=R.length;S>D;D++)C=R[D],C.removeAttribute("disabled");return(T=m(L))&&(O=w(L,_))&&(O.value=(I=this.attributes[T])!=null?I:"",O.select()),(k=this.delegate)!=null?k.toolbarDidShowDialog(_):void 0},f.prototype.setAttribute=function(_){var T,C,L;return T=m(_),C=w(_,T),C.willValidate&&!C.checkValidity()?(C.setAttribute("data-trix-validate",""),C.classList.add("trix-validate"),C.focus()):((L=this.delegate)!=null&&L.toolbarDidUpdateAttribute(T,C.value),this.hideDialog())},f.prototype.removeAttribute=function(_){var T,C;return T=m(_),(C=this.delegate)!=null&&C.toolbarDidRemoveAttribute(T),this.hideDialog()},f.prototype.hideDialog=function(){var _,T;return(_=this.element.querySelector(p))?(_.removeAttribute("data-trix-active"),_.classList.remove("trix-active"),this.resetDialogInputs(),(T=this.delegate)!=null?T.toolbarDidHideDialog(b(_)):void 0):void 0},f.prototype.resetDialogInputs=function(){var _,T,C,L,D;for(L=this.element.querySelectorAll(v),D=[],_=0,C=L.length;C>_;_++)T=L[_],T.setAttribute("disabled","disabled"),T.removeAttribute("data-trix-validate"),D.push(T.classList.remove("trix-validate"));return D},f.prototype.getDialog=function(_){return this.element.querySelector("[data-trix-dialog="+_+"]")},w=function(_,T){return T==null&&(T=m(_)),_.querySelector("[data-trix-input][name='"+T+"']")},E=function(_){return _.getAttribute("data-trix-action")},m=function(_){var T;return(T=_.getAttribute("data-trix-attribute"))!=null?T:_.getAttribute("data-trix-dialog-attribute")},b=function(_){return _.getAttribute("data-trix-dialog")},f}(r.BasicObject)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ImagePreloadOperation=function(s){function a(l){this.url=l}return i(a,s),a.prototype.perform=function(l){var u;return u=new Image,u.onload=function(c){return function(){return u.width=c.width=u.naturalWidth,u.height=c.height=u.naturalHeight,l(!0,u)}}(this),u.onerror=function(){return l(!1)},u.src=this.url},a}(r.Operation)}.call(this),function(){var i=function(a,l){return function(){return a.apply(l,arguments)}},o=function(a,l){function u(){this.constructor=a}for(var c in l)s.call(l,c)&&(a[c]=l[c]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;r.Attachment=function(a){function l(u){u==null&&(u={}),this.releaseFile=i(this.releaseFile,this),l.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(u),this.didChangeAttributes()}return o(l,a),l.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,l.attachmentForFile=function(u){var c,f;return f=this.attributesForFile(u),c=new this(f),c.setFile(u),c},l.attributesForFile=function(u){return new r.Hash({filename:u.name,filesize:u.size,contentType:u.type})},l.fromJSON=function(u){return new this(u)},l.prototype.getAttribute=function(u){return this.attributes.get(u)},l.prototype.hasAttribute=function(u){return this.attributes.has(u)},l.prototype.getAttributes=function(){return this.attributes.toObject()},l.prototype.setAttributes=function(u){var c,f,d;return u==null&&(u={}),c=this.attributes.merge(u),this.attributes.isEqualTo(c)?void 0:(this.attributes=c,this.didChangeAttributes(),(f=this.previewDelegate)!=null&&typeof f.attachmentDidChangeAttributes=="function"&&f.attachmentDidChangeAttributes(this),(d=this.delegate)!=null&&typeof d.attachmentDidChangeAttributes=="function"?d.attachmentDidChangeAttributes(this):void 0)},l.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},l.prototype.isPending=function(){return this.file!=null&&!(this.getURL()||this.getHref())},l.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},l.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},l.prototype.getURL=function(){return this.attributes.get("url")},l.prototype.getHref=function(){return this.attributes.get("href")},l.prototype.getFilename=function(){var u;return(u=this.attributes.get("filename"))!=null?u:""},l.prototype.getFilesize=function(){return this.attributes.get("filesize")},l.prototype.getFormattedFilesize=function(){var u;return u=this.attributes.get("filesize"),typeof u=="number"?r.config.fileSize.formatter(u):""},l.prototype.getExtension=function(){var u;return(u=this.getFilename().match(/\.(\w+)$/))!=null?u[1].toLowerCase():void 0},l.prototype.getContentType=function(){return this.attributes.get("contentType")},l.prototype.hasContent=function(){return this.attributes.has("content")},l.prototype.getContent=function(){return this.attributes.get("content")},l.prototype.getWidth=function(){return this.attributes.get("width")},l.prototype.getHeight=function(){return this.attributes.get("height")},l.prototype.getFile=function(){return this.file},l.prototype.setFile=function(u){return this.file=u,this.isPreviewable()?this.preloadFile():void 0},l.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},l.prototype.getUploadProgress=function(){var u;return(u=this.uploadProgress)!=null?u:0},l.prototype.setUploadProgress=function(u){var c;return this.uploadProgress!==u?(this.uploadProgress=u,(c=this.uploadProgressDelegate)!=null&&typeof c.attachmentDidChangeUploadProgress=="function"?c.attachmentDidChangeUploadProgress(this):void 0):void 0},l.prototype.toJSON=function(){return this.getAttributes()},l.prototype.getCacheKey=function(){return[l.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},l.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},l.prototype.setPreviewURL=function(u){var c,f;return u!==this.getPreviewURL()?(this.previewURL=u,(c=this.previewDelegate)!=null&&typeof c.attachmentDidChangeAttributes=="function"&&c.attachmentDidChangeAttributes(this),(f=this.delegate)!=null&&typeof f.attachmentDidChangePreviewURL=="function"?f.attachmentDidChangePreviewURL(this):void 0):void 0},l.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},l.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},l.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},l.prototype.preload=function(u,c){var f;return u&&u!==this.getPreviewURL()?(this.preloadingURL=u,f=new r.ImagePreloadOperation(u),f.then(function(d){return function(p){var g,h;return h=p.width,g=p.height,d.getWidth()&&d.getHeight()||d.setAttributes({width:h,height:g}),d.preloadingURL=null,d.setPreviewURL(u),typeof c=="function"?c():void 0}}(this)).catch(function(d){return function(){return d.preloadingURL=null,typeof c=="function"?c():void 0}}(this))):void 0},l}(r.Object)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Piece=function(s){function a(l,u){u==null&&(u={}),a.__super__.constructor.apply(this,arguments),this.attributes=r.Hash.box(u)}return i(a,s),a.types={},a.registerType=function(l,u){return u.type=l,this.types[l]=u},a.fromJSON=function(l){var u;return(u=this.types[l.type])?u.fromJSON(l):void 0},a.prototype.copyWithAttributes=function(l){return new this.constructor(this.getValue(),l)},a.prototype.copyWithAdditionalAttributes=function(l){return this.copyWithAttributes(this.attributes.merge(l))},a.prototype.copyWithoutAttribute=function(l){return this.copyWithAttributes(this.attributes.remove(l))},a.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},a.prototype.getAttribute=function(l){return this.attributes.get(l)},a.prototype.getAttributesHash=function(){return this.attributes},a.prototype.getAttributes=function(){return this.attributes.toObject()},a.prototype.getCommonAttributes=function(){var l,u,c;return(c=pieceList.getPieceAtIndex(0))?(l=c.attributes,u=l.getKeys(),pieceList.eachPiece(function(f){return u=l.getKeysCommonToHash(f.attributes),l=l.slice(u)}),l.toObject()):{}},a.prototype.hasAttribute=function(l){return this.attributes.has(l)},a.prototype.hasSameStringValueAsPiece=function(l){return l!=null&&this.toString()===l.toString()},a.prototype.hasSameAttributesAsPiece=function(l){return l!=null&&(this.attributes===l.attributes||this.attributes.isEqualTo(l.attributes))},a.prototype.isBlockBreak=function(){return!1},a.prototype.isEqualTo=function(l){return a.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(l)&&this.hasSameStringValueAsPiece(l)&&this.hasSameAttributesAsPiece(l)},a.prototype.isEmpty=function(){return this.length===0},a.prototype.isSerializable=function(){return!0},a.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},a.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},a.prototype.canBeGrouped=function(){return this.hasAttribute("href")},a.prototype.canBeGroupedWith=function(l){return this.getAttribute("href")===l.getAttribute("href")},a.prototype.getLength=function(){return this.length},a.prototype.canBeConsolidatedWith=function(){return!1},a}(r.Object)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Piece.registerType("attachment",r.AttachmentPiece=function(s){function a(l){this.attachment=l,a.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return i(a,s),a.fromJSON=function(l){return new this(r.Attachment.fromJSON(l.attachment),l.attributes)},a.permittedAttributes=["caption","presentation"],a.prototype.ensureAttachmentExclusivelyHasAttribute=function(l){return this.hasAttribute(l)?(this.attachment.hasAttribute(l)||this.attachment.setAttributes(this.attributes.slice(l)),this.attributes=this.attributes.remove(l)):void 0},a.prototype.removeProhibitedAttributes=function(){var l;return l=this.attributes.slice(this.constructor.permittedAttributes),l.isEqualTo(this.attributes)?void 0:this.attributes=l},a.prototype.getValue=function(){return this.attachment},a.prototype.isSerializable=function(){return!this.attachment.isPending()},a.prototype.getCaption=function(){var l;return(l=this.attributes.get("caption"))!=null?l:""},a.prototype.isEqualTo=function(l){var u;return a.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(l!=null&&(u=l.attachment)!=null?u.id:void 0)},a.prototype.toString=function(){return r.OBJECT_REPLACEMENT_CHARACTER},a.prototype.toJSON=function(){var l;return l=a.__super__.toJSON.apply(this,arguments),l.attachment=this.attachment,l},a.prototype.getCacheKey=function(){return[a.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},a.prototype.toConsole=function(){return JSON.stringify(this.toString())},a}(r.Piece))}.call(this),function(){var i,o=function(a,l){function u(){this.constructor=a}for(var c in l)s.call(l,c)&&(a[c]=l[c]);return u.prototype=l.prototype,a.prototype=new u,a.__super__=l.prototype,a},s={}.hasOwnProperty;i=r.normalizeNewlines,r.Piece.registerType("string",r.StringPiece=function(a){function l(u){l.__super__.constructor.apply(this,arguments),this.string=i(u),this.length=this.string.length}return o(l,a),l.fromJSON=function(u){return new this(u.string,u.attributes)},l.prototype.getValue=function(){return this.string},l.prototype.toString=function(){return this.string.toString()},l.prototype.isBlockBreak=function(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0},l.prototype.toJSON=function(){var u;return u=l.__super__.toJSON.apply(this,arguments),u.string=this.string,u},l.prototype.canBeConsolidatedWith=function(u){return u!=null&&this.hasSameConstructorAs(u)&&this.hasSameAttributesAsPiece(u)},l.prototype.consolidateWith=function(u){return new this.constructor(this.toString()+u.toString(),this.attributes)},l.prototype.splitAtOffset=function(u){var c,f;return u===0?(c=null,f=this):u===this.length?(c=this,f=null):(c=new this.constructor(this.string.slice(0,u),this.attributes),f=new this.constructor(this.string.slice(u),this.attributes)),[c,f]},l.prototype.toConsole=function(){var u;return u=this.string,u.length>15&&(u=u.slice(0,14)+"\u2026"),JSON.stringify(u.toString())},l}(r.Piece))}.call(this),function(){var i,o=function(l,u){function c(){this.constructor=l}for(var f in u)s.call(u,f)&&(l[f]=u[f]);return c.prototype=u.prototype,l.prototype=new c,l.__super__=u.prototype,l},s={}.hasOwnProperty,a=[].slice;i=r.spliceArray,r.SplittableList=function(l){function u(p){p==null&&(p=[]),u.__super__.constructor.apply(this,arguments),this.objects=p.slice(0),this.length=this.objects.length}var c,f,d;return o(u,l),u.box=function(p){return p instanceof this?p:new this(p)},u.prototype.indexOf=function(p){return this.objects.indexOf(p)},u.prototype.splice=function(){var p;return p=1<=arguments.length?a.call(arguments,0):[],new this.constructor(i.apply(null,[this.objects].concat(a.call(p))))},u.prototype.eachObject=function(p){var g,h,v,y,E,m;for(E=this.objects,m=[],h=g=0,v=E.length;v>g;h=++g)y=E[h],m.push(p(y,h));return m},u.prototype.insertObjectAtIndex=function(p,g){return this.splice(g,0,p)},u.prototype.insertSplittableListAtIndex=function(p,g){return this.splice.apply(this,[g,0].concat(a.call(p.objects)))},u.prototype.insertSplittableListAtPosition=function(p,g){var h,v,y;return y=this.splitObjectAtPosition(g),v=y[0],h=y[1],new this.constructor(v).insertSplittableListAtIndex(p,h)},u.prototype.editObjectAtIndex=function(p,g){return this.replaceObjectAtIndex(g(this.objects[p]),p)},u.prototype.replaceObjectAtIndex=function(p,g){return this.splice(g,1,p)},u.prototype.removeObjectAtIndex=function(p){return this.splice(p,1)},u.prototype.getObjectAtIndex=function(p){return this.objects[p]},u.prototype.getSplittableListInRange=function(p){var g,h,v,y;return v=this.splitObjectsAtRange(p),h=v[0],g=v[1],y=v[2],new this.constructor(h.slice(g,y+1))},u.prototype.selectSplittableList=function(p){var g,h;return h=function(){var v,y,E,m;for(E=this.objects,m=[],v=0,y=E.length;y>v;v++)g=E[v],p(g)&&m.push(g);return m}.call(this),new this.constructor(h)},u.prototype.removeObjectsInRange=function(p){var g,h,v,y;return v=this.splitObjectsAtRange(p),h=v[0],g=v[1],y=v[2],new this.constructor(h).splice(g,y-g+1)},u.prototype.transformObjectsInRange=function(p,g){var h,v,y,E,m,b,w;return m=this.splitObjectsAtRange(p),E=m[0],v=m[1],b=m[2],w=function(){var A,_,T;for(T=[],h=A=0,_=E.length;_>A;h=++A)y=E[h],T.push(h>=v&&b>=h?g(y):y);return T}(),new this.constructor(w)},u.prototype.splitObjectsAtRange=function(p){var g,h,v,y,E,m;return y=this.splitObjectAtPosition(d(p)),h=y[0],g=y[1],v=y[2],E=new this.constructor(h).splitObjectAtPosition(c(p)+v),h=E[0],m=E[1],[h,g,m-1]},u.prototype.getObjectAtPosition=function(p){var g,h;return h=this.findIndexAndOffsetAtPosition(p),g=h.index,h.offset,this.objects[g]},u.prototype.splitObjectAtPosition=function(p){var g,h,v,y,E,m,b,w,A,_;return m=this.findIndexAndOffsetAtPosition(p),g=m.index,E=m.offset,y=this.objects.slice(0),g!=null?E===0?(A=g,_=0):(v=this.getObjectAtIndex(g),b=v.splitAtOffset(E),h=b[0],w=b[1],y.splice(g,1,h,w),A=g+1,_=h.getLength()-E):(A=y.length,_=0),[y,A,_]},u.prototype.consolidate=function(){var p,g,h,v,y,E;for(v=[],y=this.objects[0],E=this.objects.slice(1),p=0,g=E.length;g>p;p++)h=E[p],typeof y.canBeConsolidatedWith=="function"&&y.canBeConsolidatedWith(h)?y=y.consolidateWith(h):(v.push(y),y=h);return y!=null&&v.push(y),new this.constructor(v)},u.prototype.consolidateFromIndexToIndex=function(p,g){var h,v,y;return v=this.objects.slice(0),y=v.slice(p,g+1),h=new this.constructor(y).consolidate().toArray(),this.splice.apply(this,[p,y.length].concat(a.call(h)))},u.prototype.findIndexAndOffsetAtPosition=function(p){var g,h,v,y,E,m,b;for(g=0,b=this.objects,v=h=0,y=b.length;y>h;v=++h){if(m=b[v],E=g+m.getLength(),p>=g&&E>p)return{index:v,offset:p-g};g=E}return{index:null,offset:null}},u.prototype.findPositionAtIndexAndOffset=function(p,g){var h,v,y,E,m,b;for(m=0,b=this.objects,h=v=0,y=b.length;y>v;h=++v)if(E=b[h],p>h)m+=E.getLength();else if(h===p){m+=g;break}return m},u.prototype.getEndPosition=function(){var p,g;return this.endPosition!=null?this.endPosition:this.endPosition=function(){var h,v,y;for(g=0,y=this.objects,h=0,v=y.length;v>h;h++)p=y[h],g+=p.getLength();return g}.call(this)},u.prototype.toString=function(){return this.objects.join("")},u.prototype.toArray=function(){return this.objects.slice(0)},u.prototype.toJSON=function(){return this.toArray()},u.prototype.isEqualTo=function(p){return u.__super__.isEqualTo.apply(this,arguments)||f(this.objects,p!=null?p.objects:void 0)},f=function(p,g){var h,v,y,E,m;if(g==null&&(g=[]),p.length!==g.length)return!1;for(m=!0,v=h=0,y=p.length;y>h;v=++h)E=p[v],m&&!E.isEqualTo(g[v])&&(m=!1);return m},u.prototype.contentsForInspection=function(){var p;return{objects:"["+function(){var g,h,v,y;for(v=this.objects,y=[],g=0,h=v.length;h>g;g++)p=v[g],y.push(p.inspect());return y}.call(this).join(", ")+"]"}},d=function(p){return p[0]},c=function(p){return p[1]},u}(r.Object)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.Text=function(s){function a(l){var u;l==null&&(l=[]),a.__super__.constructor.apply(this,arguments),this.pieceList=new r.SplittableList(function(){var c,f,d;for(d=[],c=0,f=l.length;f>c;c++)u=l[c],u.isEmpty()||d.push(u);return d}())}return i(a,s),a.textForAttachmentWithAttributes=function(l,u){var c;return c=new r.AttachmentPiece(l,u),new this([c])},a.textForStringWithAttributes=function(l,u){var c;return c=new r.StringPiece(l,u),new this([c])},a.fromJSON=function(l){var u,c;return c=function(){var f,d,p;for(p=[],f=0,d=l.length;d>f;f++)u=l[f],p.push(r.Piece.fromJSON(u));return p}(),new this(c)},a.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},a.prototype.copyWithPieceList=function(l){return new this.constructor(l.consolidate().toArray())},a.prototype.copyUsingObjectMap=function(l){var u,c;return c=function(){var f,d,p,g,h;for(p=this.getPieces(),h=[],f=0,d=p.length;d>f;f++)u=p[f],h.push((g=l.find(u))!=null?g:u);return h}.call(this),new this.constructor(c)},a.prototype.appendText=function(l){return this.insertTextAtPosition(l,this.getLength())},a.prototype.insertTextAtPosition=function(l,u){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(l.pieceList,u))},a.prototype.removeTextAtRange=function(l){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(l))},a.prototype.replaceTextAtRange=function(l,u){return this.removeTextAtRange(u).insertTextAtPosition(l,u[0])},a.prototype.moveTextFromRangeToPosition=function(l,u){var c,f;if(!(l[0]<=u&&u<=l[1]))return f=this.getTextAtRange(l),c=f.getLength(),l[0]<u&&(u-=c),this.removeTextAtRange(l).insertTextAtPosition(f,u)},a.prototype.addAttributeAtRange=function(l,u,c){var f;return f={},f[l]=u,this.addAttributesAtRange(f,c)},a.prototype.addAttributesAtRange=function(l,u){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(u,function(c){return c.copyWithAdditionalAttributes(l)}))},a.prototype.removeAttributeAtRange=function(l,u){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(u,function(c){return c.copyWithoutAttribute(l)}))},a.prototype.setAttributesAtRange=function(l,u){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(u,function(c){return c.copyWithAttributes(l)}))},a.prototype.getAttributesAtPosition=function(l){var u,c;return(u=(c=this.pieceList.getObjectAtPosition(l))!=null?c.getAttributes():void 0)!=null?u:{}},a.prototype.getCommonAttributes=function(){var l,u;return l=function(){var c,f,d,p;for(d=this.pieceList.toArray(),p=[],c=0,f=d.length;f>c;c++)u=d[c],p.push(u.getAttributes());return p}.call(this),r.Hash.fromCommonAttributesOfObjects(l).toObject()},a.prototype.getCommonAttributesAtRange=function(l){var u;return(u=this.getTextAtRange(l).getCommonAttributes())!=null?u:{}},a.prototype.getExpandedRangeForAttributeAtOffset=function(l,u){var c,f,d;for(c=d=u,f=this.getLength();c>0&&this.getCommonAttributesAtRange([c-1,d])[l];)c--;for(;f>d&&this.getCommonAttributesAtRange([u,d+1])[l];)d++;return[c,d]},a.prototype.getTextAtRange=function(l){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(l))},a.prototype.getStringAtRange=function(l){return this.pieceList.getSplittableListInRange(l).toString()},a.prototype.getStringAtPosition=function(l){return this.getStringAtRange([l,l+1])},a.prototype.startsWithString=function(l){return this.getStringAtRange([0,l.length])===l},a.prototype.endsWithString=function(l){var u;return u=this.getLength(),this.getStringAtRange([u-l.length,u])===l},a.prototype.getAttachmentPieces=function(){var l,u,c,f,d;for(f=this.pieceList.toArray(),d=[],l=0,u=f.length;u>l;l++)c=f[l],c.attachment!=null&&d.push(c);return d},a.prototype.getAttachments=function(){var l,u,c,f,d;for(f=this.getAttachmentPieces(),d=[],l=0,u=f.length;u>l;l++)c=f[l],d.push(c.attachment);return d},a.prototype.getAttachmentAndPositionById=function(l){var u,c,f,d,p,g;for(d=0,p=this.pieceList.toArray(),u=0,c=p.length;c>u;u++){if(f=p[u],((g=f.attachment)!=null?g.id:void 0)===l)return{attachment:f.attachment,position:d};d+=f.length}return{attachment:null,position:null}},a.prototype.getAttachmentById=function(l){var u,c;return c=this.getAttachmentAndPositionById(l),u=c.attachment,c.position,u},a.prototype.getRangeOfAttachment=function(l){var u,c;return c=this.getAttachmentAndPositionById(l.id),l=c.attachment,u=c.position,l!=null?[u,u+1]:void 0},a.prototype.updateAttributesForAttachment=function(l,u){var c;return(c=this.getRangeOfAttachment(u))?this.addAttributesAtRange(l,c):this},a.prototype.getLength=function(){return this.pieceList.getEndPosition()},a.prototype.isEmpty=function(){return this.getLength()===0},a.prototype.isEqualTo=function(l){var u;return a.__super__.isEqualTo.apply(this,arguments)||(l!=null&&(u=l.pieceList)!=null?u.isEqualTo(this.pieceList):void 0)},a.prototype.isBlockBreak=function(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},a.prototype.eachPiece=function(l){return this.pieceList.eachObject(l)},a.prototype.getPieces=function(){return this.pieceList.toArray()},a.prototype.getPieceAtPosition=function(l){return this.pieceList.getObjectAtPosition(l)},a.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},a.prototype.toSerializableText=function(){var l;return l=this.pieceList.selectSplittableList(function(u){return u.isSerializable()}),this.copyWithPieceList(l)},a.prototype.toString=function(){return this.pieceList.toString()},a.prototype.toJSON=function(){return this.pieceList.toJSON()},a.prototype.toConsole=function(){var l;return JSON.stringify(function(){var u,c,f,d;for(f=this.pieceList.toArray(),d=[],u=0,c=f.length;c>u;u++)l=f[u],d.push(JSON.parse(l.toConsole()));return d}.call(this))},a.prototype.getDirection=function(){return r.getDirection(this.toString())},a.prototype.isRTL=function(){return this.getDirection()==="rtl"},a}(r.Object)}.call(this),function(){var i,o,s,a,l=function(d,p){function g(){this.constructor=d}for(var h in p)u.call(p,h)&&(d[h]=p[h]);return g.prototype=p.prototype,d.prototype=new g,d.__super__=p.prototype,d},u={}.hasOwnProperty,c=[].indexOf||function(d){for(var p=0,g=this.length;g>p;p++)if(p in this&&this[p]===d)return p;return-1},f=[].slice;i=r.arraysAreEqual,a=r.spliceArray,o=r.getBlockConfig,r.getBlockAttributeNames,s=r.getListAttributeNames,r.Block=function(d){function p(_,T){_==null&&(_=new r.Text),T==null&&(T=[]),p.__super__.constructor.apply(this,arguments),this.text=h(_),this.attributes=T}var g,h,v,y,E,m,b,w,A;return l(p,d),p.fromJSON=function(_){var T;return T=r.Text.fromJSON(_.text),new this(T,_.attributes)},p.prototype.isEmpty=function(){return this.text.isBlockBreak()},p.prototype.isEqualTo=function(_){return p.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(_!=null?_.text:void 0)&&i(this.attributes,_!=null?_.attributes:void 0)},p.prototype.copyWithText=function(_){return new this.constructor(_,this.attributes)},p.prototype.copyWithoutText=function(){return this.copyWithText(null)},p.prototype.copyWithAttributes=function(_){return new this.constructor(this.text,_)},p.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},p.prototype.copyUsingObjectMap=function(_){var T;return this.copyWithText((T=_.find(this.text))?T:this.text.copyUsingObjectMap(_))},p.prototype.addAttribute=function(_){var T;return T=this.attributes.concat(y(_)),this.copyWithAttributes(T)},p.prototype.removeAttribute=function(_){var T,C;return C=o(_).listAttribute,T=m(m(this.attributes,_),C),this.copyWithAttributes(T)},p.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},p.prototype.getLastAttribute=function(){return E(this.attributes)},p.prototype.getAttributes=function(){return this.attributes.slice(0)},p.prototype.getAttributeLevel=function(){return this.attributes.length},p.prototype.getAttributeAtLevel=function(_){return this.attributes[_-1]},p.prototype.hasAttribute=function(_){return c.call(this.attributes,_)>=0},p.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},p.prototype.getLastNestableAttribute=function(){return E(this.getNestableAttributes())},p.prototype.getNestableAttributes=function(){var _,T,C,L,D;for(L=this.attributes,D=[],T=0,C=L.length;C>T;T++)_=L[T],o(_).nestable&&D.push(_);return D},p.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},p.prototype.decreaseNestingLevel=function(){var _;return(_=this.getLastNestableAttribute())?this.removeAttribute(_):this},p.prototype.increaseNestingLevel=function(){var _,T,C;return(_=this.getLastNestableAttribute())?(C=this.attributes.lastIndexOf(_),T=a.apply(null,[this.attributes,C+1,0].concat(f.call(y(_)))),this.copyWithAttributes(T)):this},p.prototype.getListItemAttributes=function(){var _,T,C,L,D;for(L=this.attributes,D=[],T=0,C=L.length;C>T;T++)_=L[T],o(_).listAttribute&&D.push(_);return D},p.prototype.isListItem=function(){var _;return(_=o(this.getLastAttribute()))!=null?_.listAttribute:void 0},p.prototype.isTerminalBlock=function(){var _;return(_=o(this.getLastAttribute()))!=null?_.terminal:void 0},p.prototype.breaksOnReturn=function(){var _;return(_=o(this.getLastAttribute()))!=null?_.breakOnReturn:void 0},p.prototype.findLineBreakInDirectionFromPosition=function(_,T){var C,L;return L=this.toString(),C=function(){switch(_){case"forward":return L.indexOf(`
`,T);case"backward":return L.slice(0,T).lastIndexOf(`
`)}}(),C!==-1?C:void 0},p.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},p.prototype.toString=function(){return this.text.toString()},p.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},p.prototype.getDirection=function(){return this.text.getDirection()},p.prototype.isRTL=function(){return this.text.isRTL()},p.prototype.getLength=function(){return this.text.getLength()},p.prototype.canBeConsolidatedWith=function(_){return!this.hasAttributes()&&!_.hasAttributes()&&this.getDirection()===_.getDirection()},p.prototype.consolidateWith=function(_){var T,C;return T=r.Text.textForStringWithAttributes(`
`),C=this.getTextWithoutBlockBreak().appendText(T),this.copyWithText(C.appendText(_.text))},p.prototype.splitAtOffset=function(_){var T,C;return _===0?(T=null,C=this):_===this.getLength()?(T=this,C=null):(T=this.copyWithText(this.text.getTextAtRange([0,_])),C=this.copyWithText(this.text.getTextAtRange([_,this.getLength()]))),[T,C]},p.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},p.prototype.getTextWithoutBlockBreak=function(){return b(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},p.prototype.canBeGrouped=function(_){return this.attributes[_]},p.prototype.canBeGroupedWith=function(_,T){var C,L,D,O;return D=_.getAttributes(),L=D[T],C=this.attributes[T],!(C!==L||o(C).group===!1&&(O=D[T+1],c.call(s(),O)<0)||this.getDirection()!==_.getDirection()&&!_.isEmpty())},h=function(_){return _=A(_),_=g(_)},A=function(_){var T,C,L,D,O,S;return D=!1,S=_.getPieces(),C=2<=S.length?f.call(S,0,T=S.length-1):(T=0,[]),L=S[T++],L==null?_:(C=function(){var x,R,I;for(I=[],x=0,R=C.length;R>x;x++)O=C[x],O.isBlockBreak()?(D=!0,I.push(w(O))):I.push(O);return I}(),D?new r.Text(f.call(C).concat([L])):_)},v=r.Text.textForStringWithAttributes(`
`,{blockBreak:!0}),g=function(_){return b(_)?_:_.appendText(v)},b=function(_){var T,C;return C=_.getLength(),C===0?!1:(T=_.getTextAtRange([C-1,C]),T.isBlockBreak())},w=function(_){return _.copyWithoutAttribute("blockBreak")},y=function(_){var T;return T=o(_).listAttribute,T!=null?[T,_]:[_]},E=function(_){return _.slice(-1)[0]},m=function(_,T){var C;return C=_.lastIndexOf(T),C===-1?_:a(_,C,1)},p}(r.Object)}.call(this),function(){var i,o,s,a=function(f,d){function p(){this.constructor=f}for(var g in d)l.call(d,g)&&(f[g]=d[g]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},l={}.hasOwnProperty,u=[].indexOf||function(f){for(var d=0,p=this.length;p>d;d++)if(d in this&&this[d]===f)return d;return-1},c=[].slice;o=r.tagName,s=r.walkTree,i=r.nodeIsAttachmentElement,r.HTMLSanitizer=function(f){function d(y,E){var m;m=E!=null?E:{},this.allowedAttributes=m.allowedAttributes,this.forbiddenProtocols=m.forbiddenProtocols,this.forbiddenElements=m.forbiddenElements,this.allowedAttributes==null&&(this.allowedAttributes=p),this.forbiddenProtocols==null&&(this.forbiddenProtocols=h),this.forbiddenElements==null&&(this.forbiddenElements=g),this.body=v(y)}var p,g,h,v;return a(d,f),p="style href src width height class".split(" "),h="javascript:".split(" "),g="script iframe".split(" "),d.sanitize=function(y,E){var m;return m=new this(y,E),m.sanitize(),m},d.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},d.prototype.getHTML=function(){return this.body.innerHTML},d.prototype.getBody=function(){return this.body},d.prototype.sanitizeElements=function(){var y,E,m,b,w;for(w=s(this.body),b=[];w.nextNode();)switch(m=w.currentNode,m.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(m)?b.push(m):this.sanitizeElement(m);break;case Node.COMMENT_NODE:b.push(m)}for(y=0,E=b.length;E>y;y++)m=b[y],r.removeNode(m);return this.body},d.prototype.sanitizeElement=function(y){var E,m,b,w,A;for(y.hasAttribute("href")&&(w=y.protocol,u.call(this.forbiddenProtocols,w)>=0&&y.removeAttribute("href")),A=c.call(y.attributes),E=0,m=A.length;m>E;E++)b=A[E].name,u.call(this.allowedAttributes,b)>=0||b.indexOf("data-trix")===0||y.removeAttribute(b);return y},d.prototype.normalizeListElementNesting=function(){var y,E,m,b,w;for(w=c.call(this.body.querySelectorAll("ul,ol")),y=0,E=w.length;E>y;y++)m=w[y],(b=m.previousElementSibling)&&o(b)==="li"&&b.appendChild(m);return this.body},d.prototype.elementIsRemovable=function(y){return(y!=null?y.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(y)||this.elementIsntSerializable(y):void 0},d.prototype.elementIsForbidden=function(y){var E;return E=o(y),u.call(this.forbiddenElements,E)>=0},d.prototype.elementIsntSerializable=function(y){return y.getAttribute("data-trix-serialize")==="false"&&!i(y)},v=function(y){var E,m,b,w,A;for(y==null&&(y=""),y=y.replace(/<\/html[^>]*>[^]*$/i,"</html>"),E=document.implementation.createHTMLDocument(""),E.documentElement.innerHTML=y,A=E.head.querySelectorAll("style"),b=0,w=A.length;w>b;b++)m=A[b],E.body.appendChild(m);return E.body},d}(r.BasicObject)}.call(this),function(){var i,o,s,a,l,u,c,f,d,p,g,h=function(E,m){function b(){this.constructor=E}for(var w in m)v.call(m,w)&&(E[w]=m[w]);return b.prototype=m.prototype,E.prototype=new b,E.__super__=m.prototype,E},v={}.hasOwnProperty,y=[].indexOf||function(E){for(var m=0,b=this.length;b>m;m++)if(m in this&&this[m]===E)return m;return-1};i=r.arraysAreEqual,u=r.makeElement,p=r.tagName,l=r.getBlockTagNames,g=r.walkTree,a=r.findClosestElementFromNode,s=r.elementContainsNode,c=r.nodeIsAttachmentElement,f=r.normalizeSpaces,o=r.breakableWhitespacePattern,d=r.squishBreakableWhitespace,r.HTMLParser=function(E){function m(I,k){this.html=I,this.referenceElement=(k!=null?k:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var b,w,A,_,T,C,L,D,O,S,x,R;return h(m,E),m.parse=function(I,k){var M;return M=new this(I,k),M.parse(),M},m.prototype.getDocument=function(){return r.Document.fromJSON(this.blocks)},m.prototype.parse=function(){var I,k;try{for(this.createHiddenContainer(),I=r.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=I,k=g(this.containerElement,{usingFilter:L});k.nextNode();)this.processNode(k.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},m.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=u({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},m.prototype.removeHiddenContainer=function(){return r.removeNode(this.containerElement)},L=function(I){return p(I)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m.prototype.processNode=function(I){switch(I.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(I))return this.appendBlockForTextNode(I),this.processTextNode(I);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(I),this.processElement(I)}},m.prototype.appendBlockForTextNode=function(I){var k,M,F;return M=I.parentNode,M===this.currentBlockElement&&this.isBlockElement(I.previousSibling)?this.appendStringWithAttributes(`
`):M!==this.containerElement&&!this.isBlockElement(M)||(k=this.getBlockAttributes(M),i(k,(F=this.currentBlock)!=null?F.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(k,M),this.currentBlockElement=M)},m.prototype.appendBlockForElement=function(I){var k,M,F,j;if(F=this.isBlockElement(I),M=s(this.currentBlockElement,I),F&&!this.isBlockElement(I.firstChild)){if((!this.isInsignificantTextNode(I.firstChild)||!this.isBlockElement(I.firstElementChild))&&(k=this.getBlockAttributes(I),I.firstChild))return M&&i(k,this.currentBlock.attributes)?this.appendStringWithAttributes(`
`):(this.currentBlock=this.appendBlockForAttributesWithElement(k,I),this.currentBlockElement=I)}else if(this.currentBlockElement&&!M&&!F)return(j=this.findParentBlockElement(I))?this.appendBlockForElement(j):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},m.prototype.findParentBlockElement=function(I){var k;for(k=I.parentElement;k&&k!==this.containerElement;){if(this.isBlockElement(k)&&y.call(this.blockElements,k)>=0)return k;k=k.parentElement}return null},m.prototype.processTextNode=function(I){var k,M;return M=I.data,w(I.parentNode)||(M=d(M),x((k=I.previousSibling)!=null?k.textContent:void 0)&&(M=T(M))),this.appendStringWithAttributes(M,this.getTextAttributes(I.parentNode))},m.prototype.processElement=function(I){var k,M,F,j,z;if(c(I))return k=D(I,"attachment"),Object.keys(k).length&&(j=this.getTextAttributes(I),this.appendAttachmentWithAttributes(k,j),I.innerHTML=""),this.processedElements.push(I);switch(p(I)){case"br":return this.isExtraBR(I)||this.isBlockElement(I.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(I)),this.processedElements.push(I);case"img":k={url:I.getAttribute("src"),contentType:"image"},F=_(I);for(M in F)z=F[M],k[M]=z;return this.appendAttachmentWithAttributes(k,this.getTextAttributes(I)),this.processedElements.push(I);case"tr":if(I.parentNode.firstChild!==I)return this.appendStringWithAttributes(`
`);break;case"td":if(I.parentNode.firstChild!==I)return this.appendStringWithAttributes(" | ")}},m.prototype.appendBlockForAttributesWithElement=function(I,k){var M;return this.blockElements.push(k),M=b(I),this.blocks.push(M),M},m.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},m.prototype.appendStringWithAttributes=function(I,k){return this.appendPiece(S(I,k))},m.prototype.appendAttachmentWithAttributes=function(I,k){return this.appendPiece(O(I,k))},m.prototype.appendPiece=function(I){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(I)},m.prototype.appendStringToTextAtIndex=function(I,k){var M,F;return F=this.blocks[k].text,M=F[F.length-1],(M!=null?M.type:void 0)==="string"?M.string+=I:F.push(S(I))},m.prototype.prependStringToTextAtIndex=function(I,k){var M,F;return F=this.blocks[k].text,M=F[0],(M!=null?M.type:void 0)==="string"?M.string=I+M.string:F.unshift(S(I))},S=function(I,k){var M;return k==null&&(k={}),M="string",I=f(I),{string:I,attributes:k,type:M}},O=function(I,k){var M;return k==null&&(k={}),M="attachment",{attachment:I,attributes:k,type:M}},b=function(I){var k;return I==null&&(I={}),k=[],{text:k,attributes:I}},m.prototype.getTextAttributes=function(I){var k,M,F,j,z,ce,ie,de,_e,ae,we,Se;F={},_e=r.config.textAttributes;for(k in _e)if(z=_e[k],z.tagName&&a(I,{matchingSelector:z.tagName,untilNode:this.containerElement}))F[k]=!0;else if(z.parser){if(Se=z.parser(I)){for(M=!1,ae=this.findBlockElementAncestors(I),ce=0,de=ae.length;de>ce;ce++)if(j=ae[ce],z.parser(j)===Se){M=!0;break}M||(F[k]=Se)}}else z.styleProperty&&(Se=I.style[z.styleProperty])&&(F[k]=Se);if(c(I)){we=D(I,"attributes");for(ie in we)Se=we[ie],F[ie]=Se}return F},m.prototype.getBlockAttributes=function(I){var k,M,F,j;for(M=[];I&&I!==this.containerElement;){j=r.config.blockAttributes;for(k in j)F=j[k],F.parse!==!1&&p(I)===F.tagName&&((typeof F.test=="function"?F.test(I):void 0)||!F.test)&&(M.push(k),F.listAttribute&&M.push(F.listAttribute));I=I.parentNode}return M.reverse()},m.prototype.findBlockElementAncestors=function(I){var k,M;for(k=[];I&&I!==this.containerElement;)M=p(I),y.call(l(),M)>=0&&k.push(I),I=I.parentNode;return k},D=function(I,k){try{return JSON.parse(I.getAttribute("data-trix-"+k))}catch{return{}}},_=function(I){var k,M,F;return F=I.getAttribute("width"),M=I.getAttribute("height"),k={},F&&(k.width=parseInt(F,10)),M&&(k.height=parseInt(M,10)),k},m.prototype.isBlockElement=function(I){var k;if((I!=null?I.nodeType:void 0)===Node.ELEMENT_NODE&&!c(I)&&!a(I,{matchingSelector:"td",untilNode:this.containerElement}))return k=p(I),y.call(l(),k)>=0||window.getComputedStyle(I).display==="block"},m.prototype.isInsignificantTextNode=function(I){var k,M,F;if((I!=null?I.nodeType:void 0)===Node.TEXT_NODE&&R(I.data)&&(M=I.parentNode,F=I.previousSibling,k=I.nextSibling,(!C(M.previousSibling)||this.isBlockElement(M.previousSibling))&&!w(M)))return!F||this.isBlockElement(F)||!k||this.isBlockElement(k)},m.prototype.isExtraBR=function(I){return p(I)==="br"&&this.isBlockElement(I.parentNode)&&I.parentNode.lastChild===I},w=function(I){var k;return k=window.getComputedStyle(I).whiteSpace,k==="pre"||k==="pre-wrap"||k==="pre-line"},C=function(I){return I&&!x(I.textContent)},m.prototype.translateBlockElementMarginsToNewlines=function(){var I,k,M,F,j,z,ce;for(I=this.getMarginOfDefaultBlockElement(),z=this.blocks,ce=[],M=k=0,F=z.length;F>k;M=++k)z[M],(j=this.getMarginOfBlockElementAtIndex(M))&&(j.top>2*I.top&&this.prependStringToTextAtIndex(`
`,M),ce.push(j.bottom>2*I.bottom?this.appendStringToTextAtIndex(`
`,M):void 0));return ce},m.prototype.getMarginOfBlockElementAtIndex=function(I){var k,M;return!(k=this.blockElements[I])||!k.textContent||(M=p(k),y.call(l(),M)>=0||y.call(this.processedElements,k)>=0)?void 0:A(k)},m.prototype.getMarginOfDefaultBlockElement=function(){var I;return I=u(r.config.blockAttributes.default.tagName),this.containerElement.appendChild(I),A(I)},A=function(I){var k;return k=window.getComputedStyle(I),k.display==="block"?{top:parseInt(k.marginTop),bottom:parseInt(k.marginBottom)}:void 0},T=function(I){return I.replace(RegExp("^"+o.source+"+"),"")},R=function(I){return RegExp("^"+o.source+"*$").test(I)},x=function(I){return/\s$/.test(I)},m}(r.BasicObject)}.call(this),function(){var i,o,s,a,l=function(d,p){function g(){this.constructor=d}for(var h in p)u.call(p,h)&&(d[h]=p[h]);return g.prototype=p.prototype,d.prototype=new g,d.__super__=p.prototype,d},u={}.hasOwnProperty,c=[].slice,f=[].indexOf||function(d){for(var p=0,g=this.length;g>p;p++)if(p in this&&this[p]===d)return p;return-1};i=r.arraysAreEqual,s=r.normalizeRange,a=r.rangeIsCollapsed,o=r.getBlockConfig,r.Document=function(d){function p(h){h==null&&(h=[]),p.__super__.constructor.apply(this,arguments),h.length===0&&(h=[new r.Block]),this.blockList=r.SplittableList.box(h)}var g;return l(p,d),p.fromJSON=function(h){var v,y;return y=function(){var E,m,b;for(b=[],E=0,m=h.length;m>E;E++)v=h[E],b.push(r.Block.fromJSON(v));return b}(),new this(y)},p.fromHTML=function(h,v){return r.HTMLParser.parse(h,v).getDocument()},p.fromString=function(h,v){var y;return y=r.Text.textForStringWithAttributes(h,v),new this([new r.Block(y)])},p.prototype.isEmpty=function(){var h;return this.blockList.length===1&&(h=this.getBlockAtIndex(0),h.isEmpty()&&!h.hasAttributes())},p.prototype.copy=function(h){var v;return h==null&&(h={}),v=h.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(v)},p.prototype.copyUsingObjectsFromDocument=function(h){var v;return v=new r.ObjectMap(h.getObjects()),this.copyUsingObjectMap(v)},p.prototype.copyUsingObjectMap=function(h){var v,y,E;return y=function(){var m,b,w,A;for(w=this.getBlocks(),A=[],m=0,b=w.length;b>m;m++)v=w[m],A.push((E=h.find(v))?E:v.copyUsingObjectMap(h));return A}.call(this),new this.constructor(y)},p.prototype.copyWithBaseBlockAttributes=function(h){var v,y,E;return h==null&&(h=[]),E=function(){var m,b,w,A;for(w=this.getBlocks(),A=[],m=0,b=w.length;b>m;m++)y=w[m],v=h.concat(y.getAttributes()),A.push(y.copyWithAttributes(v));return A}.call(this),new this.constructor(E)},p.prototype.replaceBlock=function(h,v){var y;return y=this.blockList.indexOf(h),y===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(v,y))},p.prototype.insertDocumentAtRange=function(h,v){var y,E,m,b,w,A,_;return E=h.blockList,w=(v=s(v))[0],A=this.locationFromPosition(w),m=A.index,b=A.offset,_=this,y=this.getBlockAtPosition(w),a(v)&&y.isEmpty()&&!y.hasAttributes()?_=new this.constructor(_.blockList.removeObjectAtIndex(m)):y.getBlockBreakPosition()===b&&w++,_=_.removeTextAtRange(v),new this.constructor(_.blockList.insertSplittableListAtPosition(E,w))},p.prototype.mergeDocumentAtRange=function(h,v){var y,E,m,b,w,A,_,T,C,L,D,O;return D=(v=s(v))[0],L=this.locationFromPosition(D),E=this.getBlockAtIndex(L.index).getAttributes(),y=h.getBaseBlockAttributes(),O=E.slice(-y.length),i(y,O)?(_=E.slice(0,-y.length),A=h.copyWithBaseBlockAttributes(_)):A=h.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(E),m=A.getBlockCount(),b=A.getBlockAtIndex(0),i(E,b.getAttributes())?(w=b.getTextWithoutBlockBreak(),C=this.insertTextAtRange(w,v),m>1&&(A=new this.constructor(A.getBlocks().slice(1)),T=D+w.getLength(),C=C.insertDocumentAtRange(A,T))):C=this.insertDocumentAtRange(A,v),C},p.prototype.insertTextAtRange=function(h,v){var y,E,m,b,w;return w=(v=s(v))[0],b=this.locationFromPosition(w),E=b.index,m=b.offset,y=this.removeTextAtRange(v),new this.constructor(y.blockList.editObjectAtIndex(E,function(A){return A.copyWithText(A.text.insertTextAtPosition(h,m))}))},p.prototype.removeTextAtRange=function(h){var v,y,E,m,b,w,A,_,T,C,L,D,O,S,x,R,I,k,M,F,j;return C=h=s(h),_=C[0],k=C[1],a(h)?this:(L=this.locationRangeFromRange(h),w=L[0],R=L[1],b=w.index,A=w.offset,m=this.getBlockAtIndex(b),x=R.index,I=R.offset,S=this.getBlockAtIndex(x),D=k-_===1&&m.getBlockBreakPosition()===A&&S.getBlockBreakPosition()!==I&&S.text.getStringAtPosition(I)===`
`,D?E=this.blockList.editObjectAtIndex(x,function(z){return z.copyWithText(z.text.removeTextAtRange([I,I+1]))}):(T=m.text.getTextAtRange([0,A]),M=S.text.getTextAtRange([I,S.getLength()]),F=T.appendText(M),O=b!==x&&A===0,j=O&&m.getAttributeLevel()>=S.getAttributeLevel(),y=j?S.copyWithText(F):m.copyWithText(F),v=x+1-b,E=this.blockList.splice(b,v,y)),new this.constructor(E))},p.prototype.moveTextFromRangeToPosition=function(h,v){var y,E,m,b,w,A,_,T,C,L;return A=h=s(h),C=A[0],m=A[1],v>=C&&m>=v?this:(E=this.getDocumentAtRange(h),T=this.removeTextAtRange(h),w=v>C,w&&(v-=E.getLength()),_=E.getBlocks(),b=_[0],y=2<=_.length?c.call(_,1):[],y.length===0?(L=b.getTextWithoutBlockBreak(),w&&(v+=1)):L=b.text,T=T.insertTextAtRange(L,v),y.length===0?T:(E=new this.constructor(y),v+=L.getLength(),T.insertDocumentAtRange(E,v)))},p.prototype.addAttributeAtRange=function(h,v,y){var E;return E=this.blockList,this.eachBlockAtRange(y,function(m,b,w){return E=E.editObjectAtIndex(w,function(){return o(h)?m.addAttribute(h,v):b[0]===b[1]?m:m.copyWithText(m.text.addAttributeAtRange(h,v,b))})}),new this.constructor(E)},p.prototype.addAttribute=function(h,v){var y;return y=this.blockList,this.eachBlock(function(E,m){return y=y.editObjectAtIndex(m,function(){return E.addAttribute(h,v)})}),new this.constructor(y)},p.prototype.removeAttributeAtRange=function(h,v){var y;return y=this.blockList,this.eachBlockAtRange(v,function(E,m,b){return o(h)?y=y.editObjectAtIndex(b,function(){return E.removeAttribute(h)}):m[0]!==m[1]?y=y.editObjectAtIndex(b,function(){return E.copyWithText(E.text.removeAttributeAtRange(h,m))}):void 0}),new this.constructor(y)},p.prototype.updateAttributesForAttachment=function(h,v){var y,E,m;return E=this.getRangeOfAttachment(v)[0],y=this.locationFromPosition(E).index,m=this.getTextAtIndex(y),new this.constructor(this.blockList.editObjectAtIndex(y,function(b){return b.copyWithText(m.updateAttributesForAttachment(h,v))}))},p.prototype.removeAttributeForAttachment=function(h,v){var y;return y=this.getRangeOfAttachment(v),this.removeAttributeAtRange(h,y)},p.prototype.insertBlockBreakAtRange=function(h){var v,y,E,m;return m=(h=s(h))[0],E=this.locationFromPosition(m).offset,y=this.removeTextAtRange(h),E===0&&(v=[new r.Block]),new this.constructor(y.blockList.insertSplittableListAtPosition(new r.SplittableList(v),m))},p.prototype.applyBlockAttributeAtRange=function(h,v,y){var E,m,b,w;return b=this.expandRangeToLineBreaksAndSplitBlocks(y),m=b.document,y=b.range,E=o(h),E.listAttribute?(m=m.removeLastListAttributeAtRange(y,{exceptAttributeName:h}),w=m.convertLineBreaksToBlockBreaksInRange(y),m=w.document,y=w.range):m=E.exclusive?m.removeBlockAttributesAtRange(y):E.terminal?m.removeLastTerminalAttributeAtRange(y):m.consolidateBlocksAtRange(y),m.addAttributeAtRange(h,v,y)},p.prototype.removeLastListAttributeAtRange=function(h,v){var y;return v==null&&(v={}),y=this.blockList,this.eachBlockAtRange(h,function(E,m,b){var w;if((w=E.getLastAttribute())&&o(w).listAttribute&&w!==v.exceptAttributeName)return y=y.editObjectAtIndex(b,function(){return E.removeAttribute(w)})}),new this.constructor(y)},p.prototype.removeLastTerminalAttributeAtRange=function(h){var v;return v=this.blockList,this.eachBlockAtRange(h,function(y,E,m){var b;if((b=y.getLastAttribute())&&o(b).terminal)return v=v.editObjectAtIndex(m,function(){return y.removeAttribute(b)})}),new this.constructor(v)},p.prototype.removeBlockAttributesAtRange=function(h){var v;return v=this.blockList,this.eachBlockAtRange(h,function(y,E,m){return y.hasAttributes()?v=v.editObjectAtIndex(m,function(){return y.copyWithoutAttributes()}):void 0}),new this.constructor(v)},p.prototype.expandRangeToLineBreaksAndSplitBlocks=function(h){var v,y,E,m,b,w,A,_,T;return w=h=s(h),T=w[0],m=w[1],_=this.locationFromPosition(T),E=this.locationFromPosition(m),v=this,A=v.getBlockAtIndex(_.index),(_.offset=A.findLineBreakInDirectionFromPosition("backward",_.offset))!=null&&(b=v.positionFromLocation(_),v=v.insertBlockBreakAtRange([b,b+1]),E.index+=1,E.offset-=v.getBlockAtIndex(_.index).getLength(),_.index+=1),_.offset=0,E.offset===0&&E.index>_.index?(E.index-=1,E.offset=v.getBlockAtIndex(E.index).getBlockBreakPosition()):(y=v.getBlockAtIndex(E.index),y.text.getStringAtRange([E.offset-1,E.offset])===`
`?E.offset-=1:E.offset=y.findLineBreakInDirectionFromPosition("forward",E.offset),E.offset!==y.getBlockBreakPosition()&&(b=v.positionFromLocation(E),v=v.insertBlockBreakAtRange([b,b+1]))),T=v.positionFromLocation(_),m=v.positionFromLocation(E),h=s([T,m]),{document:v,range:h}},p.prototype.convertLineBreaksToBlockBreaksInRange=function(h){var v,y,E;return y=(h=s(h))[0],E=this.getStringAtRange(h).slice(0,-1),v=this,E.replace(/.*?\n/g,function(m){return y+=m.length,v=v.insertBlockBreakAtRange([y-1,y])}),{document:v,range:h}},p.prototype.consolidateBlocksAtRange=function(h){var v,y,E,m,b;return E=h=s(h),b=E[0],y=E[1],m=this.locationFromPosition(b).index,v=this.locationFromPosition(y).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(m,v))},p.prototype.getDocumentAtRange=function(h){var v;return h=s(h),v=this.blockList.getSplittableListInRange(h).toArray(),new this.constructor(v)},p.prototype.getStringAtRange=function(h){var v,y,E;return E=h=s(h),y=E[E.length-1],y!==this.getLength()&&(v=-1),this.getDocumentAtRange(h).toString().slice(0,v)},p.prototype.getBlockAtIndex=function(h){return this.blockList.getObjectAtIndex(h)},p.prototype.getBlockAtPosition=function(h){var v;return v=this.locationFromPosition(h).index,this.getBlockAtIndex(v)},p.prototype.getTextAtIndex=function(h){var v;return(v=this.getBlockAtIndex(h))!=null?v.text:void 0},p.prototype.getTextAtPosition=function(h){var v;return v=this.locationFromPosition(h).index,this.getTextAtIndex(v)},p.prototype.getPieceAtPosition=function(h){var v,y,E;return E=this.locationFromPosition(h),v=E.index,y=E.offset,this.getTextAtIndex(v).getPieceAtPosition(y)},p.prototype.getCharacterAtPosition=function(h){var v,y,E;return E=this.locationFromPosition(h),v=E.index,y=E.offset,this.getTextAtIndex(v).getStringAtRange([y,y+1])},p.prototype.getLength=function(){return this.blockList.getEndPosition()},p.prototype.getBlocks=function(){return this.blockList.toArray()},p.prototype.getBlockCount=function(){return this.blockList.length},p.prototype.getEditCount=function(){return this.editCount},p.prototype.eachBlock=function(h){return this.blockList.eachObject(h)},p.prototype.eachBlockAtRange=function(h,v){var y,E,m,b,w,A,_,T,C,L,D,O;if(A=h=s(h),D=A[0],m=A[1],L=this.locationFromPosition(D),E=this.locationFromPosition(m),L.index===E.index)return y=this.getBlockAtIndex(L.index),O=[L.offset,E.offset],v(y,O,L.index);for(C=[],w=b=_=L.index,T=E.index;T>=_?T>=b:b>=T;w=T>=_?++b:--b)(y=this.getBlockAtIndex(w))?(O=function(){switch(w){case L.index:return[L.offset,y.text.getLength()];case E.index:return[0,E.offset];default:return[0,y.text.getLength()]}}(),C.push(v(y,O,w))):C.push(void 0);return C},p.prototype.getCommonAttributesAtRange=function(h){var v,y,E;return y=(h=s(h))[0],a(h)?this.getCommonAttributesAtPosition(y):(E=[],v=[],this.eachBlockAtRange(h,function(m,b){return b[0]!==b[1]?(E.push(m.text.getCommonAttributesAtRange(b)),v.push(g(m))):void 0}),r.Hash.fromCommonAttributesOfObjects(E).merge(r.Hash.fromCommonAttributesOfObjects(v)).toObject())},p.prototype.getCommonAttributesAtPosition=function(h){var v,y,E,m,b,w,A,_,T,C;if(T=this.locationFromPosition(h),b=T.index,_=T.offset,E=this.getBlockAtIndex(b),!E)return{};m=g(E),v=E.text.getAttributesAtPosition(_),y=E.text.getAttributesAtPosition(_-1),w=function(){var L,D;L=r.config.textAttributes,D=[];for(A in L)C=L[A],C.inheritable&&D.push(A);return D}();for(A in y)C=y[A],(C===v[A]||f.call(w,A)>=0)&&(m[A]=C);return m},p.prototype.getRangeOfCommonAttributeAtPosition=function(h,v){var y,E,m,b,w,A,_,T,C;return w=this.locationFromPosition(v),m=w.index,b=w.offset,C=this.getTextAtIndex(m),A=C.getExpandedRangeForAttributeAtOffset(h,b),T=A[0],E=A[1],_=this.positionFromLocation({index:m,offset:T}),y=this.positionFromLocation({index:m,offset:E}),s([_,y])},p.prototype.getBaseBlockAttributes=function(){var h,v,y,E,m,b,w;for(h=this.getBlockAtIndex(0).getAttributes(),y=E=1,w=this.getBlockCount();w>=1?w>E:E>w;y=w>=1?++E:--E)v=this.getBlockAtIndex(y).getAttributes(),b=Math.min(h.length,v.length),h=function(){var A,_,T;for(T=[],m=A=0,_=b;(_>=0?_>A:A>_)&&v[m]===h[m];m=_>=0?++A:--A)T.push(v[m]);return T}();return h},g=function(h){var v,y;return y={},(v=h.getLastAttribute())&&(y[v]=!0),y},p.prototype.getAttachmentById=function(h){var v,y,E,m;for(m=this.getAttachments(),y=0,E=m.length;E>y;y++)if(v=m[y],v.id===h)return v},p.prototype.getAttachmentPieces=function(){var h;return h=[],this.blockList.eachObject(function(v){var y;return y=v.text,h=h.concat(y.getAttachmentPieces())}),h},p.prototype.getAttachments=function(){var h,v,y,E,m;for(E=this.getAttachmentPieces(),m=[],h=0,v=E.length;v>h;h++)y=E[h],m.push(y.attachment);return m},p.prototype.getRangeOfAttachment=function(h){var v,y,E,m,b,w,A;for(m=0,b=this.blockList.toArray(),y=v=0,E=b.length;E>v;y=++v){if(w=b[y].text,A=w.getRangeOfAttachment(h))return s([m+A[0],m+A[1]]);m+=w.getLength()}},p.prototype.getLocationRangeOfAttachment=function(h){var v;return v=this.getRangeOfAttachment(h),this.locationRangeFromRange(v)},p.prototype.getAttachmentPieceForAttachment=function(h){var v,y,E,m;for(m=this.getAttachmentPieces(),v=0,y=m.length;y>v;v++)if(E=m[v],E.attachment===h)return E},p.prototype.findRangesForBlockAttribute=function(h){var v,y,E,m,b,w,A;for(b=0,w=[],A=this.getBlocks(),y=0,E=A.length;E>y;y++)v=A[y],m=v.getLength(),v.hasAttribute(h)&&w.push([b,b+m]),b+=m;return w},p.prototype.findRangesForTextAttribute=function(h,v){var y,E,m,b,w,A,_,T,C,L;for(L=(v!=null?v:{}).withValue,A=0,_=[],T=[],b=function(D){return L!=null?D.getAttribute(h)===L:D.hasAttribute(h)},C=this.getPieces(),y=0,E=C.length;E>y;y++)w=C[y],m=w.getLength(),b(w)&&(_[1]===A?_[1]=A+m:T.push(_=[A,A+m])),A+=m;return T},p.prototype.locationFromPosition=function(h){var v,y;return y=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,h)),y.index!=null?y:(v=this.getBlocks(),{index:v.length-1,offset:v[v.length-1].getLength()})},p.prototype.positionFromLocation=function(h){return this.blockList.findPositionAtIndexAndOffset(h.index,h.offset)},p.prototype.locationRangeFromPosition=function(h){return s(this.locationFromPosition(h))},p.prototype.locationRangeFromRange=function(h){var v,y,E,m;if(h=s(h))return m=h[0],y=h[1],E=this.locationFromPosition(m),v=this.locationFromPosition(y),s([E,v])},p.prototype.rangeFromLocationRange=function(h){var v,y;return h=s(h),v=this.positionFromLocation(h[0]),a(h)||(y=this.positionFromLocation(h[1])),s([v,y])},p.prototype.isEqualTo=function(h){return this.blockList.isEqualTo(h!=null?h.blockList:void 0)},p.prototype.getTexts=function(){var h,v,y,E,m;for(E=this.getBlocks(),m=[],v=0,y=E.length;y>v;v++)h=E[v],m.push(h.text);return m},p.prototype.getPieces=function(){var h,v,y,E,m;for(y=[],E=this.getTexts(),h=0,v=E.length;v>h;h++)m=E[h],y.push.apply(y,m.getPieces());return y},p.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},p.prototype.toSerializableDocument=function(){var h;return h=[],this.blockList.eachObject(function(v){return h.push(v.copyWithText(v.text.toSerializableText()))}),new this.constructor(h)},p.prototype.toString=function(){return this.blockList.toString()},p.prototype.toJSON=function(){return this.blockList.toJSON()},p.prototype.toConsole=function(){var h;return JSON.stringify(function(){var v,y,E,m;for(E=this.blockList.toArray(),m=[],v=0,y=E.length;y>v;v++)h=E[v],m.push(JSON.parse(h.text.toConsole()));return m}.call(this))},p}(r.Object)}.call(this),function(){r.LineBreakInsertion=function(){function i(o){var s;this.composition=o,this.document=this.composition.document,s=this.composition.getSelectedRange(),this.startPosition=s[0],this.endPosition=s[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return i.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`},i.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)},i.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},i.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()},i.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},i}()}.call(this),function(){var i,o,s,a,l,u,c,f,d,p,g=function(v,y){function E(){this.constructor=v}for(var m in y)h.call(y,m)&&(v[m]=y[m]);return E.prototype=y.prototype,v.prototype=new E,v.__super__=y.prototype,v},h={}.hasOwnProperty;u=r.normalizeRange,d=r.rangesAreEqual,f=r.rangeIsCollapsed,c=r.objectsAreEqual,i=r.arrayStartsWith,p=r.summarizeArrayChange,s=r.getAllAttributeNames,a=r.getBlockConfig,l=r.getTextConfig,o=r.extend,r.Composition=function(v){function y(){this.document=new r.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var E;return g(y,v),y.prototype.setDocument=function(m){var b;return m.isEqualTo(this.document)?void 0:(this.document=m,this.refreshAttachments(),this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidChangeDocument=="function"?b.compositionDidChangeDocument(m):void 0)},y.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},y.prototype.loadSnapshot=function(m){var b,w,A,_;return b=m.document,_=m.selectedRange,(w=this.delegate)!=null&&typeof w.compositionWillLoadSnapshot=="function"&&w.compositionWillLoadSnapshot(),this.setDocument(b!=null?b:new r.Document),this.setSelection(_!=null?_:[0,0]),(A=this.delegate)!=null&&typeof A.compositionDidLoadSnapshot=="function"?A.compositionDidLoadSnapshot():void 0},y.prototype.insertText=function(m,b){var w,A,_,T;return T=(b!=null?b:{updatePosition:!0}).updatePosition,A=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(m,A)),_=A[0],w=_+m.getLength(),T&&this.setSelection(w),this.notifyDelegateOfInsertionAtRange([_,w])},y.prototype.insertBlock=function(m){var b;return m==null&&(m=new r.Block),b=new r.Document([m]),this.insertDocument(b)},y.prototype.insertDocument=function(m){var b,w,A;return m==null&&(m=new r.Document),w=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(m,w)),A=w[0],b=A+m.getLength(),this.setSelection(b),this.notifyDelegateOfInsertionAtRange([A,b])},y.prototype.insertString=function(m,b){var w,A;return w=this.getCurrentTextAttributes(),A=r.Text.textForStringWithAttributes(m,w),this.insertText(A,b)},y.prototype.insertBlockBreak=function(){var m,b,w;return b=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(b)),w=b[0],m=w+1,this.setSelection(m),this.notifyDelegateOfInsertionAtRange([w,m])},y.prototype.insertLineBreak=function(){var m,b;return b=new r.LineBreakInsertion(this),b.shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(b.startPosition)):b.shouldPrependListItem()?(m=new r.Document([b.block.copyWithoutText()]),this.insertDocument(m)):b.shouldInsertBlockBreak()?this.insertBlockBreak():b.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():b.shouldBreakFormattedBlock()?this.breakFormattedBlock(b):this.insertString(`
`)},y.prototype.insertHTML=function(m){var b,w,A,_;return b=r.Document.fromHTML(m),A=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(b,A)),_=A[0],w=_+b.getLength()-1,this.setSelection(w),this.notifyDelegateOfInsertionAtRange([_,w])},y.prototype.replaceHTML=function(m){var b,w,A;return b=r.Document.fromHTML(m).copyUsingObjectsFromDocument(this.document),w=this.getLocationRange({strict:!1}),A=this.document.rangeFromLocationRange(w),this.setDocument(b),this.setSelection(A)},y.prototype.insertFile=function(m){return this.insertFiles([m])},y.prototype.insertFiles=function(m){var b,w,A,_,T,C;for(w=[],_=0,T=m.length;T>_;_++)A=m[_],(C=this.delegate)!=null&&C.compositionShouldAcceptFile(A)&&(b=r.Attachment.attachmentForFile(A),w.push(b));return this.insertAttachments(w)},y.prototype.insertAttachment=function(m){return this.insertAttachments([m])},y.prototype.insertAttachments=function(m){var b,w,A,_,T,C,L,D,O;for(D=new r.Text,_=0,T=m.length;T>_;_++)b=m[_],O=b.getType(),C=(L=r.config.attachments[O])!=null?L.presentation:void 0,A=this.getCurrentTextAttributes(),C&&(A.presentation=C),w=r.Text.textForAttachmentWithAttributes(b,A),D=D.appendText(w);return this.insertText(D)},y.prototype.shouldManageDeletingInDirection=function(m){var b;if(b=this.getLocationRange(),f(b)){if(m==="backward"&&b[0].offset===0||this.shouldManageMovingCursorInDirection(m))return!0}else if(b[0].index!==b[1].index)return!0;return!1},y.prototype.deleteInDirection=function(m,b){var w,A,_,T,C,L,D,O;return T=(b!=null?b:{}).length,C=this.getLocationRange(),L=this.getSelectedRange(),D=f(L),D?_=m==="backward"&&C[0].offset===0:O=C[0].index!==C[1].index,_&&this.canDecreaseBlockAttributeLevel()&&(A=this.getBlock(),A.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(L[0]),A.isEmpty())?!1:(D&&(L=this.getExpandedRangeInDirection(m,{length:T}),m==="backward"&&(w=this.getAttachmentAtRange(L))),w?(this.editAttachment(w),!1):(this.setDocument(this.document.removeTextAtRange(L)),this.setSelection(L[0]),_||O?!1:void 0))},y.prototype.moveTextFromRange=function(m){var b;return b=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(m,b)),this.setSelection(b)},y.prototype.removeAttachment=function(m){var b;return(b=this.document.getRangeOfAttachment(m))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(b)),this.setSelection(b[0])):void 0},y.prototype.removeLastBlockAttribute=function(){var m,b,w,A;return w=this.getSelectedRange(),A=w[0],b=w[1],m=this.document.getBlockAtPosition(b),this.removeCurrentAttribute(m.getLastAttribute()),this.setSelection(A)},E=" ",y.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(E)},y.prototype.selectPlaceholder=function(){return this.placeholderPosition!=null?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+E.length]),this.getSelectedRange()):void 0},y.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},y.prototype.hasCurrentAttribute=function(m){var b;return b=this.currentAttributes[m],b!=null&&b!==!1},y.prototype.toggleCurrentAttribute=function(m){var b;return(b=!this.currentAttributes[m])?this.setCurrentAttribute(m,b):this.removeCurrentAttribute(m)},y.prototype.canSetCurrentAttribute=function(m){return a(m)?this.canSetCurrentBlockAttribute(m):this.canSetCurrentTextAttribute(m)},y.prototype.canSetCurrentTextAttribute=function(){var m,b,w,A,_;if(b=this.getSelectedDocument()){for(_=b.getAttachments(),w=0,A=_.length;A>w;w++)if(m=_[w],!m.hasContent())return!1;return!0}},y.prototype.canSetCurrentBlockAttribute=function(){var m;if(m=this.getBlock())return!m.isTerminalBlock()},y.prototype.setCurrentAttribute=function(m,b){return a(m)?this.setBlockAttribute(m,b):(this.setTextAttribute(m,b),this.currentAttributes[m]=b,this.notifyDelegateOfCurrentAttributesChange())},y.prototype.setTextAttribute=function(m,b){var w,A,_,T;if(A=this.getSelectedRange())return _=A[0],w=A[1],_!==w?this.setDocument(this.document.addAttributeAtRange(m,b,A)):m==="href"?(T=r.Text.textForStringWithAttributes(b,{href:b}),this.insertText(T)):void 0},y.prototype.setBlockAttribute=function(m,b){var w;if(w=this.getSelectedRange())return this.canSetCurrentAttribute(m)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(m,b,w)),this.setSelection(w)):void 0},y.prototype.removeCurrentAttribute=function(m){return a(m)?(this.removeBlockAttribute(m),this.updateCurrentAttributes()):(this.removeTextAttribute(m),delete this.currentAttributes[m],this.notifyDelegateOfCurrentAttributesChange())},y.prototype.removeTextAttribute=function(m){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(m,b))},y.prototype.removeBlockAttribute=function(m){var b;if(b=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(m,b))},y.prototype.canDecreaseNestingLevel=function(){var m;return((m=this.getBlock())!=null?m.getNestingLevel():void 0)>0},y.prototype.canIncreaseNestingLevel=function(){var m,b,w;if(m=this.getBlock())return(w=a(m.getLastNestableAttribute()))!=null&&w.listAttribute?(b=this.getPreviousBlock())?i(b.getListItemAttributes(),m.getListItemAttributes()):void 0:m.getNestingLevel()>0},y.prototype.decreaseNestingLevel=function(){var m;if(m=this.getBlock())return this.setDocument(this.document.replaceBlock(m,m.decreaseNestingLevel()))},y.prototype.increaseNestingLevel=function(){var m;if(m=this.getBlock())return this.setDocument(this.document.replaceBlock(m,m.increaseNestingLevel()))},y.prototype.canDecreaseBlockAttributeLevel=function(){var m;return((m=this.getBlock())!=null?m.getAttributeLevel():void 0)>0},y.prototype.decreaseBlockAttributeLevel=function(){var m,b;return(m=(b=this.getBlock())!=null?b.getLastAttribute():void 0)?this.removeCurrentAttribute(m):void 0},y.prototype.decreaseListLevel=function(){var m,b,w,A,_,T;for(T=this.getSelectedRange()[0],_=this.document.locationFromPosition(T).index,w=_,m=this.getBlock().getAttributeLevel();(b=this.document.getBlockAtIndex(w+1))&&b.isListItem()&&b.getAttributeLevel()>m;)w++;return T=this.document.positionFromLocation({index:_,offset:0}),A=this.document.positionFromLocation({index:w,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([T,A]))},y.prototype.updateCurrentAttributes=function(){var m,b,w,A,_,T;if(T=this.getSelectedRange({ignoreLock:!0})){for(b=this.document.getCommonAttributesAtRange(T),_=s(),w=0,A=_.length;A>w;w++)m=_[w],b[m]||this.canSetCurrentAttribute(m)||(b[m]=!1);if(!c(b,this.currentAttributes))return this.currentAttributes=b,this.notifyDelegateOfCurrentAttributesChange()}},y.prototype.getCurrentAttributes=function(){return o.call({},this.currentAttributes)},y.prototype.getCurrentTextAttributes=function(){var m,b,w,A;m={},w=this.currentAttributes;for(b in w)A=w[b],A!==!1&&l(b)&&(m[b]=A);return m},y.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},y.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},y.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},y.proxyMethod("getSelectionManager().getPointRange"),y.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),y.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),y.proxyMethod("getSelectionManager().locationIsCursorTarget"),y.proxyMethod("getSelectionManager().selectionIsExpanded"),y.proxyMethod("delegate?.getSelectionManager"),y.prototype.setSelection=function(m){var b,w;return b=this.document.locationRangeFromRange(m),(w=this.delegate)!=null?w.compositionDidRequestChangingSelectionToLocationRange(b):void 0},y.prototype.getSelectedRange=function(){var m;return(m=this.getLocationRange())?this.document.rangeFromLocationRange(m):void 0},y.prototype.setSelectedRange=function(m){var b;return b=this.document.locationRangeFromRange(m),this.getSelectionManager().setLocationRange(b)},y.prototype.getPosition=function(){var m;return(m=this.getLocationRange())?this.document.positionFromLocation(m[0]):void 0},y.prototype.getLocationRange=function(m){var b,w;return(b=(w=this.targetLocationRange)!=null?w:this.getSelectionManager().getLocationRange(m))!=null?b:u({index:0,offset:0})},y.prototype.withTargetLocationRange=function(m,b){var w;this.targetLocationRange=m;try{w=b()}finally{this.targetLocationRange=null}return w},y.prototype.withTargetRange=function(m,b){var w;return w=this.document.locationRangeFromRange(m),this.withTargetLocationRange(w,b)},y.prototype.withTargetDOMRange=function(m,b){var w;return w=this.createLocationRangeFromDOMRange(m,{strict:!1}),this.withTargetLocationRange(w,b)},y.prototype.getExpandedRangeInDirection=function(m,b){var w,A,_,T;return A=(b!=null?b:{}).length,_=this.getSelectedRange(),T=_[0],w=_[1],m==="backward"?A?T-=A:T=this.translateUTF16PositionFromOffset(T,-1):A?w+=A:w=this.translateUTF16PositionFromOffset(w,1),u([T,w])},y.prototype.shouldManageMovingCursorInDirection=function(m){var b;return this.editingAttachment?!0:(b=this.getExpandedRangeInDirection(m),this.getAttachmentAtRange(b)!=null)},y.prototype.moveCursorInDirection=function(m){var b,w,A,_;return this.editingAttachment?A=this.document.getRangeOfAttachment(this.editingAttachment):(_=this.getSelectedRange(),A=this.getExpandedRangeInDirection(m),w=!d(_,A)),this.setSelectedRange(m==="backward"?A[0]:A[1]),w&&(b=this.getAttachmentAtRange(A))?this.editAttachment(b):void 0},y.prototype.expandSelectionInDirection=function(m,b){var w,A;return w=(b!=null?b:{}).length,A=this.getExpandedRangeInDirection(m,{length:w}),this.setSelectedRange(A)},y.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},y.prototype.expandSelectionAroundCommonAttribute=function(m){var b,w;return b=this.getPosition(),w=this.document.getRangeOfCommonAttributeAtPosition(m,b),this.setSelectedRange(w)},y.prototype.selectionContainsAttachments=function(){var m;return((m=this.getSelectedAttachments())!=null?m.length:void 0)>0},y.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},y.prototype.positionIsCursorTarget=function(m){var b;return(b=this.document.locationFromPosition(m))?this.locationIsCursorTarget(b):void 0},y.prototype.positionIsBlockBreak=function(m){var b;return(b=this.document.getPieceAtPosition(m))!=null?b.isBlockBreak():void 0},y.prototype.getSelectedDocument=function(){var m;return(m=this.getSelectedRange())?this.document.getDocumentAtRange(m):void 0},y.prototype.getSelectedAttachments=function(){var m;return(m=this.getSelectedDocument())!=null?m.getAttachments():void 0},y.prototype.getAttachments=function(){return this.attachments.slice(0)},y.prototype.refreshAttachments=function(){var m,b,w,A,_,T,C,L,D,O,S,x;for(w=this.document.getAttachments(),L=p(this.attachments,w),m=L.added,S=L.removed,this.attachments=w,A=0,T=S.length;T>A;A++)b=S[A],b.delegate=null,(D=this.delegate)!=null&&typeof D.compositionDidRemoveAttachment=="function"&&D.compositionDidRemoveAttachment(b);for(x=[],_=0,C=m.length;C>_;_++)b=m[_],b.delegate=this,x.push((O=this.delegate)!=null&&typeof O.compositionDidAddAttachment=="function"?O.compositionDidAddAttachment(b):void 0);return x},y.prototype.attachmentDidChangeAttributes=function(m){var b;return this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidEditAttachment=="function"?b.compositionDidEditAttachment(m):void 0},y.prototype.attachmentDidChangePreviewURL=function(m){var b;return this.revision++,(b=this.delegate)!=null&&typeof b.compositionDidChangeAttachmentPreviewURL=="function"?b.compositionDidChangeAttachmentPreviewURL(m):void 0},y.prototype.editAttachment=function(m,b){var w;if(m!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=m,(w=this.delegate)!=null&&typeof w.compositionDidStartEditingAttachment=="function"?w.compositionDidStartEditingAttachment(this.editingAttachment,b):void 0},y.prototype.stopEditingAttachment=function(){var m;if(this.editingAttachment)return(m=this.delegate)!=null&&typeof m.compositionDidStopEditingAttachment=="function"&&m.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},y.prototype.updateAttributesForAttachment=function(m,b){return this.setDocument(this.document.updateAttributesForAttachment(m,b))},y.prototype.removeAttributeForAttachment=function(m,b){return this.setDocument(this.document.removeAttributeForAttachment(m,b))},y.prototype.breakFormattedBlock=function(m){var b,w,A,_,T;return w=m.document,b=m.block,_=m.startPosition,T=[_-1,_],b.getBlockBreakPosition()===m.startLocation.offset?(b.breaksOnReturn()&&m.nextCharacter===`
`?_+=1:w=w.removeTextAtRange(T),T=[_,_]):m.nextCharacter===`
`?m.previousCharacter===`
`?T=[_-1,_+1]:(T=[_,_+1],_+=1):m.startLocation.offset-1!==0&&(_+=1),A=new r.Document([b.removeLastAttribute().copyWithoutText()]),this.setDocument(w.insertDocumentAtRange(A,T)),this.setSelection(_)},y.prototype.getPreviousBlock=function(){var m,b;return(b=this.getLocationRange())&&(m=b[0].index,m>0)?this.document.getBlockAtIndex(m-1):void 0},y.prototype.getBlock=function(){var m;return(m=this.getLocationRange())?this.document.getBlockAtIndex(m[0].index):void 0},y.prototype.getAttachmentAtRange=function(m){var b;return b=this.document.getDocumentAtRange(m),b.toString()===r.OBJECT_REPLACEMENT_CHARACTER+`
`?b.getAttachments()[0]:void 0},y.prototype.notifyDelegateOfCurrentAttributesChange=function(){var m;return(m=this.delegate)!=null&&typeof m.compositionDidChangeCurrentAttributes=="function"?m.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},y.prototype.notifyDelegateOfInsertionAtRange=function(m){var b;return(b=this.delegate)!=null&&typeof b.compositionDidPerformInsertionAtRange=="function"?b.compositionDidPerformInsertionAtRange(m):void 0},y.prototype.translateUTF16PositionFromOffset=function(m,b){var w,A;return A=this.document.toUTF16String(),w=A.offsetFromUCS2Offset(m),A.offsetToUCS2Offset(w+b)},y}(r.BasicObject)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.UndoManager=function(s){function a(u){this.composition=u,this.undoEntries=[],this.redoEntries=[]}var l;return i(a,s),a.prototype.recordUndoEntry=function(u,c){var f,d,p,g,h;return g=c!=null?c:{},d=g.context,f=g.consolidatable,p=this.undoEntries.slice(-1)[0],f&&l(p,u,d)?void 0:(h=this.createEntry({description:u,context:d}),this.undoEntries.push(h),this.redoEntries=[])},a.prototype.undo=function(){var u,c;return(c=this.undoEntries.pop())?(u=this.createEntry(c),this.redoEntries.push(u),this.composition.loadSnapshot(c.snapshot)):void 0},a.prototype.redo=function(){var u,c;return(u=this.redoEntries.pop())?(c=this.createEntry(u),this.undoEntries.push(c),this.composition.loadSnapshot(u.snapshot)):void 0},a.prototype.canUndo=function(){return this.undoEntries.length>0},a.prototype.canRedo=function(){return this.redoEntries.length>0},a.prototype.createEntry=function(u){var c,f,d;return d=u!=null?u:{},f=d.description,c=d.context,{description:f!=null?f.toString():void 0,context:JSON.stringify(c),snapshot:this.composition.getSnapshot()}},l=function(u,c,f){return(u!=null?u.description:void 0)===(c!=null?c.toString():void 0)&&(u!=null?u.context:void 0)===JSON.stringify(f)},a}(r.BasicObject)}.call(this),function(){var i;r.attachmentGalleryFilter=function(o){var s;return s=new i(o),s.perform(),s.getSnapshot()},i=function(){function o(u){this.document=u.document,this.selectedRange=u.selectedRange}var s,a,l;return s="attachmentGallery",a="presentation",l="gallery",o.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},o.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},o.prototype.removeBlockAttribute=function(){var u,c,f,d,p;for(d=this.findRangesOfBlocks(),p=[],u=0,c=d.length;c>u;u++)f=d[u],p.push(this.document=this.document.removeAttributeAtRange(s,f));return p},o.prototype.applyBlockAttribute=function(){var u,c,f,d,p,g;for(f=0,p=this.findRangesOfPieces(),g=[],u=0,c=p.length;c>u;u++)d=p[u],d[1]-d[0]>1&&(d[0]+=f,d[1]+=f,this.document.getCharacterAtPosition(d[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[1]),d[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),d[1]++,f++),d[0]!==0&&this.document.getCharacterAtPosition(d[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(d[0]),d[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),d[0]++,f++),g.push(this.document=this.document.applyBlockAttributeAtRange(s,!0,d)));return g},o.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(s)},o.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute(a,{withValue:l})},o.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},o}()}.call(this),function(){var i=function(o,s){return function(){return o.apply(s,arguments)}};r.Editor=function(){function o(a,l,u){this.composition=a,this.selectionManager=l,this.element=u,this.insertFiles=i(this.insertFiles,this),this.undoManager=new r.UndoManager(this.composition),this.filters=s.slice(0)}var s;return s=[r.attachmentGalleryFilter],o.prototype.loadDocument=function(a){return this.loadSnapshot({document:a,selectedRange:[0,0]})},o.prototype.loadHTML=function(a){return a==null&&(a=""),this.loadDocument(r.Document.fromHTML(a,{referenceElement:this.element}))},o.prototype.loadJSON=function(a){var l,u;return l=a.document,u=a.selectedRange,l=r.Document.fromJSON(l),this.loadSnapshot({document:l,selectedRange:u})},o.prototype.loadSnapshot=function(a){return this.undoManager=new r.UndoManager(this.composition),this.composition.loadSnapshot(a)},o.prototype.getDocument=function(){return this.composition.document},o.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},o.prototype.getSnapshot=function(){return this.composition.getSnapshot()},o.prototype.toJSON=function(){return this.getSnapshot()},o.prototype.deleteInDirection=function(a){return this.composition.deleteInDirection(a)},o.prototype.insertAttachment=function(a){return this.composition.insertAttachment(a)},o.prototype.insertAttachments=function(a){return this.composition.insertAttachments(a)},o.prototype.insertDocument=function(a){return this.composition.insertDocument(a)},o.prototype.insertFile=function(a){return this.composition.insertFile(a)},o.prototype.insertFiles=function(a){return this.composition.insertFiles(a)},o.prototype.insertHTML=function(a){return this.composition.insertHTML(a)},o.prototype.insertString=function(a){return this.composition.insertString(a)},o.prototype.insertText=function(a){return this.composition.insertText(a)},o.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},o.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},o.prototype.getPosition=function(){return this.composition.getPosition()},o.prototype.getClientRectAtPosition=function(a){var l;return l=this.getDocument().locationRangeFromRange([a,a+1]),this.selectionManager.getClientRectAtLocationRange(l)},o.prototype.expandSelectionInDirection=function(a){return this.composition.expandSelectionInDirection(a)},o.prototype.moveCursorInDirection=function(a){return this.composition.moveCursorInDirection(a)},o.prototype.setSelectedRange=function(a){return this.composition.setSelectedRange(a)},o.prototype.activateAttribute=function(a,l){return l==null&&(l=!0),this.composition.setCurrentAttribute(a,l)},o.prototype.attributeIsActive=function(a){return this.composition.hasCurrentAttribute(a)},o.prototype.canActivateAttribute=function(a){return this.composition.canSetCurrentAttribute(a)},o.prototype.deactivateAttribute=function(a){return this.composition.removeCurrentAttribute(a)},o.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},o.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},o.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},o.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},o.prototype.canRedo=function(){return this.undoManager.canRedo()},o.prototype.canUndo=function(){return this.undoManager.canUndo()},o.prototype.recordUndoEntry=function(a,l){var u,c,f;return f=l!=null?l:{},c=f.context,u=f.consolidatable,this.undoManager.recordUndoEntry(a,{context:c,consolidatable:u})},o.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},o.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},o}()}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.ManagedAttachment=function(s){function a(l,u){var c;this.attachmentManager=l,this.attachment=u,c=this.attachment,this.id=c.id,this.file=c.file}return i(a,s),a.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},a.proxyMethod("attachment.getAttribute"),a.proxyMethod("attachment.hasAttribute"),a.proxyMethod("attachment.setAttribute"),a.proxyMethod("attachment.getAttributes"),a.proxyMethod("attachment.setAttributes"),a.proxyMethod("attachment.isPending"),a.proxyMethod("attachment.isPreviewable"),a.proxyMethod("attachment.getURL"),a.proxyMethod("attachment.getHref"),a.proxyMethod("attachment.getFilename"),a.proxyMethod("attachment.getFilesize"),a.proxyMethod("attachment.getFormattedFilesize"),a.proxyMethod("attachment.getExtension"),a.proxyMethod("attachment.getContentType"),a.proxyMethod("attachment.getFile"),a.proxyMethod("attachment.setFile"),a.proxyMethod("attachment.releaseFile"),a.proxyMethod("attachment.getUploadProgress"),a.proxyMethod("attachment.setUploadProgress"),a}(r.BasicObject)}.call(this),function(){var i=function(s,a){function l(){this.constructor=s}for(var u in a)o.call(a,u)&&(s[u]=a[u]);return l.prototype=a.prototype,s.prototype=new l,s.__super__=a.prototype,s},o={}.hasOwnProperty;r.AttachmentManager=function(s){function a(l){var u,c,f;for(l==null&&(l=[]),this.managedAttachments={},c=0,f=l.length;f>c;c++)u=l[c],this.manageAttachment(u)}return i(a,s),a.prototype.getAttachments=function(){var l,u,c,f;c=this.managedAttachments,f=[];for(u in c)l=c[u],f.push(l);return f},a.prototype.manageAttachment=function(l){var u,c;return(u=this.managedAttachments)[c=l.id]!=null?u[c]:u[c]=new r.ManagedAttachment(this,l)},a.prototype.attachmentIsManaged=function(l){return l.id in this.managedAttachments},a.prototype.requestRemovalOfAttachment=function(l){var u;return this.attachmentIsManaged(l)&&(u=this.delegate)!=null&&typeof u.attachmentManagerDidRequestRemovalOfAttachment=="function"?u.attachmentManagerDidRequestRemovalOfAttachment(l):void 0},a.prototype.unmanageAttachment=function(l){var u;return u=this.managedAttachments[l.id],delete this.managedAttachments[l.id],u},a}(r.BasicObject)}.call(this),function(){var i,o,s,a,l,u,c,f,d,p,g;i=r.elementContainsNode,o=r.findChildIndexOfNode,l=r.nodeIsBlockStart,u=r.nodeIsBlockStartComment,a=r.nodeIsBlockContainer,c=r.nodeIsCursorTarget,f=r.nodeIsEmptyTextNode,d=r.nodeIsTextNode,s=r.nodeIsAttachmentElement,p=r.tagName,g=r.walkTree,r.LocationMapper=function(){function h(b){this.element=b}var v,y,E,m;return h.prototype.findLocationFromContainerAndOffset=function(b,w,A){var _,T,C,L,D,O,S;for(O=(A!=null?A:{strict:!0}).strict,T=0,C=!1,L={index:0,offset:0},(_=this.findAttachmentElementParentForNode(b))&&(b=_.parentNode,w=o(_)),S=g(this.element,{usingFilter:E});S.nextNode();){if(D=S.currentNode,D===b&&d(b)){c(D)||(L.offset+=w);break}if(D.parentNode===b){if(T++===w)break}else if(!i(b,D)&&T>0)break;l(D,{strict:O})?(C&&L.index++,L.offset=0,C=!0):L.offset+=y(D)}return L},h.prototype.findContainerAndOffsetFromLocation=function(b){var w,A,_,T,C;if(b.index===0&&b.offset===0){for(w=this.element,T=0;w.firstChild;)if(w=w.firstChild,a(w)){T=1;break}return[w,T]}if(C=this.findNodeAndOffsetFromLocation(b),A=C[0],_=C[1],A){if(d(A))y(A)===0?(w=A.parentNode.parentNode,T=o(A.parentNode),c(A,{name:"right"})&&T++):(w=A,T=b.offset-_);else{if(w=A.parentNode,!l(A.previousSibling)&&!a(w))for(;A===w.lastChild&&(A=w,w=w.parentNode,!a(w)););T=o(A),b.offset!==0&&T++}return[w,T]}},h.prototype.findNodeAndOffsetFromLocation=function(b){var w,A,_,T,C,L,D,O;for(D=0,O=this.getSignificantNodesForIndex(b.index),A=0,_=O.length;_>A;A++){if(w=O[A],T=y(w),b.offset<=D+T)if(d(w)){if(C=w,L=D,b.offset===L&&c(C))break}else C||(C=w,L=D);if(D+=T,D>b.offset)break}return[C,L]},h.prototype.findAttachmentElementParentForNode=function(b){for(;b&&b!==this.element;){if(s(b))return b;b=b.parentNode}},h.prototype.getSignificantNodesForIndex=function(b){var w,A,_,T,C;for(_=[],C=g(this.element,{usingFilter:v}),T=!1;C.nextNode();)if(A=C.currentNode,u(A)){if(typeof w<"u"&&w!==null?w++:w=0,w===b)T=!0;else if(T)break}else T&&_.push(A);return _},y=function(b){var w;return b.nodeType===Node.TEXT_NODE?c(b)?0:(w=b.textContent,w.length):p(b)==="br"||s(b)?1:0},v=function(b){return m(b)===NodeFilter.FILTER_ACCEPT?E(b):NodeFilter.FILTER_REJECT},m=function(b){return f(b)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},E=function(b){return s(b.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},h}()}.call(this),function(){var i,o,s=[].slice;i=r.getDOMRange,o=r.setDOMRange,r.PointMapper=function(){function a(){}return a.prototype.createDOMRangeFromPoint=function(l){var u,c,f,d,p,g,h,v;if(h=l.x,v=l.y,document.caretPositionFromPoint)return p=document.caretPositionFromPoint(h,v),f=p.offsetNode,c=p.offset,u=document.createRange(),u.setStart(f,c),u;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(h,v);if(document.body.createTextRange){d=i();try{g=document.body.createTextRange(),g.moveToPoint(h,v),g.select()}catch{}return u=i(),o(d),u}},a.prototype.getClientRectsForDOMRange=function(l){var u,c,f;return c=s.call(l.getClientRects()),f=c[0],u=c[c.length-1],[f,u]},a}()}.call(this),function(){var i,o=function(u,c){return function(){return u.apply(c,arguments)}},s=function(u,c){function f(){this.constructor=u}for(var d in c)a.call(c,d)&&(u[d]=c[d]);return f.prototype=c.prototype,u.prototype=new f,u.__super__=c.prototype,u},a={}.hasOwnProperty,l=[].indexOf||function(u){for(var c=0,f=this.length;f>c;c++)if(c in this&&this[c]===u)return c;return-1};i=r.getDOMRange,r.SelectionChangeObserver=function(u){function c(){this.run=o(this.run,this),this.update=o(this.update,this),this.selectionManagers=[]}var f;return s(c,u),c.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},c.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},c.prototype.registerSelectionManager=function(d){return l.call(this.selectionManagers,d)<0?(this.selectionManagers.push(d),this.start()):void 0},c.prototype.unregisterSelectionManager=function(d){var p;return this.selectionManagers=function(){var g,h,v,y;for(v=this.selectionManagers,y=[],g=0,h=v.length;h>g;g++)p=v[g],p!==d&&y.push(p);return y}.call(this),this.selectionManagers.length===0?this.stop():void 0},c.prototype.notifySelectionManagersOfSelectionChange=function(){var d,p,g,h,v;for(g=this.selectionManagers,h=[],d=0,p=g.length;p>d;d++)v=g[d],h.push(v.selectionDidChange());return h},c.prototype.update=function(){var d;return d=i(),f(d,this.domRange)?void 0:(this.domRange=d,this.notifySelectionManagersOfSelectionChange())},c.prototype.reset=function(){return this.domRange=null,this.update()},c.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},f=function(d,p){return(d!=null?d.startContainer:void 0)===(p!=null?p.startContainer:void 0)&&(d!=null?d.startOffset:void 0)===(p!=null?p.startOffset:void 0)&&(d!=null?d.endContainer:void 0)===(p!=null?p.endContainer:void 0)&&(d!=null?d.endOffset:void 0)===(p!=null?p.endOffset:void 0)},c}(r.BasicObject),r.selectionChangeObserver==null&&(r.selectionChangeObserver=new r.SelectionChangeObserver)}.call(this),function(){var i,o,s,a,l,u,c,f,d,p,g=function(y,E){return function(){return y.apply(E,arguments)}},h=function(y,E){function m(){this.constructor=y}for(var b in E)v.call(E,b)&&(y[b]=E[b]);return m.prototype=E.prototype,y.prototype=new m,y.__super__=E.prototype,y},v={}.hasOwnProperty;s=r.getDOMSelection,o=r.getDOMRange,p=r.setDOMRange,i=r.elementContainsNode,u=r.nodeIsCursorTarget,l=r.innerElementIsActive,a=r.handleEvent,c=r.normalizeRange,f=r.rangeIsCollapsed,d=r.rangesAreEqual,r.SelectionManager=function(y){function E(m){this.element=m,this.selectionDidChange=g(this.selectionDidChange,this),this.didMouseDown=g(this.didMouseDown,this),this.locationMapper=new r.LocationMapper(this.element),this.pointMapper=new r.PointMapper,this.lockCount=0,a("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return h(E,y),E.prototype.getLocationRange=function(m){var b;return m==null&&(m={}),m.strict===!1?this.createLocationRangeFromDOMRange(o(),{strict:!1}):m.ignoreLock?this.currentLocationRange:(b=this.lockedLocationRange)!=null?b:this.currentLocationRange},E.prototype.setLocationRange=function(m){var b;if(!this.lockedLocationRange)return m=c(m),(b=this.createDOMRangeFromLocationRange(m))?(p(b),this.updateCurrentLocationRange(m)):void 0},E.prototype.setLocationRangeFromPointRange=function(m){var b,w;return m=c(m),w=this.getLocationAtPoint(m[0]),b=this.getLocationAtPoint(m[1]),this.setLocationRange([w,b])},E.prototype.getClientRectAtLocationRange=function(m){var b;return(b=this.createDOMRangeFromLocationRange(m))?this.getClientRectsForDOMRange(b)[1]:void 0},E.prototype.locationIsCursorTarget=function(m){var b,w;return w=this.findNodeAndOffsetFromLocation(m),b=w[0],w[1],u(b)},E.prototype.lock=function(){return this.lockCount++===0?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},E.prototype.unlock=function(){var m;return--this.lockCount===0&&(m=this.lockedLocationRange,this.lockedLocationRange=null,m!=null)?this.setLocationRange(m):void 0},E.prototype.clearSelection=function(){var m;return(m=s())!=null?m.removeAllRanges():void 0},E.prototype.selectionIsCollapsed=function(){var m;return((m=o())!=null?m.collapsed:void 0)===!0},E.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},E.prototype.createLocationRangeFromDOMRange=function(m,b){var w,A;if(m!=null&&this.domRangeWithinElement(m)&&(A=this.findLocationFromContainerAndOffset(m.startContainer,m.startOffset,b)))return m.collapsed||(w=this.findLocationFromContainerAndOffset(m.endContainer,m.endOffset,b)),c([A,w])},E.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),E.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),E.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),E.proxyMethod("pointMapper.createDOMRangeFromPoint"),E.proxyMethod("pointMapper.getClientRectsForDOMRange"),E.prototype.didMouseDown=function(){return this.pauseTemporarily()},E.prototype.pauseTemporarily=function(){var m,b,w,A;return this.paused=!0,b=function(_){return function(){var T,C,L;for(_.paused=!1,clearTimeout(A),C=0,L=w.length;L>C;C++)T=w[C],T.destroy();return i(document,_.element)?_.selectionDidChange():void 0}}(this),A=setTimeout(b,200),w=function(){var _,T,C,L;for(C=["mousemove","keydown"],L=[],_=0,T=C.length;T>_;_++)m=C[_],L.push(a(m,{onElement:document,withCallback:b}));return L}()},E.prototype.selectionDidChange=function(){return this.paused||l(this.element)?void 0:this.updateCurrentLocationRange()},E.prototype.updateCurrentLocationRange=function(m){var b;return(m!=null?m:m=this.createLocationRangeFromDOMRange(o()))&&!d(m,this.currentLocationRange)?(this.currentLocationRange=m,(b=this.delegate)!=null&&typeof b.locationRangeDidChange=="function"?b.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},E.prototype.createDOMRangeFromLocationRange=function(m){var b,w,A,_;return A=this.findContainerAndOffsetFromLocation(m[0]),w=f(m)?A:(_=this.findContainerAndOffsetFromLocation(m[1]))!=null?_:A,A!=null&&w!=null?(b=document.createRange(),b.setStart.apply(b,A),b.setEnd.apply(b,w),b):void 0},E.prototype.getLocationAtPoint=function(m){var b,w;return(b=this.createDOMRangeFromPoint(m))&&(w=this.createLocationRangeFromDOMRange(b))!=null?w[0]:void 0},E.prototype.domRangeWithinElement=function(m){return m.collapsed?i(this.element,m.startContainer):i(this.element,m.startContainer)&&i(this.element,m.endContainer)},E}(r.BasicObject)}.call(this),function(){var i,o,s,a,l=function(f,d){function p(){this.constructor=f}for(var g in d)u.call(d,g)&&(f[g]=d[g]);return p.prototype=d.prototype,f.prototype=new p,f.__super__=d.prototype,f},u={}.hasOwnProperty,c=[].slice;s=r.rangeIsCollapsed,a=r.rangesAreEqual,o=r.objectsAreEqual,i=r.getBlockConfig,r.EditorController=function(f){function d(g){var h,v;this.editorElement=g.editorElement,h=g.document,v=g.html,this.selectionManager=new r.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new r.Composition,this.composition.delegate=this,this.attachmentManager=new r.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new r["Level"+r.config.input.getLevel()+"InputController"](this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new r.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new r.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new r.Editor(this.composition,this.selectionManager,this.editorElement),h!=null?this.editor.loadDocument(h):this.editor.loadHTML(v)}var p;return l(d,f),d.prototype.registerSelectionManager=function(){return r.selectionChangeObserver.registerSelectionManager(this.selectionManager)},d.prototype.unregisterSelectionManager=function(){return r.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},d.prototype.render=function(){return this.compositionController.render()},d.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},d.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},d.prototype.compositionDidChangeCurrentAttributes=function(g){return this.currentAttributes=g,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},d.prototype.compositionDidPerformInsertionAtRange=function(g){return this.pasting?this.pastedRange=g:void 0},d.prototype.compositionShouldAcceptFile=function(g){return this.notifyEditorElement("file-accept",{file:g})},d.prototype.compositionDidAddAttachment=function(g){var h;return h=this.attachmentManager.manageAttachment(g),this.notifyEditorElement("attachment-add",{attachment:h})},d.prototype.compositionDidEditAttachment=function(g){var h;return this.compositionController.rerenderViewForObject(g),h=this.attachmentManager.manageAttachment(g),this.notifyEditorElement("attachment-edit",{attachment:h}),this.notifyEditorElement("change")},d.prototype.compositionDidChangeAttachmentPreviewURL=function(g){return this.compositionController.invalidateViewForObject(g),this.notifyEditorElement("change")},d.prototype.compositionDidRemoveAttachment=function(g){var h;return h=this.attachmentManager.unmanageAttachment(g),this.notifyEditorElement("attachment-remove",{attachment:h})},d.prototype.compositionDidStartEditingAttachment=function(g,h){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(g),this.compositionController.installAttachmentEditorForAttachment(g,h),this.selectionManager.setLocationRange(this.attachmentLocationRange)},d.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},d.prototype.compositionDidRequestChangingSelectionToLocationRange=function(g){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=g,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},d.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},d.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},d.prototype.getSelectionManager=function(){return this.selectionManager},d.proxyMethod("getSelectionManager().setLocationRange"),d.proxyMethod("getSelectionManager().getLocationRange"),d.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(g){return this.removeAttachment(g)},d.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},d.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},d.prototype.compositionControllerDidRender=function(){return this.requestedLocationRange!=null&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},d.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},d.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},d.prototype.compositionControllerDidSelectAttachment=function(g,h){return this.toolbarController.hideDialog(),this.composition.editAttachment(g,h)},d.prototype.compositionControllerDidRequestDeselectingAttachment=function(g){var h,v;return h=(v=this.attachmentLocationRange)!=null?v:this.composition.document.getLocationRangeOfAttachment(g),this.selectionManager.setLocationRange(h[1])},d.prototype.compositionControllerWillUpdateAttachment=function(g){return this.editor.recordUndoEntry("Edit Attachment",{context:g.id,consolidatable:!0})},d.prototype.compositionControllerDidRequestRemovalOfAttachment=function(g){return this.removeAttachment(g)},d.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},d.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},d.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},d.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},d.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},d.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},d.prototype.inputControllerWillPerformFormatting=function(g){return this.recordFormattingUndoEntry(g)},d.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},d.prototype.inputControllerWillPaste=function(g){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:g})},d.prototype.inputControllerDidPaste=function(g){return g.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:g})},d.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},d.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},d.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},d.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},d.prototype.inputControllerDidReceiveKeyboardCommand=function(g){return this.toolbarController.applyKeyboardCommand(g)},d.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},d.prototype.inputControllerDidReceiveDragOverPoint=function(g){return this.selectionManager.setLocationRangeFromPointRange(g)},d.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},d.prototype.locationRangeDidChange=function(g){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!a(this.attachmentLocationRange,g)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},d.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},d.prototype.toolbarDidInvokeAction=function(g){return this.invokeAction(g)},d.prototype.toolbarDidToggleAttribute=function(g){return this.recordFormattingUndoEntry(g),this.composition.toggleCurrentAttribute(g),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidUpdateAttribute=function(g,h){return this.recordFormattingUndoEntry(g),this.composition.setCurrentAttribute(g,h),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarDidRemoveAttribute=function(g){return this.recordFormattingUndoEntry(g),this.composition.removeCurrentAttribute(g),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},d.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},d.prototype.toolbarDidShowDialog=function(g){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:g})},d.prototype.toolbarDidHideDialog=function(g){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:g})},d.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},d.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},d.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return r.config.input.pickFiles(this.editor.insertFiles)}}},d.prototype.canInvokeAction=function(g){var h,v;return this.actionIsExternal(g)?!0:!!((h=this.actions[g])!=null&&(v=h.test)!=null&&v.call(this))},d.prototype.invokeAction=function(g){var h,v;return this.actionIsExternal(g)?this.notifyEditorElement("action-invoke",{actionName:g}):(h=this.actions[g])!=null&&(v=h.perform)!=null?v.call(this):void 0},d.prototype.actionIsExternal=function(g){return/^x-./.test(g)},d.prototype.getCurrentActions=function(){var g,h;h={};for(g in this.actions)h[g]=this.canInvokeAction(g);return h},d.prototype.updateCurrentActions=function(){var g;return g=this.getCurrentActions(),o(g,this.currentActions)?void 0:(this.currentActions=g,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},d.prototype.runEditorFilters=function(){var g,h,v,y,E,m,b,w;for(w=this.composition.getSnapshot(),E=this.editor.filters,v=0,y=E.length;y>v;v++)h=E[v],g=w.document,b=w.selectedRange,w=(m=h.call(this.editor,w))!=null?m:{},w.document==null&&(w.document=g),w.selectedRange==null&&(w.selectedRange=b);return p(w,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(w)},p=function(g,h){return a(g.selectedRange,h.selectedRange)&&g.document.isEqualTo(h.document)},d.prototype.updateInputElement=function(){var g,h;return g=this.compositionController.getSerializableElement(),h=r.serializeToContentType(g,"text/html"),this.editorElement.setInputElementValue(h)},d.prototype.notifyEditorElement=function(g,h){switch(g){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(g,h)},d.prototype.removeAttachment=function(g){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(g),this.render()},d.prototype.recordFormattingUndoEntry=function(g){var h,v;return h=i(g),v=this.selectionManager.getLocationRange(),h||!s(v)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},d.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},d.prototype.getUndoContext=function(){var g;return g=1<=arguments.length?c.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(c.call(g))},d.prototype.getLocationContext=function(){var g;return g=this.selectionManager.getLocationRange(),s(g)?g[0].index:g},d.prototype.getTimeContext=function(){return r.config.undoInterval>0?Math.floor(new Date().getTime()/r.config.undoInterval):0},d.prototype.isFocused=function(){var g;return this.editorElement===((g=this.editorElement.ownerDocument)!=null?g.activeElement:void 0)},d.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},d}(r.Controller)}.call(this),function(){var i,o,s,a,l,u,c,f=[].indexOf||function(d){for(var p=0,g=this.length;g>p;p++)if(p in this&&this[p]===d)return p;return-1};o=r.browser,u=r.makeElement,c=r.triggerEvent,a=r.handleEvent,l=r.handleEventOnce,s=r.findClosestElementFromNode,i=r.AttachmentView.attachmentSelector,r.registerElement("trix-editor",function(){var d,p,g,h,v,y,E,m,b;return E=0,p=function(w){return!document.querySelector(":focus")&&w.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===w?w.focus():void 0},m=function(w){return w.hasAttribute("contenteditable")?void 0:(w.setAttribute("contenteditable",""),l("focus",{onElement:w,withCallback:function(){return g(w)}}))},g=function(w){return v(w),b(w)},v=function(w){return typeof document.queryCommandSupported=="function"&&document.queryCommandSupported("enableObjectResizing")?(document.execCommand("enableObjectResizing",!1,!1),a("mscontrolselect",{onElement:w,preventDefault:!0})):void 0},b=function(){var w;return(typeof document.queryCommandSupported=="function"?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&(w=r.config.blockAttributes.default.tagName,w==="div"||w==="p")?document.execCommand("DefaultParagraphSeparator",!1,w):void 0},d=function(w){return w.hasAttribute("role")?void 0:w.setAttribute("role","textbox")},y=function(w){var A;if(!w.hasAttribute("aria-label")&&!w.hasAttribute("aria-labelledby"))return(A=function(){var _,T,C;return C=function(){var L,D,O,S;for(O=w.labels,S=[],L=0,D=O.length;D>L;L++)_=O[L],_.contains(w)||S.push(_.textContent);return S}(),(T=C.join(" "))?w.setAttribute("aria-label",T):w.removeAttribute("aria-label")})(),a("focus",{onElement:w,withCallback:A})},h=function(){return o.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}(),{defaultCSS:`%t {
  display: block;
}

%t:empty:not(:focus)::before {
  content: attr(placeholder);
  color: graytext;
  cursor: text;
  pointer-events: none;
}

%t a[contenteditable=false] {
  cursor: text;
}

%t img {
  max-width: 100%;
  height: auto;
}

%t `+i+` figcaption textarea {
  resize: none;
}

%t `+i+` figcaption textarea.trix-autoresize-clone {
  position: absolute;
  left: -9999px;
  max-height: 0px;
}

%t `+i+` figcaption[data-trix-placeholder]:empty::before {
  content: attr(data-trix-placeholder);
  color: graytext;
}

%t [data-trix-cursor-target] {
  display: `+h.display+` !important;
  width: `+h.width+` !important;
  padding: 0 !important;
  margin: 0 !important;
  border: none !important;
}

%t [data-trix-cursor-target=left] {
  vertical-align: top !important;
  margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
  vertical-align: bottom !important;
  margin-right: -1px !important;
}`,trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++E),this.trixId)}},labels:{get:function(){var w,A,_;return A=[],this.id&&this.ownerDocument&&A.push.apply(A,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(w=s(this,{matchingSelector:"label"}))&&((_=w.control)===this||_===null)&&A.push(w),A}},toolbarElement:{get:function(){var w,A,_;return this.hasAttribute("toolbar")?(A=this.ownerDocument)!=null?A.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(_="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",_),w=u("trix-toolbar",{id:_}),this.parentNode.insertBefore(w,this),w):void 0}},inputElement:{get:function(){var w,A,_;return this.hasAttribute("input")?(_=this.ownerDocument)!=null?_.getElementById(this.getAttribute("input")):void 0:this.parentNode?(A="trix-input-"+this.trixId,this.setAttribute("input",A),w=u("input",{type:"hidden",id:A}),this.parentNode.insertBefore(w,this.nextElementSibling),w):void 0}},editor:{get:function(){var w;return(w=this.editorController)!=null?w.editor:void 0}},name:{get:function(){var w;return(w=this.inputElement)!=null?w.name:void 0}},value:{get:function(){var w;return(w=this.inputElement)!=null?w.value:void 0},set:function(w){var A;return this.defaultValue=w,(A=this.editor)!=null?A.loadHTML(this.defaultValue):void 0}},notify:function(w,A){return this.editorController?c("trix-"+w,{onElement:this,attributes:A}):void 0},setInputElementValue:function(w){var A;return(A=this.inputElement)!=null?A.value=w:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(m(this),d(this),y(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(c("trix-before-initialize",{onElement:this}),this.editorController=new r.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(w){return function(){return c("trix-initialize",{onElement:w})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),p(this))},disconnect:function(){var w;return(w=this.editorController)!=null&&w.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(w){var A;if(!w.defaultPrevented&&w.target===((A=this.inputElement)!=null?A.form:void 0))return this.reset()},clickBubbled:function(w){var A;if(!(w.defaultPrevented||this.contains(w.target)||!(A=s(w.target,{matchingSelector:"label"}))||f.call(this.labels,A)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}}())}.call(this),function(){}.call(this)}).call(this),typeof t=="object"&&t.exports?t.exports=r:typeof define=="function"&&define.amd&&define(r)}.call(e)}),qy=wo((e,t)=>{/*! choices.js v10.1.0 | © 2022 Josh Johnson | https://github.com/jshjohnson/Choices#readme */(function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i():typeof define=="function"&&define.amd?define([],i):typeof e=="object"?e.Choices=i():r.Choices=i()})(window,function(){return function(){var n={282:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.clearChoices=a.activateChoices=a.filterChoices=a.addChoice=void 0;var u=l(883),c=function(g){var h=g.value,v=g.label,y=g.id,E=g.groupId,m=g.disabled,b=g.elementId,w=g.customProperties,A=g.placeholder,_=g.keyCode;return{type:u.ACTION_TYPES.ADD_CHOICE,value:h,label:v,id:y,groupId:E,disabled:m,elementId:b,customProperties:w,placeholder:A,keyCode:_}};a.addChoice=c;var f=function(g){return{type:u.ACTION_TYPES.FILTER_CHOICES,results:g}};a.filterChoices=f;var d=function(g){return g===void 0&&(g=!0),{type:u.ACTION_TYPES.ACTIVATE_CHOICES,active:g}};a.activateChoices=d;var p=function(){return{type:u.ACTION_TYPES.CLEAR_CHOICES}};a.clearChoices=p},783:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.addGroup=void 0;var u=l(883),c=function(f){var d=f.value,p=f.id,g=f.active,h=f.disabled;return{type:u.ACTION_TYPES.ADD_GROUP,value:d,id:p,active:g,disabled:h}};a.addGroup=c},464:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.highlightItem=a.removeItem=a.addItem=void 0;var u=l(883),c=function(p){var g=p.value,h=p.label,v=p.id,y=p.choiceId,E=p.groupId,m=p.customProperties,b=p.placeholder,w=p.keyCode;return{type:u.ACTION_TYPES.ADD_ITEM,value:g,label:h,id:v,choiceId:y,groupId:E,customProperties:m,placeholder:b,keyCode:w}};a.addItem=c;var f=function(p,g){return{type:u.ACTION_TYPES.REMOVE_ITEM,id:p,choiceId:g}};a.removeItem=f;var d=function(p,g){return{type:u.ACTION_TYPES.HIGHLIGHT_ITEM,id:p,highlighted:g}};a.highlightItem=d},137:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.setIsLoading=a.resetTo=a.clearAll=void 0;var u=l(883),c=function(){return{type:u.ACTION_TYPES.CLEAR_ALL}};a.clearAll=c;var f=function(p){return{type:u.ACTION_TYPES.RESET_TO,state:p}};a.resetTo=f;var d=function(p){return{type:u.ACTION_TYPES.SET_IS_LOADING,isLoading:p}};a.setIsLoading=d},373:function(s,a,l){var u=this&&this.__spreadArray||function(D,O,S){if(S||arguments.length===2)for(var x=0,R=O.length,I;x<R;x++)(I||!(x in O))&&(I||(I=Array.prototype.slice.call(O,0,x)),I[x]=O[x]);return D.concat(I||Array.prototype.slice.call(O))},c=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(l(996)),d=c(l(221)),p=l(282),g=l(783),h=l(464),v=l(137),y=l(520),E=l(883),m=l(789),b=l(799),w=l(655),A=c(l(744)),_=c(l(686)),T="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,C={},L=function(){function D(O,S){var x=this;O===void 0&&(O="[data-choice]"),S===void 0&&(S={}),S.allowHTML===void 0&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=f.default.all([m.DEFAULT_CONFIG,D.defaults.options,S],{arrayMerge:function(z,ce){return u([],ce,!0)}});var R=(0,b.diff)(this.config,m.DEFAULT_CONFIG);R.length&&console.warn("Unknown config option(s) passed",R.join(", "));var I=typeof O=="string"?document.querySelector(O):O;if(!(I instanceof HTMLInputElement||I instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=I.type===E.TEXT_TYPE,this._isSelectOneElement=I.type===E.SELECT_ONE_TYPE,this._isSelectMultipleElement=I.type===E.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),S.addItemFilter&&typeof S.addItemFilter!="function"){var k=S.addItemFilter instanceof RegExp?S.addItemFilter:new RegExp(S.addItemFilter);this.config.addItemFilter=k.test.bind(k)}if(this._isTextElement?this.passedElement=new y.WrappedInput({element:I,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new y.WrappedSelect({element:I,classNames:this.config.classNames,template:function(z){return x._templates.option(z)}}),this.initialised=!1,this._store=new A.default,this._initialState=w.defaultState,this._currentState=w.defaultState,this._prevState=w.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,b.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var M=window.getComputedStyle(this.passedElement.element).direction,F=window.getComputedStyle(document.documentElement).direction;M!==F&&(this._direction=M)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var j=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(j)}if(this.passedElement.options&&this.passedElement.options.forEach(function(z){x._presetChoices.push({value:z.value,label:z.innerHTML,selected:!!z.selected,disabled:z.disabled||z.parentNode.disabled,placeholder:z.value===""||z.hasAttribute("placeholder"),customProperties:z.dataset["custom-properties"]})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:O}),this.initialised=!0;return}this.init()}return Object.defineProperty(D,"defaults",{get:function(){return Object.preventExtensions({get options(){return C},get templates(){return _.default}})},enumerable:!1,configurable:!0}),D.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners();var O=!this.config.addItems||this.passedElement.element.hasAttribute("disabled");O&&this.disable(),this.initialised=!0;var S=this.config.callbackOnInit;S&&typeof S=="function"&&S.call(this)}},D.prototype.destroy=function(){!this.initialised||(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=_.default,this.initialised=!1)},D.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},D.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},D.prototype.highlightItem=function(O,S){if(S===void 0&&(S=!0),!O||!O.id)return this;var x=O.id,R=O.groupId,I=R===void 0?-1:R,k=O.value,M=k===void 0?"":k,F=O.label,j=F===void 0?"":F,z=I>=0?this._store.getGroupById(I):null;return this._store.dispatch((0,h.highlightItem)(x,!0)),S&&this.passedElement.triggerEvent(E.EVENTS.highlightItem,{id:x,value:M,label:j,groupValue:z&&z.value?z.value:null}),this},D.prototype.unhighlightItem=function(O){if(!O||!O.id)return this;var S=O.id,x=O.groupId,R=x===void 0?-1:x,I=O.value,k=I===void 0?"":I,M=O.label,F=M===void 0?"":M,j=R>=0?this._store.getGroupById(R):null;return this._store.dispatch((0,h.highlightItem)(S,!1)),this.passedElement.triggerEvent(E.EVENTS.highlightItem,{id:S,value:k,label:F,groupValue:j&&j.value?j.value:null}),this},D.prototype.highlightAll=function(){var O=this;return this._store.items.forEach(function(S){return O.highlightItem(S)}),this},D.prototype.unhighlightAll=function(){var O=this;return this._store.items.forEach(function(S){return O.unhighlightItem(S)}),this},D.prototype.removeActiveItemsByValue=function(O){var S=this;return this._store.activeItems.filter(function(x){return x.value===O}).forEach(function(x){return S._removeItem(x)}),this},D.prototype.removeActiveItems=function(O){var S=this;return this._store.activeItems.filter(function(x){var R=x.id;return R!==O}).forEach(function(x){return S._removeItem(x)}),this},D.prototype.removeHighlightedItems=function(O){var S=this;return O===void 0&&(O=!1),this._store.highlightedActiveItems.forEach(function(x){S._removeItem(x),O&&S._triggerChange(x.value)}),this},D.prototype.showDropdown=function(O){var S=this;return this.dropdown.isActive?this:(requestAnimationFrame(function(){S.dropdown.show(),S.containerOuter.open(S.dropdown.distanceFromTopWindow),!O&&S._canSearch&&S.input.focus(),S.passedElement.triggerEvent(E.EVENTS.showDropdown,{})}),this)},D.prototype.hideDropdown=function(O){var S=this;return this.dropdown.isActive?(requestAnimationFrame(function(){S.dropdown.hide(),S.containerOuter.close(),!O&&S._canSearch&&(S.input.removeActiveDescendant(),S.input.blur()),S.passedElement.triggerEvent(E.EVENTS.hideDropdown,{})}),this):this},D.prototype.getValue=function(O){O===void 0&&(O=!1);var S=this._store.activeItems.reduce(function(x,R){var I=O?R.value:R;return x.push(I),x},[]);return this._isSelectOneElement?S[0]:S},D.prototype.setValue=function(O){var S=this;return this.initialised?(O.forEach(function(x){return S._setChoiceOrItem(x)}),this):this},D.prototype.setChoiceByValue=function(O){var S=this;if(!this.initialised||this._isTextElement)return this;var x=Array.isArray(O)?O:[O];return x.forEach(function(R){return S._findAndSelectChoiceByValue(R)}),this},D.prototype.setChoices=function(O,S,x,R){var I=this;if(O===void 0&&(O=[]),S===void 0&&(S="value"),x===void 0&&(x="label"),R===void 0&&(R=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof S!="string"||!S)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(R&&this.clearChoices(),typeof O=="function"){var k=O(this);if(typeof Promise=="function"&&k instanceof Promise)return new Promise(function(M){return requestAnimationFrame(M)}).then(function(){return I._handleLoadingState(!0)}).then(function(){return k}).then(function(M){return I.setChoices(M,S,x,R)}).catch(function(M){I.config.silent||console.error(M)}).then(function(){return I._handleLoadingState(!1)}).then(function(){return I});if(!Array.isArray(k))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof k));return this.setChoices(k,S,x,!1)}if(!Array.isArray(O))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),O.forEach(function(M){if(M.choices)I._addGroup({id:M.id?parseInt("".concat(M.id),10):null,group:M,valueKey:S,labelKey:x});else{var F=M;I._addChoice({value:F[S],label:F[x],isSelected:!!F.selected,isDisabled:!!F.disabled,placeholder:!!F.placeholder,customProperties:F.customProperties})}}),this._stopLoading(),this},D.prototype.clearChoices=function(){return this._store.dispatch((0,p.clearChoices)()),this},D.prototype.clearStore=function(){return this._store.dispatch((0,v.clearAll)()),this},D.prototype.clearInput=function(){var O=!this._isSelectOneElement;return this.input.clear(O),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0))),this},D.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var O=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,S=this._isSelectElement,x=this._currentState.items!==this._prevState.items;!O||(S&&this._renderChoices(),x&&this._renderItems(),this._prevState=this._currentState)}},D.prototype._renderChoices=function(){var O=this,S=this._store,x=S.activeGroups,R=S.activeChoices,I=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return O.choiceList.scrollToTop()}),x.length>=1&&!this._isSearching){var k=R.filter(function(ce){return ce.placeholder===!0&&ce.groupId===-1});k.length>=1&&(I=this._createChoicesFragment(k,I)),I=this._createGroupsFragment(x,R,I)}else R.length>=1&&(I=this._createChoicesFragment(R,I));if(I.childNodes&&I.childNodes.length>0){var M=this._store.activeItems,F=this._canAddItem(M,this.input.value);if(F.response)this.choiceList.append(I),this._highlightChoice();else{var j=this._getTemplate("notice",F.notice);this.choiceList.append(j)}}else{var z=void 0,j=void 0;this._isSearching?(j=typeof this.config.noResultsText=="function"?this.config.noResultsText():this.config.noResultsText,z=this._getTemplate("notice",j,"no-results")):(j=typeof this.config.noChoicesText=="function"?this.config.noChoicesText():this.config.noChoicesText,z=this._getTemplate("notice",j,"no-choices")),this.choiceList.append(z)}},D.prototype._renderItems=function(){var O=this._store.activeItems||[];this.itemList.clear();var S=this._createItemsFragment(O);S.childNodes&&this.itemList.append(S)},D.prototype._createGroupsFragment=function(O,S,x){var R=this;x===void 0&&(x=document.createDocumentFragment());var I=function(k){return S.filter(function(M){return R._isSelectOneElement?M.groupId===k.id:M.groupId===k.id&&(R.config.renderSelectedChoices==="always"||!M.selected)})};return this.config.shouldSort&&O.sort(this.config.sorter),O.forEach(function(k){var M=I(k);if(M.length>=1){var F=R._getTemplate("choiceGroup",k);x.appendChild(F),R._createChoicesFragment(M,x,!0)}}),x},D.prototype._createChoicesFragment=function(O,S,x){var R=this;S===void 0&&(S=document.createDocumentFragment()),x===void 0&&(x=!1);var I=this.config,k=I.renderSelectedChoices,M=I.searchResultLimit,F=I.renderChoiceLimit,j=this._isSearching?b.sortByScore:this.config.sorter,z=function(Pe){var Oe=k==="auto"?R._isSelectOneElement||!Pe.selected:!0;if(Oe){var rt=R._getTemplate("choice",Pe,R.config.itemSelectText);S.appendChild(rt)}},ce=O;k==="auto"&&!this._isSelectOneElement&&(ce=O.filter(function(Pe){return!Pe.selected}));var ie=ce.reduce(function(Pe,Oe){return Oe.placeholder?Pe.placeholderChoices.push(Oe):Pe.normalChoices.push(Oe),Pe},{placeholderChoices:[],normalChoices:[]}),de=ie.placeholderChoices,_e=ie.normalChoices;(this.config.shouldSort||this._isSearching)&&_e.sort(j);var ae=ce.length,we=this._isSelectOneElement?u(u([],de,!0),_e,!0):_e;this._isSearching?ae=M:F&&F>0&&!x&&(ae=F);for(var Se=0;Se<ae;Se+=1)we[Se]&&z(we[Se]);return S},D.prototype._createItemsFragment=function(O,S){var x=this;S===void 0&&(S=document.createDocumentFragment());var R=this.config,I=R.shouldSortItems,k=R.sorter,M=R.removeItemButton;I&&!this._isSelectOneElement&&O.sort(k),this._isTextElement?this.passedElement.value=O.map(function(j){var z=j.value;return z}).join(this.config.delimiter):this.passedElement.options=O;var F=function(j){var z=x._getTemplate("item",j,M);S.appendChild(z)};return O.forEach(F),S},D.prototype._triggerChange=function(O){O!=null&&this.passedElement.triggerEvent(E.EVENTS.change,{value:O})},D.prototype._selectPlaceholderChoice=function(O){this._addItem({value:O.value,label:O.label,choiceId:O.id,groupId:O.groupId,placeholder:O.placeholder}),this._triggerChange(O.value)},D.prototype._handleButtonAction=function(O,S){if(!(!O||!S||!this.config.removeItems||!this.config.removeItemButton)){var x=S.parentNode&&S.parentNode.dataset.id,R=x&&O.find(function(I){return I.id===parseInt(x,10)});!R||(this._removeItem(R),this._triggerChange(R.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},D.prototype._handleItemAction=function(O,S,x){var R=this;if(x===void 0&&(x=!1),!(!O||!S||!this.config.removeItems||this._isSelectOneElement)){var I=S.dataset.id;O.forEach(function(k){k.id===parseInt("".concat(I),10)&&!k.highlighted?R.highlightItem(k):!x&&k.highlighted&&R.unhighlightItem(k)}),this.input.focus()}},D.prototype._handleChoiceAction=function(O,S){if(!(!O||!S)){var x=S.dataset.id,R=x&&this._store.getChoiceById(x);if(!!R){var I=O[0]&&O[0].keyCode?O[0].keyCode:void 0,k=this.dropdown.isActive;if(R.keyCode=I,this.passedElement.triggerEvent(E.EVENTS.choice,{choice:R}),!R.selected&&!R.disabled){var M=this._canAddItem(O,R.value);M.response&&(this._addItem({value:R.value,label:R.label,choiceId:R.id,groupId:R.groupId,customProperties:R.customProperties,placeholder:R.placeholder,keyCode:R.keyCode}),this._triggerChange(R.value))}this.clearInput(),k&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},D.prototype._handleBackspace=function(O){if(!(!this.config.removeItems||!O)){var S=O[O.length-1],x=O.some(function(R){return R.highlighted});this.config.editItems&&!x&&S?(this.input.value=S.value,this.input.setWidth(),this._removeItem(S),this._triggerChange(S.value)):(x||this.highlightItem(S,!1),this.removeHighlightedItems(!0))}},D.prototype._startLoading=function(){this._store.dispatch((0,v.setIsLoading)(!0))},D.prototype._stopLoading=function(){this._store.dispatch((0,v.setIsLoading)(!1))},D.prototype._handleLoadingState=function(O){O===void 0&&(O=!0);var S=this.itemList.getChild(".".concat(this.config.classNames.placeholder));O?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?S?S.innerHTML=this.config.loadingText:(S=this._getTemplate("placeholder",this.config.loadingText),S&&this.itemList.append(S)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?S&&(S.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},D.prototype._handleSearch=function(O){if(!!this.input.isFocussed){var S=this._store.choices,x=this.config,R=x.searchFloor,I=x.searchChoices,k=S.some(function(F){return!F.active});if(O!==null&&typeof O<"u"&&O.length>=R){var M=I?this._searchChoices(O):0;this.passedElement.triggerEvent(E.EVENTS.search,{value:O,resultCount:M})}else k&&(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0)))}},D.prototype._canAddItem=function(O,S){var x=!0,R=typeof this.config.addItemText=="function"?this.config.addItemText(S):this.config.addItemText;if(!this._isSelectOneElement){var I=(0,b.existsInArray)(O,S);this.config.maxItemCount>0&&this.config.maxItemCount<=O.length&&(x=!1,R=typeof this.config.maxItemText=="function"?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&I&&x&&(x=!1,R=typeof this.config.uniqueItemText=="function"?this.config.uniqueItemText(S):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&x&&typeof this.config.addItemFilter=="function"&&!this.config.addItemFilter(S)&&(x=!1,R=typeof this.config.customAddItemText=="function"?this.config.customAddItemText(S):this.config.customAddItemText)}return{response:x,notice:R}},D.prototype._searchChoices=function(O){var S=typeof O=="string"?O.trim():O,x=typeof this._currentValue=="string"?this._currentValue.trim():this._currentValue;if(S.length<1&&S==="".concat(x," "))return 0;var R=this._store.searchableChoices,I=S,k=Object.assign(this.config.fuseOptions,{keys:u([],this.config.searchFields,!0),includeMatches:!0}),M=new d.default(R,k),F=M.search(I);return this._currentValue=S,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,p.filterChoices)(F)),F.length},D.prototype._addEventListeners=function(){var O=document.documentElement;O.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),O.addEventListener("click",this._onClick,{passive:!0}),O.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},D.prototype._removeEventListeners=function(){var O=document.documentElement;O.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),O.removeEventListener("click",this._onClick),O.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},D.prototype._onKeyDown=function(O){var S=O.keyCode,x=this._store.activeItems,R=this.input.isFocussed,I=this.dropdown.isActive,k=this.itemList.hasChildren(),M=String.fromCharCode(S),F=/[a-zA-Z0-9-_ ]/.test(M),j=E.KEY_CODES.BACK_KEY,z=E.KEY_CODES.DELETE_KEY,ce=E.KEY_CODES.ENTER_KEY,ie=E.KEY_CODES.A_KEY,de=E.KEY_CODES.ESC_KEY,_e=E.KEY_CODES.UP_KEY,ae=E.KEY_CODES.DOWN_KEY,we=E.KEY_CODES.PAGE_UP_KEY,Se=E.KEY_CODES.PAGE_DOWN_KEY;switch(!this._isTextElement&&!I&&F&&(this.showDropdown(),this.input.isFocussed||(this.input.value+=M.toLowerCase())),S){case ie:return this._onSelectKey(O,k);case ce:return this._onEnterKey(O,x,I);case de:return this._onEscapeKey(I);case _e:case we:case ae:case Se:return this._onDirectionKey(O,I);case z:case j:return this._onDeleteKey(O,x,R)}},D.prototype._onKeyUp=function(O){var S=O.target,x=O.keyCode,R=this.input.value,I=this._store.activeItems,k=this._canAddItem(I,R),M=E.KEY_CODES.BACK_KEY,F=E.KEY_CODES.DELETE_KEY;if(this._isTextElement){var j=k.notice&&R;if(j){var z=this._getTemplate("notice",k.notice);this.dropdown.element.innerHTML=z.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0)}else{var ce=x===M||x===F,ie=ce&&S&&!S.value,de=!this._isTextElement&&this._isSearching,_e=this._canSearch&&k.response;ie&&de?(this._isSearching=!1,this._store.dispatch((0,p.activateChoices)(!0))):_e&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},D.prototype._onSelectKey=function(O,S){var x=O.ctrlKey,R=O.metaKey,I=x||R;if(I&&S){this._canSearch=!1;var k=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;k&&this.highlightAll()}},D.prototype._onEnterKey=function(O,S,x){var R=O.target,I=E.KEY_CODES.ENTER_KEY,k=R&&R.hasAttribute("data-button");if(this._isTextElement&&R&&R.value){var M=this.input.value,F=this._canAddItem(S,M);F.response&&(this.hideDropdown(!0),this._addItem({value:M}),this._triggerChange(M),this.clearInput())}if(k&&(this._handleButtonAction(S,R),O.preventDefault()),x){var j=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));j&&(S[0]&&(S[0].keyCode=I),this._handleChoiceAction(S,j)),O.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),O.preventDefault())},D.prototype._onEscapeKey=function(O){O&&(this.hideDropdown(!0),this.containerOuter.focus())},D.prototype._onDirectionKey=function(O,S){var x=O.keyCode,R=O.metaKey,I=E.KEY_CODES.DOWN_KEY,k=E.KEY_CODES.PAGE_UP_KEY,M=E.KEY_CODES.PAGE_DOWN_KEY;if(S||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var F=x===I||x===M?1:-1,j=R||x===M||x===k,z="[data-choice-selectable]",ce=void 0;if(j)F>0?ce=this.dropdown.element.querySelector("".concat(z,":last-of-type")):ce=this.dropdown.element.querySelector(z);else{var ie=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));ie?ce=(0,b.getAdjacentEl)(ie,z,F):ce=this.dropdown.element.querySelector(z)}ce&&((0,b.isScrolledIntoView)(ce,this.choiceList.element,F)||this.choiceList.scrollToChildElement(ce,F),this._highlightChoice(ce)),O.preventDefault()}},D.prototype._onDeleteKey=function(O,S,x){var R=O.target;!this._isSelectOneElement&&!R.value&&x&&(this._handleBackspace(S),O.preventDefault())},D.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},D.prototype._onTouchEnd=function(O){var S=(O||O.touches[0]).target,x=this._wasTap&&this.containerOuter.element.contains(S);if(x){var R=S===this.containerOuter.element||S===this.containerInner.element;R&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),O.stopPropagation()}this._wasTap=!0},D.prototype._onMouseDown=function(O){var S=O.target;if(S instanceof HTMLElement){if(T&&this.choiceList.element.contains(S)){var x=this.choiceList.element.firstElementChild,R=this._direction==="ltr"?O.offsetX>=x.offsetWidth:O.offsetX<x.offsetLeft;this._isScrollingOnIe=R}if(S!==this.input.element){var I=S.closest("[data-button],[data-item],[data-choice]");if(I instanceof HTMLElement){var k=O.shiftKey,M=this._store.activeItems,F=I.dataset;"button"in F?this._handleButtonAction(M,I):"item"in F?this._handleItemAction(M,I,k):"choice"in F&&this._handleChoiceAction(M,I)}O.preventDefault()}}},D.prototype._onMouseOver=function(O){var S=O.target;S instanceof HTMLElement&&"choice"in S.dataset&&this._highlightChoice(S)},D.prototype._onClick=function(O){var S=O.target,x=this.containerOuter.element.contains(S);if(x)!this.dropdown.isActive&&!this.containerOuter.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):this._isSelectOneElement&&S!==this.input.element&&!this.dropdown.element.contains(S)&&this.hideDropdown();else{var R=this._store.highlightedActiveItems.length>0;R&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0)}},D.prototype._onFocus=function(O){var S,x=this,R=O.target,I=R&&this.containerOuter.element.contains(R);if(!!I){var k=(S={},S[E.TEXT_TYPE]=function(){R===x.input.element&&x.containerOuter.addFocusState()},S[E.SELECT_ONE_TYPE]=function(){x.containerOuter.addFocusState(),R===x.input.element&&x.showDropdown(!0)},S[E.SELECT_MULTIPLE_TYPE]=function(){R===x.input.element&&(x.showDropdown(!0),x.containerOuter.addFocusState())},S);k[this.passedElement.element.type]()}},D.prototype._onBlur=function(O){var S,x=this,R=O.target,I=R&&this.containerOuter.element.contains(R);if(I&&!this._isScrollingOnIe){var k=this._store.activeItems,M=k.some(function(j){return j.highlighted}),F=(S={},S[E.TEXT_TYPE]=function(){R===x.input.element&&(x.containerOuter.removeFocusState(),M&&x.unhighlightAll(),x.hideDropdown(!0))},S[E.SELECT_ONE_TYPE]=function(){x.containerOuter.removeFocusState(),(R===x.input.element||R===x.containerOuter.element&&!x._canSearch)&&x.hideDropdown(!0)},S[E.SELECT_MULTIPLE_TYPE]=function(){R===x.input.element&&(x.containerOuter.removeFocusState(),x.hideDropdown(!0),M&&x.unhighlightAll())},S);F[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},D.prototype._onFormReset=function(){this._store.dispatch((0,v.resetTo)(this._initialState))},D.prototype._highlightChoice=function(O){var S=this;O===void 0&&(O=null);var x=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(!!x.length){var R=O,I=Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState)));I.forEach(function(k){k.classList.remove(S.config.classNames.highlightedState),k.setAttribute("aria-selected","false")}),R?this._highlightPosition=x.indexOf(R):(x.length>this._highlightPosition?R=x[this._highlightPosition]:R=x[x.length-1],R||(R=x[0])),R.classList.add(this.config.classNames.highlightedState),R.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(E.EVENTS.highlightChoice,{el:R}),this.dropdown.isActive&&(this.input.setActiveDescendant(R.id),this.containerOuter.setActiveDescendant(R.id))}},D.prototype._addItem=function(O){var S=O.value,x=O.label,R=x===void 0?null:x,I=O.choiceId,k=I===void 0?-1:I,M=O.groupId,F=M===void 0?-1:M,j=O.customProperties,z=j===void 0?{}:j,ce=O.placeholder,ie=ce===void 0?!1:ce,de=O.keyCode,_e=de===void 0?-1:de,ae=typeof S=="string"?S.trim():S,we=this._store.items,Se=R||ae,Pe=k||-1,Oe=F>=0?this._store.getGroupById(F):null,rt=we?we.length+1:1;this.config.prependValue&&(ae=this.config.prependValue+ae.toString()),this.config.appendValue&&(ae+=this.config.appendValue.toString()),this._store.dispatch((0,h.addItem)({value:ae,label:Se,id:rt,choiceId:Pe,groupId:F,customProperties:z,placeholder:ie,keyCode:_e})),this._isSelectOneElement&&this.removeActiveItems(rt),this.passedElement.triggerEvent(E.EVENTS.addItem,{id:rt,value:ae,label:Se,customProperties:z,groupValue:Oe&&Oe.value?Oe.value:null,keyCode:_e})},D.prototype._removeItem=function(O){var S=O.id,x=O.value,R=O.label,I=O.customProperties,k=O.choiceId,M=O.groupId,F=M&&M>=0?this._store.getGroupById(M):null;!S||!k||(this._store.dispatch((0,h.removeItem)(S,k)),this.passedElement.triggerEvent(E.EVENTS.removeItem,{id:S,value:x,label:R,customProperties:I,groupValue:F&&F.value?F.value:null}))},D.prototype._addChoice=function(O){var S=O.value,x=O.label,R=x===void 0?null:x,I=O.isSelected,k=I===void 0?!1:I,M=O.isDisabled,F=M===void 0?!1:M,j=O.groupId,z=j===void 0?-1:j,ce=O.customProperties,ie=ce===void 0?{}:ce,de=O.placeholder,_e=de===void 0?!1:de,ae=O.keyCode,we=ae===void 0?-1:ae;if(!(typeof S>"u"||S===null)){var Se=this._store.choices,Pe=R||S,Oe=Se?Se.length+1:1,rt="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(Oe);this._store.dispatch((0,p.addChoice)({id:Oe,groupId:z,elementId:rt,value:S,label:Pe,disabled:F,customProperties:ie,placeholder:_e,keyCode:we})),k&&this._addItem({value:S,label:Pe,choiceId:Oe,customProperties:ie,placeholder:_e,keyCode:we})}},D.prototype._addGroup=function(O){var S=this,x=O.group,R=O.id,I=O.valueKey,k=I===void 0?"value":I,M=O.labelKey,F=M===void 0?"label":M,j=(0,b.isType)("Object",x)?x.choices:Array.from(x.getElementsByTagName("OPTION")),z=R||Math.floor(new Date().valueOf()*Math.random()),ce=x.disabled?x.disabled:!1;if(j){this._store.dispatch((0,g.addGroup)({value:x.label,id:z,active:!0,disabled:ce}));var ie=function(de){var _e=de.disabled||de.parentNode&&de.parentNode.disabled;S._addChoice({value:de[k],label:(0,b.isType)("Object",de)?de[F]:de.innerHTML,isSelected:de.selected,isDisabled:_e,groupId:z,customProperties:de.customProperties,placeholder:de.placeholder})};j.forEach(ie)}else this._store.dispatch((0,g.addGroup)({value:x.label,id:x.id,active:!1,disabled:x.disabled}))},D.prototype._getTemplate=function(O){for(var S,x=[],R=1;R<arguments.length;R++)x[R-1]=arguments[R];return(S=this._templates[O]).call.apply(S,u([this,this.config],x,!1))},D.prototype._createTemplates=function(){var O=this.config.callbackOnCreateTemplates,S={};O&&typeof O=="function"&&(S=O.call(this,b.strToEl)),this._templates=(0,f.default)(_.default,S)},D.prototype._createElements=function(){this.containerOuter=new y.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new y.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new y.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new y.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new y.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new y.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},D.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},D.prototype._addPredefinedGroups=function(O){var S=this,x=this.passedElement.placeholderOption;x&&x.parentNode&&x.parentNode.tagName==="SELECT"&&this._addChoice({value:x.value,label:x.innerHTML,isSelected:x.selected,isDisabled:x.disabled,placeholder:!0}),O.forEach(function(R){return S._addGroup({group:R,id:R.id||null})})},D.prototype._addPredefinedChoices=function(O){var S=this;this.config.shouldSort&&O.sort(this.config.sorter);var x=O.some(function(I){return I.selected}),R=O.findIndex(function(I){return I.disabled===void 0||!I.disabled});O.forEach(function(I,k){var M=I.value,F=M===void 0?"":M,j=I.label,z=I.customProperties,ce=I.placeholder;if(S._isSelectElement)if(I.choices)S._addGroup({group:I,id:I.id||null});else{var ie=S._isSelectOneElement&&!x&&k===R,de=ie?!0:I.selected,_e=I.disabled;S._addChoice({value:F,label:j,isSelected:!!de,isDisabled:!!_e,placeholder:!!ce,customProperties:z})}else S._addChoice({value:F,label:j,isSelected:!!I.selected,isDisabled:!!I.disabled,placeholder:!!I.placeholder,customProperties:z})})},D.prototype._addPredefinedItems=function(O){var S=this;O.forEach(function(x){typeof x=="object"&&x.value&&S._addItem({value:x.value,label:x.label,choiceId:x.id,customProperties:x.customProperties,placeholder:x.placeholder}),typeof x=="string"&&S._addItem({value:x})})},D.prototype._setChoiceOrItem=function(O){var S=this,x=(0,b.getType)(O).toLowerCase(),R={object:function(){!O.value||(S._isTextElement?S._addItem({value:O.value,label:O.label,choiceId:O.id,customProperties:O.customProperties,placeholder:O.placeholder}):S._addChoice({value:O.value,label:O.label,isSelected:!0,isDisabled:!1,customProperties:O.customProperties,placeholder:O.placeholder}))},string:function(){S._isTextElement?S._addItem({value:O}):S._addChoice({value:O,label:O,isSelected:!0,isDisabled:!1})}};R[x]()},D.prototype._findAndSelectChoiceByValue=function(O){var S=this,x=this._store.choices,R=x.find(function(I){return S.config.valueComparer(I.value,O)});R&&!R.selected&&this._addItem({value:R.value,label:R.label,choiceId:R.id,groupId:R.groupId,customProperties:R.customProperties,placeholder:R.placeholder,keyCode:R.keyCode})},D.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var O=this.passedElement.placeholderOption;return O?O.text:null}var S=this.config,x=S.placeholder,R=S.placeholderValue,I=this.passedElement.element.dataset;if(x){if(R)return R;if(I.placeholder)return I.placeholder}return null},D}();a.default=L},613:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0});var u=l(799),c=l(883),f=function(){function d(p){var g=p.element,h=p.type,v=p.classNames,y=p.position;this.element=g,this.classNames=v,this.type=h,this.position=y,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return d.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},d.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.shouldFlip=function(p){if(typeof p!="number")return!1;var g=!1;return this.position==="auto"?g=!window.matchMedia("(min-height: ".concat(p+1,"px)")).matches:this.position==="top"&&(g=!0),g},d.prototype.setActiveDescendant=function(p){this.element.setAttribute("aria-activedescendant",p)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype.open=function(p){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(p)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},d.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},d.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},d.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===c.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},d.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===c.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},d.prototype.wrap=function(p){(0,u.wrap)(p,this.element)},d.prototype.unwrap=function(p){this.element.parentNode&&(this.element.parentNode.insertBefore(p,this.element),this.element.parentNode.removeChild(this.element))},d.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},d.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=f},217:function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var l=function(){function u(c){var f=c.element,d=c.type,p=c.classNames;this.element=f,this.classNames=p,this.type=d,this.isActive=!1}return Object.defineProperty(u.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),u.prototype.getChild=function(c){return this.element.querySelector(c)},u.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},u.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},u}();a.default=l},520:function(s,a,l){var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(a,"__esModule",{value:!0}),a.WrappedSelect=a.WrappedInput=a.List=a.Input=a.Container=a.Dropdown=void 0;var c=u(l(217));a.Dropdown=c.default;var f=u(l(613));a.Container=f.default;var d=u(l(11));a.Input=d.default;var p=u(l(624));a.List=p.default;var g=u(l(541));a.WrappedInput=g.default;var h=u(l(982));a.WrappedSelect=h.default},11:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0});var u=l(799),c=l(883),f=function(){function d(p){var g=p.element,h=p.type,v=p.classNames,y=p.preventPaste;this.element=g,this.type=h,this.classNames=v,this.preventPaste=y,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=g.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(d.prototype,"placeholder",{set:function(p){this.element.placeholder=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"value",{get:function(){return(0,u.sanitise)(this.element.value)},set:function(p){this.element.value=p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),d.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},d.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},d.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},d.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},d.prototype.focus=function(){this.isFocussed||this.element.focus()},d.prototype.blur=function(){this.isFocussed&&this.element.blur()},d.prototype.clear=function(p){return p===void 0&&(p=!0),this.element.value&&(this.element.value=""),p&&this.setWidth(),this},d.prototype.setWidth=function(){var p=this.element,g=p.style,h=p.value,v=p.placeholder;g.minWidth="".concat(v.length+1,"ch"),g.width="".concat(h.length+1,"ch")},d.prototype.setActiveDescendant=function(p){this.element.setAttribute("aria-activedescendant",p)},d.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},d.prototype._onInput=function(){this.type!==c.SELECT_ONE_TYPE&&this.setWidth()},d.prototype._onPaste=function(p){this.preventPaste&&p.preventDefault()},d.prototype._onFocus=function(){this.isFocussed=!0},d.prototype._onBlur=function(){this.isFocussed=!1},d}();a.default=f},624:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0});var u=l(883),c=function(){function f(d){var p=d.element;this.element=p,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return f.prototype.clear=function(){this.element.innerHTML=""},f.prototype.append=function(d){this.element.appendChild(d)},f.prototype.getChild=function(d){return this.element.querySelector(d)},f.prototype.hasChildren=function(){return this.element.hasChildNodes()},f.prototype.scrollToTop=function(){this.element.scrollTop=0},f.prototype.scrollToChildElement=function(d,p){var g=this;if(!!d){var h=this.element.offsetHeight,v=this.element.scrollTop+h,y=d.offsetHeight,E=d.offsetTop+y,m=p>0?this.element.scrollTop+E-v:d.offsetTop;requestAnimationFrame(function(){g._animateScroll(m,p)})}},f.prototype._scrollDown=function(d,p,g){var h=(g-d)/p,v=h>1?h:1;this.element.scrollTop=d+v},f.prototype._scrollUp=function(d,p,g){var h=(d-g)/p,v=h>1?h:1;this.element.scrollTop=d-v},f.prototype._animateScroll=function(d,p){var g=this,h=u.SCROLLING_SPEED,v=this.element.scrollTop,y=!1;p>0?(this._scrollDown(v,h,d),v<d&&(y=!0)):(this._scrollUp(v,h,d),v>d&&(y=!0)),y&&requestAnimationFrame(function(){g._animateScroll(d,p)})},f}();a.default=c},730:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0});var u=l(799),c=function(){function f(d){var p=d.element,g=d.classNames;if(this.element=p,this.classNames=g,!(p instanceof HTMLInputElement)&&!(p instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(f.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.element.value},set:function(d){this.element.value=d},enumerable:!1,configurable:!0}),f.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var d=this.element.getAttribute("style");d&&this.element.setAttribute("data-choice-orig-style",d),this.element.setAttribute("data-choice","active")},f.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var d=this.element.getAttribute("data-choice-orig-style");d?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",d)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},f.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},f.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},f.prototype.triggerEvent=function(d,p){(0,u.dispatchEvent)(this.element,d,p)},f}();a.default=c},541:function(s,a,l){var u=this&&this.__extends||function(){var p=function(g,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[E]=y[E])},p(g,h)};return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(g,h);function v(){this.constructor=g}g.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(l(730)),d=function(p){u(g,p);function g(h){var v=h.element,y=h.classNames,E=h.delimiter,m=p.call(this,{element:v,classNames:y})||this;return m.delimiter=E,m}return Object.defineProperty(g.prototype,"value",{get:function(){return this.element.value},set:function(h){this.element.setAttribute("value",h),this.element.value=h},enumerable:!1,configurable:!0}),g}(f.default);a.default=d},982:function(s,a,l){var u=this&&this.__extends||function(){var p=function(g,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(v[E]=y[E])},p(g,h)};return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(g,h);function v(){this.constructor=g}g.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});var f=c(l(730)),d=function(p){u(g,p);function g(h){var v=h.element,y=h.classNames,E=h.template,m=p.call(this,{element:v,classNames:y})||this;return m.template=E,m}return Object.defineProperty(g.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(h){var v=this,y=document.createDocumentFragment(),E=function(m){var b=v.template(m);y.appendChild(b)};h.forEach(function(m){return E(m)}),this.appendDocFragment(y)},enumerable:!1,configurable:!0}),g.prototype.appendDocFragment=function(h){this.element.innerHTML="",this.element.appendChild(h)},g}(f.default);a.default=d},883:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SCROLLING_SPEED=a.SELECT_MULTIPLE_TYPE=a.SELECT_ONE_TYPE=a.TEXT_TYPE=a.KEY_CODES=a.ACTION_TYPES=a.EVENTS=void 0,a.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},a.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},a.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},a.TEXT_TYPE="text",a.SELECT_ONE_TYPE="select-one",a.SELECT_MULTIPLE_TYPE="select-multiple",a.SCROLLING_SPEED=4},789:function(s,a,l){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CONFIG=a.DEFAULT_CLASSNAMES=void 0;var u=l(799);a.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},a.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:u.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(c){return'Press Enter to add <b>"'.concat((0,u.sanitise)(c),'"</b>')},maxItemText:function(c){return"Only ".concat(c," values can be added")},valueComparer:function(c,f){return c===f},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:a.DEFAULT_CLASSNAMES}},18:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},978:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},948:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},359:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},285:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},533:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},187:function(s,a,l){var u=this&&this.__createBinding||(Object.create?function(f,d,p,g){g===void 0&&(g=p),Object.defineProperty(f,g,{enumerable:!0,get:function(){return d[p]}})}:function(f,d,p,g){g===void 0&&(g=p),f[g]=d[p]}),c=this&&this.__exportStar||function(f,d){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&u(d,f,p)};Object.defineProperty(a,"__esModule",{value:!0}),c(l(18),a),c(l(978),a),c(l(948),a),c(l(359),a),c(l(285),a),c(l(533),a),c(l(287),a),c(l(132),a),c(l(837),a),c(l(598),a),c(l(369),a),c(l(37),a),c(l(47),a),c(l(923),a),c(l(876),a)},287:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},132:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},837:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},598:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},37:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},369:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},47:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},923:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},876:function(s,a){Object.defineProperty(a,"__esModule",{value:!0})},799:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.diff=a.cloneObject=a.existsInArray=a.dispatchEvent=a.sortByScore=a.sortByAlpha=a.strToEl=a.sanitise=a.isScrolledIntoView=a.getAdjacentEl=a.wrap=a.isType=a.getType=a.generateId=a.generateChars=a.getRandomNumber=void 0;var l=function(_,T){return Math.floor(Math.random()*(T-_)+_)};a.getRandomNumber=l;var u=function(_){return Array.from({length:_},function(){return(0,a.getRandomNumber)(0,36).toString(36)}).join("")};a.generateChars=u;var c=function(_,T){var C=_.id||_.name&&"".concat(_.name,"-").concat((0,a.generateChars)(2))||(0,a.generateChars)(4);return C=C.replace(/(:|\.|\[|\]|,)/g,""),C="".concat(T,"-").concat(C),C};a.generateId=c;var f=function(_){return Object.prototype.toString.call(_).slice(8,-1)};a.getType=f;var d=function(_,T){return T!=null&&(0,a.getType)(T)===_};a.isType=d;var p=function(_,T){return T===void 0&&(T=document.createElement("div")),_.parentNode&&(_.nextSibling?_.parentNode.insertBefore(T,_.nextSibling):_.parentNode.appendChild(T)),T.appendChild(_)};a.wrap=p;var g=function(_,T,C){C===void 0&&(C=1);for(var L="".concat(C>0?"next":"previous","ElementSibling"),D=_[L];D;){if(D.matches(T))return D;D=D[L]}return D};a.getAdjacentEl=g;var h=function(_,T,C){if(C===void 0&&(C=1),!_)return!1;var L;return C>0?L=T.scrollTop+T.offsetHeight>=_.offsetTop+_.offsetHeight:L=_.offsetTop>=T.scrollTop,L};a.isScrolledIntoView=h;var v=function(_){return typeof _!="string"?_:_.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};a.sanitise=v,a.strToEl=function(){var _=document.createElement("div");return function(T){var C=T.trim();_.innerHTML=C;for(var L=_.children[0];_.firstChild;)_.removeChild(_.firstChild);return L}}();var y=function(_,T){var C=_.value,L=_.label,D=L===void 0?C:L,O=T.value,S=T.label,x=S===void 0?O:S;return D.localeCompare(x,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})};a.sortByAlpha=y;var E=function(_,T){var C=_.score,L=C===void 0?0:C,D=T.score,O=D===void 0?0:D;return L-O};a.sortByScore=E;var m=function(_,T,C){C===void 0&&(C=null);var L=new CustomEvent(T,{detail:C,bubbles:!0,cancelable:!0});return _.dispatchEvent(L)};a.dispatchEvent=m;var b=function(_,T,C){return C===void 0&&(C="value"),_.some(function(L){return typeof T=="string"?L[C]===T.trim():L[C]===T})};a.existsInArray=b;var w=function(_){return JSON.parse(JSON.stringify(_))};a.cloneObject=w;var A=function(_,T){var C=Object.keys(_).sort(),L=Object.keys(T).sort();return C.filter(function(D){return L.indexOf(D)<0})};a.diff=A},273:function(s,a){var l=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,g=f.length,h;p<g;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function u(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_CHOICE":{var d=f,p={id:d.id,elementId:d.elementId,groupId:d.groupId,value:d.value,label:d.label||d.value,disabled:d.disabled||!1,selected:!1,active:!0,score:9999,customProperties:d.customProperties,placeholder:d.placeholder||!1};return l(l([],c,!0),[p],!1)}case"ADD_ITEM":{var g=f;return g.choiceId>-1?c.map(function(E){var m=E;return m.id===parseInt("".concat(g.choiceId),10)&&(m.selected=!0),m}):c}case"REMOVE_ITEM":{var h=f;return h.choiceId&&h.choiceId>-1?c.map(function(E){var m=E;return m.id===parseInt("".concat(h.choiceId),10)&&(m.selected=!1),m}):c}case"FILTER_CHOICES":{var v=f;return c.map(function(E){var m=E;return m.active=v.results.some(function(b){var w=b.item,A=b.score;return w.id===m.id?(m.score=A,!0):!1}),m})}case"ACTIVATE_CHOICES":{var y=f;return c.map(function(E){var m=E;return m.active=y.active,m})}case"CLEAR_CHOICES":return a.defaultState;default:return c}}a.default=u},871:function(s,a){var l=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,g=f.length,h;p<g;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function u(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_GROUP":{var d=f;return l(l([],c,!0),[{id:d.id,value:d.value,active:d.active,disabled:d.disabled}],!1)}case"CLEAR_CHOICES":return[];default:return c}}a.default=u},655:function(s,a,l){var u=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0;var c=l(857),f=u(l(52)),d=u(l(871)),p=u(l(273)),g=u(l(502)),h=l(799);a.defaultState={groups:[],items:[],choices:[],loading:!1};var v=(0,c.combineReducers)({items:f.default,groups:d.default,choices:p.default,loading:g.default}),y=function(E,m){var b=E;if(m.type==="CLEAR_ALL")b=a.defaultState;else if(m.type==="RESET_TO")return(0,h.cloneObject)(m.state);return v(b,m)};a.default=y},52:function(s,a){var l=this&&this.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var p=0,g=f.length,h;p<g;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return c.concat(h||Array.prototype.slice.call(f))};Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=[];function u(c,f){switch(c===void 0&&(c=a.defaultState),f===void 0&&(f={}),f.type){case"ADD_ITEM":{var d=f,p=l(l([],c,!0),[{id:d.id,choiceId:d.choiceId,groupId:d.groupId,value:d.value,label:d.label,active:!0,highlighted:!1,customProperties:d.customProperties,placeholder:d.placeholder||!1,keyCode:null}],!1);return p.map(function(h){var v=h;return v.highlighted=!1,v})}case"REMOVE_ITEM":return c.map(function(h){var v=h;return v.id===f.id&&(v.active=!1),v});case"HIGHLIGHT_ITEM":{var g=f;return c.map(function(h){var v=h;return v.id===g.id&&(v.highlighted=g.highlighted),v})}default:return c}}a.default=u},502:function(s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultState=void 0,a.defaultState=!1;var l=function(u,c){switch(u===void 0&&(u=a.defaultState),c===void 0&&(c={}),c.type){case"SET_IS_LOADING":return c.isLoading;default:return u}};a.default=l},744:function(s,a,l){var u=this&&this.__spreadArray||function(g,h,v){if(v||arguments.length===2)for(var y=0,E=h.length,m;y<E;y++)(m||!(y in h))&&(m||(m=Array.prototype.slice.call(h,0,y)),m[y]=h[y]);return g.concat(m||Array.prototype.slice.call(h))},c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});var f=l(857),d=c(l(655)),p=function(){function g(){this._store=(0,f.createStore)(d.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return g.prototype.subscribe=function(h){this._store.subscribe(h)},g.prototype.dispatch=function(h){this._store.dispatch(h)},Object.defineProperty(g.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"activeItems",{get:function(){return this.items.filter(function(h){return h.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(h){return h.active&&h.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"activeChoices",{get:function(){return this.choices.filter(function(h){return h.active===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(h){return h.disabled!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(h){return h.placeholder!==!0})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"placeholderChoice",{get:function(){return u([],this.choices,!0).reverse().find(function(h){return h.placeholder===!0})},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"activeGroups",{get:function(){var h=this,v=h.groups,y=h.choices;return v.filter(function(E){var m=E.active===!0&&E.disabled===!1,b=y.some(function(w){return w.active===!0&&w.disabled===!1});return m&&b},[])},enumerable:!1,configurable:!0}),g.prototype.isLoading=function(){return this.state.loading},g.prototype.getChoiceById=function(h){return this.activeChoices.find(function(v){return v.id===parseInt(h,10)})},g.prototype.getGroupById=function(h){return this.groups.find(function(v){return v.id===h})},g}();a.default=p},686:function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var l={containerOuter:function(u,c,f,d,p,g,h){var v=u.classNames.containerOuter,y=Object.assign(document.createElement("div"),{className:v});return y.dataset.type=g,c&&(y.dir=c),d&&(y.tabIndex=0),f&&(y.setAttribute("role",p?"combobox":"listbox"),p&&y.setAttribute("aria-autocomplete","list")),y.setAttribute("aria-haspopup","true"),y.setAttribute("aria-expanded","false"),h&&y.setAttribute("aria-labeledby",h),y},containerInner:function(u){var c=u.classNames.containerInner;return Object.assign(document.createElement("div"),{className:c})},itemList:function(u,c){var f=u.classNames,d=f.list,p=f.listSingle,g=f.listItems;return Object.assign(document.createElement("div"),{className:"".concat(d," ").concat(c?p:g)})},placeholder:function(u,c){var f,d=u.allowHTML,p=u.classNames.placeholder;return Object.assign(document.createElement("div"),(f={className:p},f[d?"innerHTML":"innerText"]=c,f))},item:function(u,c,f){var d,p,g=u.allowHTML,h=u.classNames,v=h.item,y=h.button,E=h.highlightedState,m=h.itemSelectable,b=h.placeholder,w=c.id,A=c.value,_=c.label,T=c.customProperties,C=c.active,L=c.disabled,D=c.highlighted,O=c.placeholder,S=Object.assign(document.createElement("div"),(d={className:v},d[g?"innerHTML":"innerText"]=_,d));if(Object.assign(S.dataset,{item:"",id:w,value:A,customProperties:T}),C&&S.setAttribute("aria-selected","true"),L&&S.setAttribute("aria-disabled","true"),O&&S.classList.add(b),S.classList.add(D?E:m),f){L&&S.classList.remove(m),S.dataset.deletable="";var x="Remove item",R=Object.assign(document.createElement("button"),(p={type:"button",className:y},p[g?"innerHTML":"innerText"]=x,p));R.setAttribute("aria-label","".concat(x,": '").concat(A,"'")),R.dataset.button="",S.appendChild(R)}return S},choiceList:function(u,c){var f=u.classNames.list,d=Object.assign(document.createElement("div"),{className:f});return c||d.setAttribute("aria-multiselectable","true"),d.setAttribute("role","listbox"),d},choiceGroup:function(u,c){var f,d=u.allowHTML,p=u.classNames,g=p.group,h=p.groupHeading,v=p.itemDisabled,y=c.id,E=c.value,m=c.disabled,b=Object.assign(document.createElement("div"),{className:"".concat(g," ").concat(m?v:"")});return b.setAttribute("role","group"),Object.assign(b.dataset,{group:"",id:y,value:E}),m&&b.setAttribute("aria-disabled","true"),b.appendChild(Object.assign(document.createElement("div"),(f={className:h},f[d?"innerHTML":"innerText"]=E,f))),b},choice:function(u,c,f){var d,p=u.allowHTML,g=u.classNames,h=g.item,v=g.itemChoice,y=g.itemSelectable,E=g.selectedState,m=g.itemDisabled,b=g.placeholder,w=c.id,A=c.value,_=c.label,T=c.groupId,C=c.elementId,L=c.disabled,D=c.selected,O=c.placeholder,S=Object.assign(document.createElement("div"),(d={id:C},d[p?"innerHTML":"innerText"]=_,d.className="".concat(h," ").concat(v),d));return D&&S.classList.add(E),O&&S.classList.add(b),S.setAttribute("role",T&&T>0?"treeitem":"option"),Object.assign(S.dataset,{choice:"",id:w,value:A,selectText:f}),L?(S.classList.add(m),S.dataset.choiceDisabled="",S.setAttribute("aria-disabled","true")):(S.classList.add(y),S.dataset.choiceSelectable=""),S},input:function(u,c){var f=u.classNames,d=f.input,p=f.inputCloned,g=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(d," ").concat(p),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return g.setAttribute("role","textbox"),g.setAttribute("aria-autocomplete","list"),g.setAttribute("aria-label",c),g},dropdown:function(u){var c=u.classNames,f=c.list,d=c.listDropdown,p=document.createElement("div");return p.classList.add(f,d),p.setAttribute("aria-expanded","false"),p},notice:function(u,c,f){var d,p=u.allowHTML,g=u.classNames,h=g.item,v=g.itemChoice,y=g.noResults,E=g.noChoices;f===void 0&&(f="");var m=[h,v];return f==="no-choices"?m.push(E):f==="no-results"&&m.push(y),Object.assign(document.createElement("div"),(d={},d[p?"innerHTML":"innerText"]=c,d.className=m.join(" "),d))},option:function(u){var c=u.label,f=u.value,d=u.customProperties,p=u.active,g=u.disabled,h=new Option(c,f,!1,p);return d&&(h.dataset.customProperties="".concat(d)),h.disabled=!!g,h}};a.default=l},996:function(s){var a=function(C){return l(C)&&!u(C)};function l(T){return!!T&&typeof T=="object"}function u(T){var C=Object.prototype.toString.call(T);return C==="[object RegExp]"||C==="[object Date]"||d(T)}var c=typeof Symbol=="function"&&Symbol.for,f=c?Symbol.for("react.element"):60103;function d(T){return T.$$typeof===f}function p(T){return Array.isArray(T)?[]:{}}function g(T,C){return C.clone!==!1&&C.isMergeableObject(T)?A(p(T),T,C):T}function h(T,C,L){return T.concat(C).map(function(D){return g(D,L)})}function v(T,C){if(!C.customMerge)return A;var L=C.customMerge(T);return typeof L=="function"?L:A}function y(T){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(T).filter(function(C){return T.propertyIsEnumerable(C)}):[]}function E(T){return Object.keys(T).concat(y(T))}function m(T,C){try{return C in T}catch{return!1}}function b(T,C){return m(T,C)&&!(Object.hasOwnProperty.call(T,C)&&Object.propertyIsEnumerable.call(T,C))}function w(T,C,L){var D={};return L.isMergeableObject(T)&&E(T).forEach(function(O){D[O]=g(T[O],L)}),E(C).forEach(function(O){b(T,O)||(m(T,O)&&L.isMergeableObject(C[O])?D[O]=v(O,L)(T[O],C[O],L):D[O]=g(C[O],L))}),D}function A(T,C,L){L=L||{},L.arrayMerge=L.arrayMerge||h,L.isMergeableObject=L.isMergeableObject||a,L.cloneUnlessOtherwiseSpecified=g;var D=Array.isArray(C),O=Array.isArray(T),S=D===O;return S?D?L.arrayMerge(T,C,L):w(T,C,L):g(C,L)}A.all=function(C,L){if(!Array.isArray(C))throw new Error("first argument should be an array");return C.reduce(function(D,O){return A(D,O,L)},{})};var _=A;s.exports=_},221:function(s,a,l){l.r(a),l.d(a,{default:function(){return on}});function u(K){return Array.isArray?Array.isArray(K):b(K)==="[object Array]"}const c=1/0;function f(K){if(typeof K=="string")return K;let V=K+"";return V=="0"&&1/K==-c?"-0":V}function d(K){return K==null?"":f(K)}function p(K){return typeof K=="string"}function g(K){return typeof K=="number"}function h(K){return K===!0||K===!1||y(K)&&b(K)=="[object Boolean]"}function v(K){return typeof K=="object"}function y(K){return v(K)&&K!==null}function E(K){return K!=null}function m(K){return!K.trim().length}function b(K){return K==null?K===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(K)}const w="Incorrect 'index' type",A=K=>`Invalid value for key ${K}`,_=K=>`Pattern length exceeds max of ${K}.`,T=K=>`Missing ${K} property in key`,C=K=>`Property 'weight' in key '${K}' must be a positive integer`,L=Object.prototype.hasOwnProperty;class D{constructor(V){this._keys=[],this._keyMap={};let X=0;V.forEach(J=>{let oe=O(J);X+=oe.weight,this._keys.push(oe),this._keyMap[oe.id]=oe,X+=oe.weight}),this._keys.forEach(J=>{J.weight/=X})}get(V){return this._keyMap[V]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function O(K){let V=null,X=null,J=null,oe=1;if(p(K)||u(K))J=K,V=S(K),X=x(K);else{if(!L.call(K,"name"))throw new Error(T("name"));const se=K.name;if(J=se,L.call(K,"weight")&&(oe=K.weight,oe<=0))throw new Error(C(se));V=S(se),X=x(se)}return{path:V,id:X,weight:oe,src:J}}function S(K){return u(K)?K:K.split(".")}function x(K){return u(K)?K.join("."):K}function R(K,V){let X=[],J=!1;const oe=(se,ge,ye)=>{if(!!E(se))if(!ge[ye])X.push(se);else{let be=ge[ye];const N=se[be];if(!E(N))return;if(ye===ge.length-1&&(p(N)||g(N)||h(N)))X.push(d(N));else if(u(N)){J=!0;for(let $=0,H=N.length;$<H;$+=1)oe(N[$],ge,ye+1)}else ge.length&&oe(N,ge,ye+1)}};return oe(K,p(V)?V.split("."):V,0),J?X:X[0]}var j={...{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(K,V)=>K.score===V.score?K.idx<V.idx?-1:1:K.score<V.score?-1:1},...{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},...{location:0,threshold:.6,distance:100},...{useExtendedSearch:!1,getFn:R,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const z=/[^ ]+/g;function ce(K=1,V=3){const X=new Map,J=Math.pow(10,V);return{get(oe){const se=oe.match(z).length;if(X.has(se))return X.get(se);const ge=1/Math.pow(se,.5*K),ye=parseFloat(Math.round(ge*J)/J);return X.set(se,ye),ye},clear(){X.clear()}}}class ie{constructor({getFn:V=j.getFn,fieldNormWeight:X=j.fieldNormWeight}={}){this.norm=ce(X,3),this.getFn=V,this.isCreated=!1,this.setIndexRecords()}setSources(V=[]){this.docs=V}setIndexRecords(V=[]){this.records=V}setKeys(V=[]){this.keys=V,this._keysMap={},V.forEach((X,J)=>{this._keysMap[X.id]=J})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,p(this.docs[0])?this.docs.forEach((V,X)=>{this._addString(V,X)}):this.docs.forEach((V,X)=>{this._addObject(V,X)}),this.norm.clear())}add(V){const X=this.size();p(V)?this._addString(V,X):this._addObject(V,X)}removeAt(V){this.records.splice(V,1);for(let X=V,J=this.size();X<J;X+=1)this.records[X].i-=1}getValueForItemAtKeyId(V,X){return V[this._keysMap[X]]}size(){return this.records.length}_addString(V,X){if(!E(V)||m(V))return;let J={v:V,i:X,n:this.norm.get(V)};this.records.push(J)}_addObject(V,X){let J={i:X,$:{}};this.keys.forEach((oe,se)=>{let ge=this.getFn(V,oe.path);if(!!E(ge)){if(u(ge)){let ye=[];const be=[{nestedArrIndex:-1,value:ge}];for(;be.length;){const{nestedArrIndex:N,value:$}=be.pop();if(!!E($))if(p($)&&!m($)){let H={v:$,i:N,n:this.norm.get($)};ye.push(H)}else u($)&&$.forEach((H,Q)=>{be.push({nestedArrIndex:Q,value:H})})}J.$[se]=ye}else if(!m(ge)){let ye={v:ge,n:this.norm.get(ge)};J.$[se]=ye}}}),this.records.push(J)}toJSON(){return{keys:this.keys,records:this.records}}}function de(K,V,{getFn:X=j.getFn,fieldNormWeight:J=j.fieldNormWeight}={}){const oe=new ie({getFn:X,fieldNormWeight:J});return oe.setKeys(K.map(O)),oe.setSources(V),oe.create(),oe}function _e(K,{getFn:V=j.getFn,fieldNormWeight:X=j.fieldNormWeight}={}){const{keys:J,records:oe}=K,se=new ie({getFn:V,fieldNormWeight:X});return se.setKeys(J),se.setIndexRecords(oe),se}function ae(K,{errors:V=0,currentLocation:X=0,expectedLocation:J=0,distance:oe=j.distance,ignoreLocation:se=j.ignoreLocation}={}){const ge=V/K.length;if(se)return ge;const ye=Math.abs(J-X);return oe?ge+ye/oe:ye?1:ge}function we(K=[],V=j.minMatchCharLength){let X=[],J=-1,oe=-1,se=0;for(let ge=K.length;se<ge;se+=1){let ye=K[se];ye&&J===-1?J=se:!ye&&J!==-1&&(oe=se-1,oe-J+1>=V&&X.push([J,oe]),J=-1)}return K[se-1]&&se-J>=V&&X.push([J,se-1]),X}const Se=32;function Pe(K,V,X,{location:J=j.location,distance:oe=j.distance,threshold:se=j.threshold,findAllMatches:ge=j.findAllMatches,minMatchCharLength:ye=j.minMatchCharLength,includeMatches:be=j.includeMatches,ignoreLocation:N=j.ignoreLocation}={}){if(V.length>Se)throw new Error(_(Se));const $=V.length,H=K.length,Q=Math.max(0,Math.min(J,H));let ue=se,le=Q;const Y=ye>1||be,U=Y?Array(H):[];let q;for(;(q=K.indexOf(V,le))>-1;){let ze=ae(V,{currentLocation:q,expectedLocation:Q,distance:oe,ignoreLocation:N});if(ue=Math.min(ze,ue),le=q+$,Y){let ve=0;for(;ve<$;)U[q+ve]=1,ve+=1}}le=-1;let te=[],me=1,Be=$+H;const qe=1<<$-1;for(let ze=0;ze<$;ze+=1){let ve=0,Re=Be;for(;ve<Re;)ae(V,{errors:ze,currentLocation:Q+Re,expectedLocation:Q,distance:oe,ignoreLocation:N})<=ue?ve=Re:Be=Re,Re=Math.floor((Be-ve)/2+ve);Be=Re;let $e=Math.max(1,Q-Re+1),xe=ge?H:Math.min(Q+Re,H)+$,De=Array(xe+2);De[xe+1]=(1<<ze)-1;for(let at=xe;at>=$e;at-=1){let Ne=at-1,Bn=X[K.charAt(Ne)];if(Y&&(U[Ne]=+!!Bn),De[at]=(De[at+1]<<1|1)&Bn,ze&&(De[at]|=(te[at+1]|te[at])<<1|1|te[at+1]),De[at]&qe&&(me=ae(V,{errors:ze,currentLocation:Ne,expectedLocation:Q,distance:oe,ignoreLocation:N}),me<=ue)){if(ue=me,le=Ne,le<=Q)break;$e=Math.max(1,2*Q-le)}}if(ae(V,{errors:ze+1,currentLocation:Q,expectedLocation:Q,distance:oe,ignoreLocation:N})>ue)break;te=De}const Le={isMatch:le>=0,score:Math.max(.001,me)};if(Y){const ze=we(U,ye);ze.length?be&&(Le.indices=ze):Le.isMatch=!1}return Le}function Oe(K){let V={};for(let X=0,J=K.length;X<J;X+=1){const oe=K.charAt(X);V[oe]=(V[oe]||0)|1<<J-X-1}return V}class rt{constructor(V,{location:X=j.location,threshold:J=j.threshold,distance:oe=j.distance,includeMatches:se=j.includeMatches,findAllMatches:ge=j.findAllMatches,minMatchCharLength:ye=j.minMatchCharLength,isCaseSensitive:be=j.isCaseSensitive,ignoreLocation:N=j.ignoreLocation}={}){if(this.options={location:X,threshold:J,distance:oe,includeMatches:se,findAllMatches:ge,minMatchCharLength:ye,isCaseSensitive:be,ignoreLocation:N},this.pattern=be?V:V.toLowerCase(),this.chunks=[],!this.pattern.length)return;const $=(Q,ue)=>{this.chunks.push({pattern:Q,alphabet:Oe(Q),startIndex:ue})},H=this.pattern.length;if(H>Se){let Q=0;const ue=H%Se,le=H-ue;for(;Q<le;)$(this.pattern.substr(Q,Se),Q),Q+=Se;if(ue){const Y=H-Se;$(this.pattern.substr(Y),Y)}}else $(this.pattern,0)}searchIn(V){const{isCaseSensitive:X,includeMatches:J}=this.options;if(X||(V=V.toLowerCase()),this.pattern===V){let le={isMatch:!0,score:0};return J&&(le.indices=[[0,V.length-1]]),le}const{location:oe,distance:se,threshold:ge,findAllMatches:ye,minMatchCharLength:be,ignoreLocation:N}=this.options;let $=[],H=0,Q=!1;this.chunks.forEach(({pattern:le,alphabet:Y,startIndex:U})=>{const{isMatch:q,score:te,indices:me}=Pe(V,le,Y,{location:oe+U,distance:se,threshold:ge,findAllMatches:ye,minMatchCharLength:be,includeMatches:J,ignoreLocation:N});q&&(Q=!0),H+=te,q&&me&&($=[...$,...me])});let ue={isMatch:Q,score:Q?H/this.chunks.length:1};return Q&&J&&(ue.indices=$),ue}}class nt{constructor(V){this.pattern=V}static isMultiMatch(V){return Dt(V,this.multiRegex)}static isSingleMatch(V){return Dt(V,this.singleRegex)}search(){}}function Dt(K,V){const X=K.match(V);return X?X[1]:null}class At extends nt{constructor(V){super(V)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(V){const X=V===this.pattern;return{isMatch:X,score:X?0:1,indices:[0,this.pattern.length-1]}}}class Tt extends nt{constructor(V){super(V)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(V){const J=V.indexOf(this.pattern)===-1;return{isMatch:J,score:J?0:1,indices:[0,V.length-1]}}}class Wn extends nt{constructor(V){super(V)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(V){const X=V.startsWith(this.pattern);return{isMatch:X,score:X?0:1,indices:[0,this.pattern.length-1]}}}class St extends nt{constructor(V){super(V)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(V){const X=!V.startsWith(this.pattern);return{isMatch:X,score:X?0:1,indices:[0,V.length-1]}}}class Ur extends nt{constructor(V){super(V)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(V){const X=V.endsWith(this.pattern);return{isMatch:X,score:X?0:1,indices:[V.length-this.pattern.length,V.length-1]}}}class Ar extends nt{constructor(V){super(V)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(V){const X=!V.endsWith(this.pattern);return{isMatch:X,score:X?0:1,indices:[0,V.length-1]}}}class It extends nt{constructor(V,{location:X=j.location,threshold:J=j.threshold,distance:oe=j.distance,includeMatches:se=j.includeMatches,findAllMatches:ge=j.findAllMatches,minMatchCharLength:ye=j.minMatchCharLength,isCaseSensitive:be=j.isCaseSensitive,ignoreLocation:N=j.ignoreLocation}={}){super(V),this._bitapSearch=new rt(V,{location:X,threshold:J,distance:oe,includeMatches:se,findAllMatches:ge,minMatchCharLength:ye,isCaseSensitive:be,ignoreLocation:N})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(V){return this._bitapSearch.searchIn(V)}}class Cn extends nt{constructor(V){super(V)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(V){let X=0,J;const oe=[],se=this.pattern.length;for(;(J=V.indexOf(this.pattern,X))>-1;)X=J+se,oe.push([J,X-1]);const ge=!!oe.length;return{isMatch:ge,score:ge?0:1,indices:oe}}}const ln=[At,Cn,Wn,St,Ar,Ur,Tt,It],tn=ln.length,Nn=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,On="|";function ar(K,V={}){return K.split(On).map(X=>{let J=X.trim().split(Nn).filter(se=>se&&!!se.trim()),oe=[];for(let se=0,ge=J.length;se<ge;se+=1){const ye=J[se];let be=!1,N=-1;for(;!be&&++N<tn;){const $=ln[N];let H=$.isMultiMatch(ye);H&&(oe.push(new $(H,V)),be=!0)}if(!be)for(N=-1;++N<tn;){const $=ln[N];let H=$.isSingleMatch(ye);if(H){oe.push(new $(H,V));break}}}return oe})}const lr=new Set([It.type,Cn.type]);class wn{constructor(V,{isCaseSensitive:X=j.isCaseSensitive,includeMatches:J=j.includeMatches,minMatchCharLength:oe=j.minMatchCharLength,ignoreLocation:se=j.ignoreLocation,findAllMatches:ge=j.findAllMatches,location:ye=j.location,threshold:be=j.threshold,distance:N=j.distance}={}){this.query=null,this.options={isCaseSensitive:X,includeMatches:J,minMatchCharLength:oe,findAllMatches:ge,ignoreLocation:se,location:ye,threshold:be,distance:N},this.pattern=X?V:V.toLowerCase(),this.query=ar(this.pattern,this.options)}static condition(V,X){return X.useExtendedSearch}searchIn(V){const X=this.query;if(!X)return{isMatch:!1,score:1};const{includeMatches:J,isCaseSensitive:oe}=this.options;V=oe?V:V.toLowerCase();let se=0,ge=[],ye=0;for(let be=0,N=X.length;be<N;be+=1){const $=X[be];ge.length=0,se=0;for(let H=0,Q=$.length;H<Q;H+=1){const ue=$[H],{isMatch:le,indices:Y,score:U}=ue.search(V);if(le){if(se+=1,ye+=U,J){const q=ue.constructor.type;lr.has(q)?ge=[...ge,...Y]:ge.push(Y)}}else{ye=0,se=0,ge.length=0;break}}if(se){let H={isMatch:!0,score:ye/se};return J&&(H.indices=ge),H}}return{isMatch:!1,score:1}}}const Fn=[];function un(...K){Fn.push(...K)}function cn(K,V){for(let X=0,J=Fn.length;X<J;X+=1){let oe=Fn[X];if(oe.condition(K,V))return new oe(K,V)}return new rt(K,V)}const dn={AND:"$and",OR:"$or"},Kt={PATH:"$path",PATTERN:"$val"},Xt=K=>!!(K[dn.AND]||K[dn.OR]),jr=K=>!!K[Kt.PATH],yt=K=>!u(K)&&v(K)&&!Xt(K),An=K=>({[dn.AND]:Object.keys(K).map(V=>({[V]:K[V]}))});function Tr(K,V,{auto:X=!0}={}){const J=oe=>{let se=Object.keys(oe);const ge=jr(oe);if(!ge&&se.length>1&&!Xt(oe))return J(An(oe));if(yt(oe)){const be=ge?oe[Kt.PATH]:se[0],N=ge?oe[Kt.PATTERN]:oe[be];if(!p(N))throw new Error(A(be));const $={keyId:x(be),pattern:N};return X&&($.searcher=cn(N,V)),$}let ye={children:[],operator:se[0]};return se.forEach(be=>{const N=oe[be];u(N)&&N.forEach($=>{ye.children.push(J($))})}),ye};return Xt(K)||(K=An(K)),J(K)}function xn(K,{ignoreFieldNorm:V=j.ignoreFieldNorm}){K.forEach(X=>{let J=1;X.matches.forEach(({key:oe,norm:se,score:ge})=>{const ye=oe?oe.weight:null;J*=Math.pow(ge===0&&ye?Number.EPSILON:ge,(ye||1)*(V?1:se))}),X.score=J})}function ur(K,V){const X=K.matches;V.matches=[],E(X)&&X.forEach(J=>{if(!E(J.indices)||!J.indices.length)return;const{indices:oe,value:se}=J;let ge={indices:oe,value:se};J.key&&(ge.key=J.key.src),J.idx>-1&&(ge.refIndex=J.idx),V.matches.push(ge)})}function Vr(K,V){V.score=K.score}function zn(K,V,{includeMatches:X=j.includeMatches,includeScore:J=j.includeScore}={}){const oe=[];return X&&oe.push(ur),J&&oe.push(Vr),K.map(se=>{const{idx:ge}=se,ye={item:V[ge],refIndex:ge};return oe.length&&oe.forEach(be=>{be(se,ye)}),ye})}class on{constructor(V,X={},J){this.options={...j,...X},this.options.useExtendedSearch,this._keyStore=new D(this.options.keys),this.setCollection(V,J)}setCollection(V,X){if(this._docs=V,X&&!(X instanceof ie))throw new Error(w);this._myIndex=X||de(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(V){!E(V)||(this._docs.push(V),this._myIndex.add(V))}remove(V=()=>!1){const X=[];for(let J=0,oe=this._docs.length;J<oe;J+=1){const se=this._docs[J];V(se,J)&&(this.removeAt(J),J-=1,oe-=1,X.push(se))}return X}removeAt(V){this._docs.splice(V,1),this._myIndex.removeAt(V)}getIndex(){return this._myIndex}search(V,{limit:X=-1}={}){const{includeMatches:J,includeScore:oe,shouldSort:se,sortFn:ge,ignoreFieldNorm:ye}=this.options;let be=p(V)?p(this._docs[0])?this._searchStringList(V):this._searchObjectList(V):this._searchLogical(V);return xn(be,{ignoreFieldNorm:ye}),se&&be.sort(ge),g(X)&&X>-1&&(be=be.slice(0,X)),zn(be,this._docs,{includeMatches:J,includeScore:oe})}_searchStringList(V){const X=cn(V,this.options),{records:J}=this._myIndex,oe=[];return J.forEach(({v:se,i:ge,n:ye})=>{if(!E(se))return;const{isMatch:be,score:N,indices:$}=X.searchIn(se);be&&oe.push({item:se,idx:ge,matches:[{score:N,value:se,norm:ye,indices:$}]})}),oe}_searchLogical(V){const X=Tr(V,this.options),J=(ye,be,N)=>{if(!ye.children){const{keyId:H,searcher:Q}=ye,ue=this._findMatches({key:this._keyStore.get(H),value:this._myIndex.getValueForItemAtKeyId(be,H),searcher:Q});return ue&&ue.length?[{idx:N,item:be,matches:ue}]:[]}const $=[];for(let H=0,Q=ye.children.length;H<Q;H+=1){const ue=ye.children[H],le=J(ue,be,N);if(le.length)$.push(...le);else if(ye.operator===dn.AND)return[]}return $},oe=this._myIndex.records,se={},ge=[];return oe.forEach(({$:ye,i:be})=>{if(E(ye)){let N=J(X,ye,be);N.length&&(se[be]||(se[be]={idx:be,item:ye,matches:[]},ge.push(se[be])),N.forEach(({matches:$})=>{se[be].matches.push(...$)}))}}),ge}_searchObjectList(V){const X=cn(V,this.options),{keys:J,records:oe}=this._myIndex,se=[];return oe.forEach(({$:ge,i:ye})=>{if(!E(ge))return;let be=[];J.forEach((N,$)=>{be.push(...this._findMatches({key:N,value:ge[$],searcher:X}))}),be.length&&se.push({idx:ye,item:ge,matches:be})}),se}_findMatches({key:V,value:X,searcher:J}){if(!E(X))return[];let oe=[];if(u(X))X.forEach(({v:se,i:ge,n:ye})=>{if(!E(se))return;const{isMatch:be,score:N,indices:$}=J.searchIn(se);be&&oe.push({score:N,key:V,value:se,idx:ge,norm:ye,indices:$})});else{const{v:se,n:ge}=X,{isMatch:ye,score:be,indices:N}=J.searchIn(se);ye&&oe.push({score:be,key:V,value:se,norm:ge,indices:N})}return oe}}on.version="6.5.3",on.createIndex=de,on.parseIndex=_e,on.config=j,on.parseQuery=Tr,un(wn)},857:function(s,a,l){l.r(a),l.d(a,{__DO_NOT_USE__ActionTypes:function(){return h},applyMiddleware:function(){return _},bindActionCreators:function(){return w},combineReducers:function(){return m},compose:function(){return A},createStore:function(){return y}});function u(T,C,L){return C in T?Object.defineProperty(T,C,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[C]=L,T}function c(T,C){var L=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);C&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(T,O).enumerable})),L.push.apply(L,D)}return L}function f(T){for(var C=1;C<arguments.length;C++){var L=arguments[C]!=null?arguments[C]:{};C%2?c(Object(L),!0).forEach(function(D){u(T,D,L[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(L)):c(Object(L)).forEach(function(D){Object.defineProperty(T,D,Object.getOwnPropertyDescriptor(L,D))})}return T}function d(T){return"Minified Redux error #"+T+"; visit https://redux.js.org/Errors?code="+T+" for the full message or use the non-minified dev environment for full errors. "}var p=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),g=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+g(),REPLACE:"@@redux/REPLACE"+g(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+g()}};function v(T){if(typeof T!="object"||T===null)return!1;for(var C=T;Object.getPrototypeOf(C)!==null;)C=Object.getPrototypeOf(C);return Object.getPrototypeOf(T)===C}function y(T,C,L){var D;if(typeof C=="function"&&typeof L=="function"||typeof L=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof C=="function"&&typeof L>"u"&&(L=C,C=void 0),typeof L<"u"){if(typeof L!="function")throw new Error(d(1));return L(y)(T,C)}if(typeof T!="function")throw new Error(d(2));var O=T,S=C,x=[],R=x,I=!1;function k(){R===x&&(R=x.slice())}function M(){if(I)throw new Error(d(3));return S}function F(ie){if(typeof ie!="function")throw new Error(d(4));if(I)throw new Error(d(5));var de=!0;return k(),R.push(ie),function(){if(!!de){if(I)throw new Error(d(6));de=!1,k();var ae=R.indexOf(ie);R.splice(ae,1),x=null}}}function j(ie){if(!v(ie))throw new Error(d(7));if(typeof ie.type>"u")throw new Error(d(8));if(I)throw new Error(d(9));try{I=!0,S=O(S,ie)}finally{I=!1}for(var de=x=R,_e=0;_e<de.length;_e++){var ae=de[_e];ae()}return ie}function z(ie){if(typeof ie!="function")throw new Error(d(10));O=ie,j({type:h.REPLACE})}function ce(){var ie,de=F;return ie={subscribe:function(ae){if(typeof ae!="object"||ae===null)throw new Error(d(11));function we(){ae.next&&ae.next(M())}we();var Se=de(we);return{unsubscribe:Se}}},ie[p]=function(){return this},ie}return j({type:h.INIT}),D={dispatch:j,subscribe:F,getState:M,replaceReducer:z},D[p]=ce,D}function E(T){Object.keys(T).forEach(function(C){var L=T[C],D=L(void 0,{type:h.INIT});if(typeof D>"u")throw new Error(d(12));if(typeof L(void 0,{type:h.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function m(T){for(var C=Object.keys(T),L={},D=0;D<C.length;D++){var O=C[D];typeof T[O]=="function"&&(L[O]=T[O])}var S=Object.keys(L),x;try{E(L)}catch(R){x=R}return function(I,k){if(I===void 0&&(I={}),x)throw x;for(var M=!1,F={},j=0;j<S.length;j++){var z=S[j],ce=L[z],ie=I[z],de=ce(ie,k);if(typeof de>"u")throw k&&k.type,new Error(d(14));F[z]=de,M=M||de!==ie}return M=M||S.length!==Object.keys(I).length,M?F:I}}function b(T,C){return function(){return C(T.apply(this,arguments))}}function w(T,C){if(typeof T=="function")return b(T,C);if(typeof T!="object"||T===null)throw new Error(d(16));var L={};for(var D in T){var O=T[D];typeof O=="function"&&(L[D]=b(O,C))}return L}function A(){for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return C.length===0?function(D){return D}:C.length===1?C[0]:C.reduce(function(D,O){return function(){return D(O.apply(void 0,arguments))}})}function _(){for(var T=arguments.length,C=new Array(T),L=0;L<T;L++)C[L]=arguments[L];return function(D){return function(){var O=D.apply(void 0,arguments),S=function(){throw new Error(d(15))},x={getState:O.getState,dispatch:function(){return S.apply(void 0,arguments)}},R=C.map(function(I){return I(x)});return S=A.apply(void 0,R)(O.dispatch),f(f({},O),{},{dispatch:S})}}}}},r={};function i(s){var a=r[s];if(a!==void 0)return a.exports;var l=r[s]={exports:{}};return n[s].call(l.exports,l,l.exports,i),l.exports}(function(){i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,{a}),a}})(),function(){i.d=function(s,a){for(var l in a)i.o(a,l)&&!i.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})}}(),function(){i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),function(){i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}}();var o={};return function(){var s=i(373),a=i.n(s);i(187),i(883),i(789),i(686),o.default=a()}(),o=o.default,o}()})}),ho=(e,t=0,n=1)=>e>n?n:e<t?t:e,mn=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,Ky={grad:360/400,turn:360,rad:360/(Math.PI*2)},Xy=e=>fp(Ql(e)),Ql=e=>(e[0]==="#"&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}),Zy=(e,t="deg")=>Number(e)*(Ky[t]||1),Jy=e=>{const n=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return n?eb({h:Zy(n[1],n[2]),s:Number(n[3]),l:Number(n[4]),a:n[5]===void 0?1:Number(n[5])/(n[6]?100:1)}):{h:0,s:0,v:0,a:1}},Qy=Jy,eb=({h:e,s:t,l:n,a:r})=>(t*=(n<50?n:100-n)/100,{h:e,s:t>0?2*t/(n+t)*100:0,v:n+t,a:r}),tb=e=>ob(Ku(e)),cp=({h:e,s:t,v:n,a:r})=>{const i=(200-t)*n/100;return{h:mn(e),s:mn(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:mn(i/2),a:mn(r,2)}},oa=e=>{const{h:t,s:n,l:r}=cp(e);return`hsl(${t}, ${n}%, ${r}%)`},al=e=>{const{h:t,s:n,l:r,a:i}=cp(e);return`hsla(${t}, ${n}%, ${r}%, ${i})`},Ku=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t=t/100,n=n/100;const i=Math.floor(e),o=n*(1-t),s=n*(1-(e-i)*t),a=n*(1-(1-e+i)*t),l=i%6;return{r:mn([n,s,o,o,a,n][l]*255),g:mn([a,n,n,s,o,o][l]*255),b:mn([o,o,a,n,n,s][l]*255),a:mn(r,2)}},nb=e=>{const{r:t,g:n,b:r}=Ku(e);return`rgb(${t}, ${n}, ${r})`},rb=e=>{const{r:t,g:n,b:r,a:i}=Ku(e);return`rgba(${t}, ${n}, ${r}, ${i})`},dp=e=>{const n=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return n?fp({r:Number(n[1])/(n[2]?100/255:1),g:Number(n[3])/(n[4]?100/255:1),b:Number(n[5])/(n[6]?100/255:1),a:n[7]===void 0?1:Number(n[7])/(n[8]?100:1)}):{h:0,s:0,v:0,a:1}},ib=dp,ll=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},ob=({r:e,g:t,b:n})=>"#"+ll(e)+ll(t)+ll(n),fp=({r:e,g:t,b:n,a:r})=>{const i=Math.max(e,t,n),o=i-Math.min(e,t,n),s=o?i===e?(t-n)/o:i===t?2+(n-e)/o:4+(e-t)/o:0;return{h:mn(60*(s<0?s+6:s)),s:mn(i?o/i*100:0),v:mn(i/255*100),a:r}},hp=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},Xu=(e,t)=>e.replace(/\s/g,"")===t.replace(/\s/g,""),sb=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:hp(Ql(e),Ql(t)),Uc={},pp=e=>{let t=Uc[e];return t||(t=document.createElement("template"),t.innerHTML=e,Uc[e]=t),t},Zu=(e,t,n)=>{e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))},io=!1,eu=e=>"touches"in e,ab=e=>io&&!eu(e)?!1:(io||(io=eu(e)),!0),jc=(e,t)=>{const n=eu(t)?t.touches[0]:t,r=e.el.getBoundingClientRect();Zu(e.el,"move",e.getMove({x:ho((n.pageX-(r.left+window.pageXOffset))/r.width),y:ho((n.pageY-(r.top+window.pageYOffset))/r.height)}))},lb=(e,t)=>{const n=t.keyCode;n>40||e.xy&&n<37||n<33||(t.preventDefault(),Zu(e.el,"move",e.getMove({x:n===39?.01:n===37?-.01:n===34?.05:n===33?-.05:n===35?1:n===36?-1:0,y:n===40?.01:n===38?-.01:0},!0)))},Ju=class{constructor(e,t,n,r){const i=pp(`<div role="slider" tabindex="0" part="${t}" ${n}><div part="${t}-pointer"></div></div>`);e.appendChild(i.content.cloneNode(!0));const o=e.querySelector(`[part=${t}]`);o.addEventListener("mousedown",this),o.addEventListener("touchstart",this),o.addEventListener("keydown",this),this.el=o,this.xy=r,this.nodes=[o.firstChild,o]}set dragging(e){const t=e?document.addEventListener:document.removeEventListener;t(io?"touchmove":"mousemove",this),t(io?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!ab(e)||!io&&e.button!=0)return;this.el.focus(),jc(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),jc(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":lb(this,e);break}}style(e){e.forEach((t,n)=>{for(const r in t)this.nodes[n].style.setProperty(r,t[r])})}},ub=class extends Ju{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:`${e/360*100}%`,color:oa({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${mn(e)}`)}getMove(e,t){return{h:t?ho(this.h+e.x*360,0,360):360*e.x}}},cb=class extends Ju{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:`${100-e.v}%`,left:`${e.s}%`,color:oa(e)},{"background-color":oa({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${mn(e.s)}%, Brightness ${mn(e.v)}%`)}getMove(e,t){return{s:t?ho(this.hsva.s+e.x*100,0,100):e.x*100,v:t?ho(this.hsva.v-e.y*100,0,100):Math.round(100-e.y*100)}}},db=":host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{display:block;content:'';position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}",fb="[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}",hb="[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}",_s=Symbol("same"),Vc=Symbol("color"),Gc=Symbol("hsva"),ul=Symbol("change"),cl=Symbol("update"),Hc=Symbol("parts"),sa=Symbol("css"),aa=Symbol("sliders"),Ga=class extends HTMLElement{static get observedAttributes(){return["color"]}get[sa](){return[db,fb,hb]}get[aa](){return[cb,ub]}get color(){return this[Vc]}set color(e){if(!this[_s](e)){const t=this.colorModel.toHsva(e);this[cl](t),this[ul](e)}}constructor(){super();const e=pp(`<style>${this[sa].join("")}</style>`),t=this.attachShadow({mode:"open"});t.appendChild(e.content.cloneNode(!0)),t.addEventListener("move",this),this[Hc]=this[aa].map(n=>new n(t))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,t,n){const r=this.colorModel.fromAttr(n);this[_s](r)||(this.color=r)}handleEvent(e){const t=this[Gc],n={...t,...e.detail};this[cl](n);let r;!hp(n,t)&&!this[_s](r=this.colorModel.fromHsva(n))&&this[ul](r)}[_s](e){return this.color&&this.colorModel.equal(e,this.color)}[cl](e){this[Gc]=e,this[Hc].forEach(t=>t.update(e))}[ul](e){this[Vc]=e,Zu(this,"color-changed",{value:e})}},pb={defaultColor:"#000",toHsva:Xy,fromHsva:tb,equal:sb,fromAttr:e=>e},gb=class extends Ga{get colorModel(){return pb}},mb=class extends gb{};customElements.define("hex-color-picker",mb);var vb={defaultColor:"hsl(0, 0%, 0%)",toHsva:Qy,fromHsva:oa,equal:Xu,fromAttr:e=>e},yb=class extends Ga{get colorModel(){return vb}},bb=class extends yb{};customElements.define("hsl-string-color-picker",bb);var Eb={defaultColor:"rgb(0, 0, 0)",toHsva:ib,fromHsva:nb,equal:Xu,fromAttr:e=>e},_b=class extends Ga{get colorModel(){return Eb}},wb=class extends _b{};customElements.define("rgb-string-color-picker",wb);var Ab=class extends Ju{constructor(e){super(e,"alpha",'aria-label="Alpha" aria-valuemin="0" aria-valuemax="1"',!1)}update(e){this.hsva=e;const t=al({...e,a:0}),n=al({...e,a:1}),r=e.a*100;this.style([{left:`${r}%`,color:al(e)},{"--gradient":`linear-gradient(90deg, ${t}, ${n}`}]);const i=mn(r);this.el.setAttribute("aria-valuenow",`${i}`),this.el.setAttribute("aria-valuetext",`${i}%`)}getMove(e,t){return{a:t?ho(this.hsva.a+e.x):e.x}}},Tb=`[part=alpha]{flex:0 0 24px}[part=alpha]::after{display:block;content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;background-image:var(--gradient);box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part^=alpha]{background-color:#fff;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>')}[part=alpha-pointer]{top:50%}`,Sb=class extends Ga{get[sa](){return[...super[sa],Tb]}get[aa](){return[...super[aa],Ab]}},Ib={defaultColor:"rgba(0, 0, 0, 1)",toHsva:dp,fromHsva:rb,equal:Xu,fromAttr:e=>e},Cb=class extends Sb{get colorModel(){return Ib}},Ob=class extends Cb{};customElements.define("rgba-string-color-picker",Ob);var gp=60,mp=gp*60,vp=mp*24,xb=vp*7,po=1e3,dl=gp*po,Wc=mp*po,Rb=vp*po,Db=xb*po,Qu="millisecond",qi="second",Ki="minute",Xi="hour",Jr="day",js="week",Jn="month",yp="quarter",Qr="year",Zi="date",Lb="YYYY-MM-DDTHH:mm:ssZ",zc="Invalid Date",kb=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Mb=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Pb={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},tu=function(t,n,r){var i=String(t);return!i||i.length>=n?t:""+Array(n+1-i.length).join(r)+t},Nb=function(t){var n=-t.utcOffset(),r=Math.abs(n),i=Math.floor(r/60),o=r%60;return(n<=0?"+":"-")+tu(i,2,"0")+":"+tu(o,2,"0")},Fb=function e(t,n){if(t.date()<n.date())return-e(n,t);var r=(n.year()-t.year())*12+(n.month()-t.month()),i=t.clone().add(r,Jn),o=n-i<0,s=t.clone().add(r+(o?-1:1),Jn);return+(-(r+(n-i)/(o?i-s:s-i))||0)},Bb=function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},$b=function(t){var n={M:Jn,y:Qr,w:js,d:Jr,D:Zi,h:Xi,m:Ki,s:qi,ms:Qu,Q:yp};return n[t]||String(t||"").toLowerCase().replace(/s$/,"")},Ub=function(t){return t===void 0},jb={s:tu,z:Nb,m:Fb,a:Bb,p:$b,u:Ub},zo="en",Li={};Li[zo]=Pb;var ec=function(t){return t instanceof Ha},la=function e(t,n,r){var i;if(!t)return zo;if(typeof t=="string"){var o=t.toLowerCase();Li[o]&&(i=o),n&&(Li[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;Li[a]=t,i=a}return!r&&i&&(zo=i),i||!r&&zo},Jt=function(t,n){if(ec(t))return t.clone();var r=typeof n=="object"?n:{};return r.date=t,r.args=arguments,new Ha(r)},Vb=function(t,n){return Jt(t,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},pt=jb;pt.l=la;pt.i=ec;pt.w=Vb;var Gb=function(t){var n=t.date,r=t.utc;if(n===null)return new Date(NaN);if(pt.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var i=n.match(kb);if(i){var o=i[2]-1||0,s=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(n)},Ha=function(){function e(n){this.$L=la(n.locale,null,!0),this.parse(n)}var t=e.prototype;return t.parse=function(r){this.$d=Gb(r),this.$x=r.x||{},this.init()},t.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},t.$utils=function(){return pt},t.isValid=function(){return this.$d.toString()!==zc},t.isSame=function(r,i){var o=Jt(r);return this.startOf(i)<=o&&o<=this.endOf(i)},t.isAfter=function(r,i){return Jt(r)<this.startOf(i)},t.isBefore=function(r,i){return this.endOf(i)<Jt(r)},t.$g=function(r,i,o){return pt.u(r)?this[i]:this.set(o,r)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(r,i){var o=this,s=pt.u(i)?!0:i,a=pt.p(r),l=function(y,E){var m=pt.w(o.$u?Date.UTC(o.$y,E,y):new Date(o.$y,E,y),o);return s?m:m.endOf(Jr)},u=function(y,E){var m=[0,0,0,0],b=[23,59,59,999];return pt.w(o.toDate()[y].apply(o.toDate("s"),(s?m:b).slice(E)),o)},c=this.$W,f=this.$M,d=this.$D,p="set"+(this.$u?"UTC":"");switch(a){case Qr:return s?l(1,0):l(31,11);case Jn:return s?l(1,f):l(0,f+1);case js:{var g=this.$locale().weekStart||0,h=(c<g?c+7:c)-g;return l(s?d-h:d+(6-h),f)}case Jr:case Zi:return u(p+"Hours",0);case Xi:return u(p+"Minutes",1);case Ki:return u(p+"Seconds",2);case qi:return u(p+"Milliseconds",3);default:return this.clone()}},t.endOf=function(r){return this.startOf(r,!1)},t.$set=function(r,i){var o,s=pt.p(r),a="set"+(this.$u?"UTC":""),l=(o={},o[Jr]=a+"Date",o[Zi]=a+"Date",o[Jn]=a+"Month",o[Qr]=a+"FullYear",o[Xi]=a+"Hours",o[Ki]=a+"Minutes",o[qi]=a+"Seconds",o[Qu]=a+"Milliseconds",o)[s],u=s===Jr?this.$D+(i-this.$W):i;if(s===Jn||s===Qr){var c=this.clone().set(Zi,1);c.$d[l](u),c.init(),this.$d=c.set(Zi,Math.min(this.$D,c.daysInMonth())).$d}else l&&this.$d[l](u);return this.init(),this},t.set=function(r,i){return this.clone().$set(r,i)},t.get=function(r){return this[pt.p(r)]()},t.add=function(r,i){var o=this,s;r=Number(r);var a=pt.p(i),l=function(d){var p=Jt(o);return pt.w(p.date(p.date()+Math.round(d*r)),o)};if(a===Jn)return this.set(Jn,this.$M+r);if(a===Qr)return this.set(Qr,this.$y+r);if(a===Jr)return l(1);if(a===js)return l(7);var u=(s={},s[Ki]=dl,s[Xi]=Wc,s[qi]=po,s)[a]||1,c=this.$d.getTime()+r*u;return pt.w(c,this)},t.subtract=function(r,i){return this.add(r*-1,i)},t.format=function(r){var i=this,o=this.$locale();if(!this.isValid())return o.invalidDate||zc;var s=r||Lb,a=pt.z(this),l=this.$H,u=this.$m,c=this.$M,f=o.weekdays,d=o.months,p=o.meridiem,g=function(m,b,w,A){return m&&(m[b]||m(i,s))||w[b].slice(0,A)},h=function(m){return pt.s(l%12||12,m,"0")},v=p||function(E,m,b){var w=E<12?"AM":"PM";return b?w.toLowerCase():w},y={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:pt.s(c+1,2,"0"),MMM:g(o.monthsShort,c,d,3),MMMM:g(d,c),D:this.$D,DD:pt.s(this.$D,2,"0"),d:String(this.$W),dd:g(o.weekdaysMin,this.$W,f,2),ddd:g(o.weekdaysShort,this.$W,f,3),dddd:f[this.$W],H:String(l),HH:pt.s(l,2,"0"),h:h(1),hh:h(2),a:v(l,u,!0),A:v(l,u,!1),m:String(u),mm:pt.s(u,2,"0"),s:String(this.$s),ss:pt.s(this.$s,2,"0"),SSS:pt.s(this.$ms,3,"0"),Z:a};return s.replace(Mb,function(E,m){return m||y[E]||a.replace(":","")})},t.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},t.diff=function(r,i,o){var s,a=pt.p(i),l=Jt(r),u=(l.utcOffset()-this.utcOffset())*dl,c=this-l,f=pt.m(this,l);return f=(s={},s[Qr]=f/12,s[Jn]=f,s[yp]=f/3,s[js]=(c-u)/Db,s[Jr]=(c-u)/Rb,s[Xi]=c/Wc,s[Ki]=c/dl,s[qi]=c/po,s)[a]||c,o?f:pt.a(f)},t.daysInMonth=function(){return this.endOf(Jn).$D},t.$locale=function(){return Li[this.$L]},t.locale=function(r,i){if(!r)return this.$L;var o=this.clone(),s=la(r,i,!0);return s&&(o.$L=s),o},t.clone=function(){return pt.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}(),bp=Ha.prototype;Jt.prototype=bp;[["$ms",Qu],["$s",qi],["$m",Ki],["$H",Xi],["$W",Jr],["$M",Jn],["$y",Qr],["$D",Zi]].forEach(function(e){bp[e[1]]=function(t){return this.$g(t,e[0],e[1])}});Jt.extend=function(e,t){return e.$i||(e(t,Ha,Jt),e.$i=!0),Jt};Jt.locale=la;Jt.isDayjs=ec;Jt.unix=function(e){return Jt(e*1e3)};Jt.en=Li[zo];Jt.Ls=Li;Jt.p={};var gt=Jt,Hb=e=>{e.data("colorPickerFormComponent",({isAutofocused:t,isDisabled:n,state:r})=>({state:r,init:function(){this.state===null||this.state===""||this.setState(this.state),t&&this.togglePanelVisibility(this.$refs.input),this.$refs.input.addEventListener("change",i=>{this.setState(i.target.value)}),this.$refs.panel.addEventListener("color-changed",i=>{this.setState(i.detail.value)})},togglePanelVisibility:function(){n||this.$refs.panel.toggle(this.$refs.input)},setState:function(i){this.state=i,this.$refs.input.value=i,this.$refs.panel.color=i}}))},Wb=Ao(Gy()),zb=Ao(Hy()),Yb=Ao(Wy()),qb=Ao(zy());gt.extend(Wb.default);gt.extend(zb.default);gt.extend(Yb.default);gt.extend(qb.default);gt.extend((e,t,n)=>{const r=[];n.addLocaleListeners=i=>r.push(i),n.onLocaleUpdated=()=>{r.forEach(i=>i())},n.updateLocale=i=>{n.locale(i),n.onLocaleUpdated()}});window.dayjs=gt;var Kb=e=>{e.data("dateTimePickerFormComponent",({displayFormat:t,firstDayOfWeek:n,isAutofocused:r,isDisabled:i,shouldCloseOnDateSelection:o,state:s})=>{const a=gt.tz.guess();return{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,isClearingState:!1,minute:null,second:null,state:s,dayLabels:[],months:[],init:function(){var u,c,f,d;this.focusedDate=gt().tz(a);let l=(u=this.getSelectedDate())!=null?u:gt().tz(a).hour(0).minute(0).second(0);(this.getMaxDate()!==null&&l.isAfter(this.getMaxDate())||this.getMinDate()!==null&&l.isBefore(this.getMinDate()))&&(l=null),this.hour=(c=l==null?void 0:l.hour())!=null?c:0,this.minute=(f=l==null?void 0:l.minute())!=null?f:0,this.second=(d=l==null?void 0:l.second())!=null?d:0,this.setDisplayText(),this.setMonths(),this.setDayLabels(),r&&this.$nextTick(()=>this.togglePanelVisibility(this.$refs.button)),gt.addLocaleListeners(()=>{this.setDisplayText(),this.setMonths(),this.setDayLabels()}),this.$watch("focusedMonth",()=>{this.focusedMonth=+this.focusedMonth,this.focusedDate.month()!==this.focusedMonth&&(this.focusedDate=this.focusedDate.month(this.focusedMonth))}),this.$watch("focusedYear",()=>{var g,h;if(((g=this.focusedYear)==null?void 0:g.length)>4&&(this.focusedYear=this.focusedYear.substring(0,4)),!this.focusedYear||((h=this.focusedYear)==null?void 0:h.length)!==4)return;let p=+this.focusedYear;Number.isInteger(p)||(p=gt().tz(a).year(),this.focusedYear=p),this.focusedDate.year()!==p&&(this.focusedDate=this.focusedDate.year(p))}),this.$watch("focusedDate",()=>{let p=this.focusedDate.month(),g=this.focusedDate.year();this.focusedMonth!==p&&(this.focusedMonth=p),this.focusedYear!==g&&(this.focusedYear=g),this.setupDaysGrid()}),this.$watch("hour",()=>{var h,v;let p=+this.hour;if(Number.isInteger(p)?p>23?this.hour=0:p<0?this.hour=23:this.hour=p:this.hour=0,this.isClearingState)return;let g=(h=this.getSelectedDate())!=null?h:this.focusedDate;this.setState(g.hour((v=this.hour)!=null?v:0))}),this.$watch("minute",()=>{var h,v;let p=+this.minute;if(Number.isInteger(p)?p>59?this.minute=0:p<0?this.minute=59:this.minute=p:this.minute=0,this.isClearingState)return;let g=(h=this.getSelectedDate())!=null?h:this.focusedDate;this.setState(g.minute((v=this.minute)!=null?v:0))}),this.$watch("second",()=>{var h,v;let p=+this.second;if(Number.isInteger(p)?p>59?this.second=0:p<0?this.second=59:this.second=p:this.second=0,this.isClearingState)return;let g=(h=this.getSelectedDate())!=null?h:this.focusedDate;this.setState(g.second((v=this.second)!=null?v:0))}),this.$watch("state",()=>{var y,E,m;if(this.state===void 0)return;let p=this.getSelectedDate();this.getMaxDate()!==null&&(p==null?void 0:p.isAfter(this.getMaxDate()))&&(p=null),this.getMinDate()!==null&&(p==null?void 0:p.isBefore(this.getMinDate()))&&(p=null);const g=(y=p==null?void 0:p.hour())!=null?y:0;this.hour!==g&&(this.hour=g);const h=(E=p==null?void 0:p.minute())!=null?E:0;this.minute!==h&&(this.minute=h);const v=(m=p==null?void 0:p.second())!=null?m:0;this.second!==v&&(this.second=v),this.setDisplayText()})},clearState:function(){this.isClearingState=!0,this.setState(null),this.$nextTick(()=>this.isClearingState=!1)},dateIsDisabled:function(l){return!!(this.getMaxDate()&&l.isAfter(this.getMaxDate())||this.getMinDate()&&l.isBefore(this.getMinDate()))},dayIsDisabled:function(l){var u;return(u=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.dateIsDisabled(this.focusedDate.date(l))},dayIsSelected:function(l){var c;let u=this.getSelectedDate();return u===null?!1:((c=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),u.date()===l&&u.month()===this.focusedDate.month()&&u.year()===this.focusedDate.year())},dayIsToday:function(l){var c;let u=gt().tz(a);return(c=this.focusedDate)!=null||(this.focusedDate=u),u.date()===l&&u.month()===this.focusedDate.month()&&u.year()===this.focusedDate.year()},focusPreviousDay:function(){var l;(l=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"day")},focusPreviousWeek:function(){var l;(l=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.focusedDate=this.focusedDate.subtract(1,"week")},focusNextDay:function(){var l;(l=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.focusedDate=this.focusedDate.add(1,"day")},focusNextWeek:function(){var l;(l=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.focusedDate=this.focusedDate.add(1,"week")},getDayLabels:function(){const l=gt.weekdaysShort();return n===0?l:[...l.slice(n),...l.slice(0,n)]},getMaxDate:function(){var u;let l=gt((u=this.$refs.maxDate)==null?void 0:u.value);return l.isValid()?l:null},getMinDate:function(){var u;let l=gt((u=this.$refs.minDate)==null?void 0:u.value);return l.isValid()?l:null},getSelectedDate:function(){if(this.state===void 0)return null;let l=gt(this.state);return l.isValid()?l:null},togglePanelVisibility:function(){var l,u;i||(this.isOpen()||(this.focusedDate=(u=(l=this.getSelectedDate())!=null?l:this.getMinDate())!=null?u:gt().tz(a),this.setupDaysGrid()),this.$refs.panel.toggle(this.$refs.button))},selectDate:function(l=null){var u;l&&this.setFocusedDay(l),(u=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.setState(this.focusedDate),o&&this.togglePanelVisibility()},setDisplayText:function(){this.displayText=this.getSelectedDate()?this.getSelectedDate().format(t):""},setMonths:function(){this.months=gt.months()},setDayLabels:function(){this.dayLabels=this.getDayLabels()},setupDaysGrid:function(){var l;(l=this.focusedDate)!=null||(this.focusedDate=gt().tz(a)),this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.date(8-n).day()},(u,c)=>c+1),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(u,c)=>c+1)},setFocusedDay:function(l){var u;this.focusedDate=((u=this.focusedDate)!=null?u:gt().tz(a)).date(l)},setState:function(l){var u,c,f;if(l===null){this.state=null,this.setDisplayText();return}this.dateIsDisabled(l)||(this.state=l.hour((u=this.hour)!=null?u:0).minute((c=this.minute)!=null?c:0).second((f=this.second)!=null?f:0).format("YYYY-MM-DD HH:mm:ss"),this.setDisplayText())},isOpen:function(){return this.$refs.panel.style.display==="block"}}})},Ep={};jy(Ep,{FileOrigin:()=>ha,FileStatus:()=>ug,OptionTypes:()=>du,Status:()=>lg,create:()=>qo,destroy:()=>Gs,find:()=>hu,getOptions:()=>pu,parse:()=>fu,registerPlugin:()=>rr,setOptions:()=>gu,supported:()=>cu});/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Xb=e=>e instanceof HTMLElement,Zb=(e,t=[],n=[])=>{const r={...e},i=[],o=[],s=()=>({...r}),a=()=>{const g=[...i];return i.length=0,g},l=()=>{const g=[...o];o.length=0,g.forEach(({type:h,data:v})=>{u(h,v)})},u=(g,h,v)=>{if(v&&!document.hidden){o.push({type:g,data:h});return}p[g]&&p[g](h),i.push({type:g,data:h})},c=(g,...h)=>d[g]?d[g](...h):null,f={getState:s,processActionQueue:a,processDispatchQueue:l,dispatch:u,query:c};let d={};t.forEach(g=>{d={...g(r),...d}});let p={};return n.forEach(g=>{p={...g(u,c,r),...p}}),f},Jb=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},Pt=(e,t)=>{for(const n in e)!e.hasOwnProperty(n)||t(n,e[n])},si=e=>{const t={};return Pt(e,n=>{Jb(t,n,e[n])}),t},Ut=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},Qb="http://www.w3.org/2000/svg",eE=["svg","path"],Yc=e=>eE.includes(e),ua=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=Yc(e)?document.createElementNS(Qb,e):document.createElement(e);return t&&(Yc(e)?Ut(r,"class",t):r.className=t),Pt(n,(i,o)=>{Ut(r,i,o)}),r},tE=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},nE=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),rE=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),iE=(()=>typeof window<"u"&&typeof window.document<"u")(),_p=()=>iE,oE=_p()?ua("svg"):{},sE="children"in oE?e=>e.children.length:e=>e.childNodes.length,wp=(e,t,n,r)=>{const i=n[0]||e.left,o=n[1]||e.top,s=i+e.width,a=o+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:i,top:o,right:s,bottom:a}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{qc(l.inner,{...u.inner}),qc(l.outer,{...u.outer})}),Kc(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Kc(l.outer),l},qc=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Kc=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Ii=e=>typeof e=="number",aE=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,lE=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,i=null,o=0,s=!1;const u=si({interpolate:(c,f)=>{if(s)return;if(!(Ii(r)&&Ii(i))){s=!0,o=0;return}o+=-(i-r)*e/n,i+=o,o*=t,aE(i,r,o)||f?(i=r,o=0,s=!0,u.onupdate(i),u.oncomplete(i)):u.onupdate(i)},target:{set:c=>{if(Ii(c)&&!Ii(i)&&(i=c),r===null&&(r=c,i=c),r=c,i===r||typeof r>"u"){s=!0,o=0,u.onupdate(i),u.oncomplete(i);return}s=!1},get:()=>r},resting:{get:()=>s},onupdate:c=>{},oncomplete:c=>{}});return u},uE=e=>e<.5?2*e*e:-1+(4-2*e)*e,cE=({duration:e=500,easing:t=uE,delay:n=0}={})=>{let r=null,i,o,s=!0,a=!1,l=null;const c=si({interpolate:(f,d)=>{s||l===null||(r===null&&(r=f),!(f-r<n)&&(i=f-r-n,i>=e||d?(i=1,o=a?0:1,c.onupdate(o*l),c.oncomplete(o*l),s=!0):(o=i/e,c.onupdate((i>=0?t(a?1-o:o):0)*l))))},target:{get:()=>a?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,a=!0):(a=!1,l=f),s=!1,r=null}},resting:{get:()=>s},onupdate:f=>{},oncomplete:f=>{}});return c},Xc={spring:lE,tween:cE},dE=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,i=typeof r=="string"?r:r.type,o=typeof r=="object"?{...r}:{};return Xc[i]?Xc[i](o):null},tc=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(i=>{e.forEach(o=>{let s=o,a=()=>n[o],l=u=>n[o]=u;typeof o=="object"&&(s=o.key,a=o.getter||a,l=o.setter||l),!(i[s]&&!r)&&(i[s]={get:a,set:l})})})},fE=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const i={...t},o=[];return Pt(e,(s,a)=>{const l=dE(a);if(!l)return;l.onupdate=c=>{t[s]=c},l.target=i[s],tc([{key:s,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[s]}],[n,r],t,!0),o.push(l)}),{write:s=>{let a=document.hidden,l=!0;return o.forEach(u=>{u.resting||(l=!1),u.interpolate(s,a)}),l},destroy:()=>{}}},hE=e=>(t,n)=>{e.addEventListener(t,n)},pE=e=>(t,n)=>{e.removeEventListener(t,n)},gE=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:i,view:o})=>{const s=[],a=hE(o.element),l=pE(o.element);return r.on=(u,c)=>{s.push({type:u,fn:c}),a(u,c)},r.off=(u,c)=>{s.splice(s.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{s.forEach(u=>{l(u.type,u.fn)})}}},mE=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{tc(e,n,t)},hn=e=>e!=null,vE={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},yE=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:i})=>{const o={...t},s={};tc(e,[n,r],t);const a=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>i.rect?wp(i.rect,i.childViews,a(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof o[c]>"u"?vE[c]:o[c]}),{write:()=>{if(!!bE(s,t))return EE(i.element,t),Object.assign(s,{...t}),!0},destroy:()=>{}}},bE=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},EE=(e,{opacity:t,perspective:n,translateX:r,translateY:i,scaleX:o,scaleY:s,rotateX:a,rotateY:l,rotateZ:u,originX:c,originY:f,width:d,height:p})=>{let g="",h="";(hn(c)||hn(f))&&(h+=`transform-origin: ${c||0}px ${f||0}px;`),hn(n)&&(g+=`perspective(${n}px) `),(hn(r)||hn(i))&&(g+=`translate3d(${r||0}px, ${i||0}px, 0) `),(hn(o)||hn(s))&&(g+=`scale3d(${hn(o)?o:1}, ${hn(s)?s:1}, 1) `),hn(u)&&(g+=`rotateZ(${u}rad) `),hn(a)&&(g+=`rotateX(${a}rad) `),hn(l)&&(g+=`rotateY(${l}rad) `),g.length&&(h+=`transform:${g};`),hn(t)&&(h+=`opacity:${t};`,t===0&&(h+="visibility:hidden;"),t<1&&(h+="pointer-events:none;")),hn(p)&&(h+=`height:${p}px;`),hn(d)&&(h+=`width:${d}px;`);const v=e.elementCurrentStyle||"";(h.length!==v.length||h!==v)&&(e.style.cssText=h,e.elementCurrentStyle=h)},_E={styles:yE,listeners:gE,animations:fE,apis:mE},Zc=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Vt=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:i=()=>{},create:o=()=>{},destroy:s=()=>{},filterFrameActionsForChild:a=(p,g)=>g,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:d=[]}={})=>(p,g={})=>{const h=ua(e,`filepond--${t}`,n),v=window.getComputedStyle(h,null),y=Zc();let E=null,m=!1;const b=[],w=[],A={},_={},T=[i],C=[r],L=[s],D=()=>h,O=()=>b.concat(),S=()=>A,x=ae=>(we,Se)=>we(ae,Se),R=()=>E||(E=wp(y,b,[0,0],[1,1]),E),I=()=>v,k=()=>{E=null,b.forEach(Se=>Se._read()),!(f&&y.width&&y.height)&&Zc(y,h,v);const we={root:de,props:g,rect:y};C.forEach(Se=>Se(we))},M=(ae,we,Se)=>{let Pe=we.length===0;return T.forEach(Oe=>{Oe({props:g,root:de,actions:we,timestamp:ae,shouldOptimize:Se})===!1&&(Pe=!1)}),w.forEach(Oe=>{Oe.write(ae)===!1&&(Pe=!1)}),b.filter(Oe=>!!Oe.element.parentNode).forEach(Oe=>{Oe._write(ae,a(Oe,we),Se)||(Pe=!1)}),b.forEach((Oe,rt)=>{Oe.element.parentNode||(de.appendChild(Oe.element,rt),Oe._read(),Oe._write(ae,a(Oe,we),Se),Pe=!1)}),m=Pe,u({props:g,root:de,actions:we,timestamp:ae}),Pe},F=()=>{w.forEach(ae=>ae.destroy()),L.forEach(ae=>{ae({root:de,props:g})}),b.forEach(ae=>ae._destroy())},j={element:{get:D},style:{get:I},childViews:{get:O}},z={...j,rect:{get:R},ref:{get:S},is:ae=>t===ae,appendChild:tE(h),createChildView:x(p),linkView:ae=>(b.push(ae),ae),unlinkView:ae=>{b.splice(b.indexOf(ae),1)},appendChildView:nE(h,b),removeChildView:rE(h,b),registerWriter:ae=>T.push(ae),registerReader:ae=>C.push(ae),registerDestroyer:ae=>L.push(ae),invalidateLayout:()=>h.layoutCalculated=!1,dispatch:p.dispatch,query:p.query},ce={element:{get:D},childViews:{get:O},rect:{get:R},resting:{get:()=>m},isRectIgnored:()=>c,_read:k,_write:M,_destroy:F},ie={...j,rect:{get:()=>y}};Object.keys(d).sort((ae,we)=>ae==="styles"?1:we==="styles"?-1:0).forEach(ae=>{const we=_E[ae]({mixinConfig:d[ae],viewProps:g,viewState:_,viewInternalAPI:z,viewExternalAPI:ce,view:si(ie)});we&&w.push(we)});const de=si(z);o({root:de,props:g});const _e=sE(h);return b.forEach((ae,we)=>{de.appendChild(ae.element,_e+we)}),l(de),si(ce)},wE=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const i=window[r],o=1e3/n;let s=null,a=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),o),u=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=d=>{a=l(f),s||(s=d);const p=d-s;p<=o||(s=d-p%o,i.readers.forEach(g=>g()),i.writers.forEach(g=>g(d)))};return c(),f(performance.now()),{pause:()=>{u(a)}}},_n=(e,t)=>({root:n,props:r,actions:i=[],timestamp:o,shouldOptimize:s})=>{i.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:n,props:r,action:a.data,timestamp:o,shouldOptimize:s})),t&&t({root:n,props:r,actions:i,timestamp:o,shouldOptimize:s})},Jc=(e,t)=>t.parentNode.insertBefore(e,t),Qc=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Wa=e=>Array.isArray(e),Dr=e=>e==null,AE=e=>e.trim(),za=e=>""+e,TE=(e,t=",")=>Dr(e)?[]:Wa(e)?e:za(e).split(t).map(AE).filter(n=>n.length),Ap=e=>typeof e=="boolean",Tp=e=>Ap(e)?e:e==="true",yn=e=>typeof e=="string",Sp=e=>Ii(e)?e:yn(e)?za(e).replace(/[a-z]+/gi,""):0,Vs=e=>parseInt(Sp(e),10),ed=e=>parseFloat(Sp(e)),To=e=>Ii(e)&&isFinite(e)&&Math.floor(e)===e,td=(e,t=1e3)=>{if(To(e))return e;let n=za(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Vs(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Vs(n)*t):Vs(n)},Ci=e=>typeof e=="function",SE=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},nd={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},IE=e=>{const t={};return t.url=yn(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},Pt(nd,n=>{t[n]=CE(n,e[n],nd[n],t.timeout,t.headers)}),t.process=e.process||yn(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},CE=(e,t,n,r,i)=>{if(t===null)return null;if(typeof t=="function")return t;const o={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(yn(t))return o.url=t,o;if(Object.assign(o,t),yn(o.headers)){const s=o.headers.split(/:(.+)/);o.headers={header:s[0],value:s[1]}}return o.withCredentials=Tp(o.withCredentials),o},OE=e=>IE(e),xE=e=>e===null,Qt=e=>typeof e=="object"&&e!==null,RE=e=>Qt(e)&&yn(e.url)&&Qt(e.process)&&Qt(e.revert)&&Qt(e.restore)&&Qt(e.fetch),nu=e=>Wa(e)?"array":xE(e)?"null":To(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":RE(e)?"api":typeof e,DE=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),LE={array:TE,boolean:Tp,int:e=>nu(e)==="bytes"?td(e):Vs(e),number:ed,float:ed,bytes:td,string:e=>Ci(e)?e:za(e),function:e=>SE(e),serverapi:OE,object:e=>{try{return JSON.parse(DE(e))}catch{return null}}},kE=(e,t)=>LE[t](e),Ip=(e,t,n)=>{if(e===t)return e;let r=nu(e);if(r!==n){const i=kE(e,n);if(r=nu(i),i===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=i}return e},ME=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=Ip(r,e,t)}}},PE=e=>{const t={};return Pt(e,n=>{const r=e[n];t[n]=ME(r[0],r[1])}),si(t)},NE=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:PE(e)}),Ya=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),FE=(e,t)=>{const n={};return Pt(t,r=>{n[r]={get:()=>e.getState().options[r],set:i=>{e.dispatch(`SET_${Ya(r,"_").toUpperCase()}`,{value:i})}}}),n},BE=e=>(t,n,r)=>{const i={};return Pt(e,o=>{const s=Ya(o,"_").toUpperCase();i[`SET_${s}`]=a=>{try{r.options[o]=a.value}catch{}t(`DID_SET_${s}`,{value:r.options[o]})}}),i},$E=e=>t=>{const n={};return Pt(e,r=>{n[`GET_${Ya(r,"_").toUpperCase()}`]=i=>t.options[r]}),n},Hn={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},nc=()=>Math.random().toString(36).substring(2,11),rc=(e,t)=>e.splice(t,1),UE=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},qa=()=>{const e=[],t=(r,i)=>{rc(e,e.findIndex(o=>o.event===r&&(o.cb===i||!i)))},n=(r,i,o)=>{e.filter(s=>s.event===r).map(s=>s.cb).forEach(s=>UE(()=>s(...i),o))};return{fireSync:(r,...i)=>{n(r,i,!0)},fire:(r,...i)=>{n(r,i,!1)},on:(r,i)=>{e.push({event:r,cb:i})},onOnce:(r,i)=>{e.push({event:r,cb:(...o)=>{t(r,i),i(...o)}})},off:t}},Cp=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},jE=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Sn=e=>{const t={};return Cp(e,t,jE),t},VE=e=>{e.forEach((t,n)=>{t.released&&rc(e,n)})},Ye={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Yt={INPUT:1,LIMBO:2,LOCAL:3},Op=e=>/[^0-9]+/.exec(e),xp=()=>Op(1.1 .toLocaleString())[0],GE=()=>{const e=xp(),t=1e3 .toLocaleString(),n=1e3 .toString();return t!==n?Op(t)[0]:e==="."?",":"."},re={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},ic=[],Qn=(e,t,n)=>new Promise((r,i)=>{const o=ic.filter(a=>a.key===e).map(a=>a.cb);if(o.length===0){r(t);return}const s=o.shift();o.reduce((a,l)=>a.then(u=>l(u,n)),s(t,n)).then(a=>r(a)).catch(a=>i(a))}),$i=(e,t,n)=>ic.filter(r=>r.key===e).map(r=>r.cb(t,n)),HE=(e,t)=>ic.push({key:e,cb:t}),WE=e=>Object.assign(Ji,e),ca=()=>({...Ji}),zE=e=>{Pt(e,(t,n)=>{!Ji[t]||(Ji[t][0]=Ip(n,Ji[t][0],Ji[t][1]))})},Ji={id:[null,re.STRING],name:["filepond",re.STRING],disabled:[!1,re.BOOLEAN],className:[null,re.STRING],required:[!1,re.BOOLEAN],captureMethod:[null,re.STRING],allowSyncAcceptAttribute:[!0,re.BOOLEAN],allowDrop:[!0,re.BOOLEAN],allowBrowse:[!0,re.BOOLEAN],allowPaste:[!0,re.BOOLEAN],allowMultiple:[!1,re.BOOLEAN],allowReplace:[!0,re.BOOLEAN],allowRevert:[!0,re.BOOLEAN],allowRemove:[!0,re.BOOLEAN],allowProcess:[!0,re.BOOLEAN],allowReorder:[!1,re.BOOLEAN],allowDirectoriesOnly:[!1,re.BOOLEAN],storeAsFile:[!1,re.BOOLEAN],forceRevert:[!1,re.BOOLEAN],maxFiles:[null,re.INT],checkValidity:[!1,re.BOOLEAN],itemInsertLocationFreedom:[!0,re.BOOLEAN],itemInsertLocation:["before",re.STRING],itemInsertInterval:[75,re.INT],dropOnPage:[!1,re.BOOLEAN],dropOnElement:[!0,re.BOOLEAN],dropValidation:[!1,re.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],re.ARRAY],instantUpload:[!0,re.BOOLEAN],maxParallelUploads:[2,re.INT],allowMinimumUploadDuration:[!0,re.BOOLEAN],chunkUploads:[!1,re.BOOLEAN],chunkForce:[!1,re.BOOLEAN],chunkSize:[5e6,re.INT],chunkRetryDelays:[[500,1e3,3e3],re.ARRAY],server:[null,re.SERVER_API],fileSizeBase:[1e3,re.INT],labelFileSizeBytes:["bytes",re.STRING],labelFileSizeKilobytes:["KB",re.STRING],labelFileSizeMegabytes:["MB",re.STRING],labelFileSizeGigabytes:["GB",re.STRING],labelDecimalSeparator:[xp(),re.STRING],labelThousandsSeparator:[GE(),re.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',re.STRING],labelInvalidField:["Field contains invalid files",re.STRING],labelFileWaitingForSize:["Waiting for size",re.STRING],labelFileSizeNotAvailable:["Size not available",re.STRING],labelFileCountSingular:["file in list",re.STRING],labelFileCountPlural:["files in list",re.STRING],labelFileLoading:["Loading",re.STRING],labelFileAdded:["Added",re.STRING],labelFileLoadError:["Error during load",re.STRING],labelFileRemoved:["Removed",re.STRING],labelFileRemoveError:["Error during remove",re.STRING],labelFileProcessing:["Uploading",re.STRING],labelFileProcessingComplete:["Upload complete",re.STRING],labelFileProcessingAborted:["Upload cancelled",re.STRING],labelFileProcessingError:["Error during upload",re.STRING],labelFileProcessingRevertError:["Error during revert",re.STRING],labelTapToCancel:["tap to cancel",re.STRING],labelTapToRetry:["tap to retry",re.STRING],labelTapToUndo:["tap to undo",re.STRING],labelButtonRemoveItem:["Remove",re.STRING],labelButtonAbortItemLoad:["Abort",re.STRING],labelButtonRetryItemLoad:["Retry",re.STRING],labelButtonAbortItemProcessing:["Cancel",re.STRING],labelButtonUndoItemProcessing:["Undo",re.STRING],labelButtonRetryItemProcessing:["Retry",re.STRING],labelButtonProcessItem:["Upload",re.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',re.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',re.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',re.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',re.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',re.STRING],oninit:[null,re.FUNCTION],onwarning:[null,re.FUNCTION],onerror:[null,re.FUNCTION],onactivatefile:[null,re.FUNCTION],oninitfile:[null,re.FUNCTION],onaddfilestart:[null,re.FUNCTION],onaddfileprogress:[null,re.FUNCTION],onaddfile:[null,re.FUNCTION],onprocessfilestart:[null,re.FUNCTION],onprocessfileprogress:[null,re.FUNCTION],onprocessfileabort:[null,re.FUNCTION],onprocessfilerevert:[null,re.FUNCTION],onprocessfile:[null,re.FUNCTION],onprocessfiles:[null,re.FUNCTION],onremovefile:[null,re.FUNCTION],onpreparefile:[null,re.FUNCTION],onupdatefiles:[null,re.FUNCTION],onreorderfiles:[null,re.FUNCTION],beforeDropFile:[null,re.FUNCTION],beforeAddFile:[null,re.FUNCTION],beforeRemoveFile:[null,re.FUNCTION],beforePrepareFile:[null,re.FUNCTION],stylePanelLayout:[null,re.STRING],stylePanelAspectRatio:[null,re.STRING],styleItemPanelAspectRatio:[null,re.STRING],styleButtonRemoveItemPosition:["left",re.STRING],styleButtonProcessItemPosition:["right",re.STRING],styleLoadIndicatorPosition:["right",re.STRING],styleProgressIndicatorPosition:["right",re.STRING],styleButtonRemoveItemAlign:[!1,re.BOOLEAN],files:[[],re.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],re.ARRAY]},Oi=(e,t)=>Dr(t)?e[0]||null:To(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),Rp=e=>{if(Dr(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},er=e=>e.filter(t=>!t.archived),Dp={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ws=null,YE=()=>{if(ws===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,ws=t.files.length===1}catch{ws=!1}return ws},qE=[Ye.LOAD_ERROR,Ye.PROCESSING_ERROR,Ye.PROCESSING_REVERT_ERROR],KE=[Ye.LOADING,Ye.PROCESSING,Ye.PROCESSING_QUEUED,Ye.INIT],XE=[Ye.PROCESSING_COMPLETE],ZE=e=>qE.includes(e.status),JE=e=>KE.includes(e.status),QE=e=>XE.includes(e.status),rd=e=>Qt(e.options.server)&&(Qt(e.options.server.process)||Ci(e.options.server.process)),e_=e=>({GET_STATUS:()=>{const t=er(e.items),{EMPTY:n,ERROR:r,BUSY:i,IDLE:o,READY:s}=Dp;return t.length===0?n:t.some(ZE)?r:t.some(JE)?i:t.some(QE)?s:o},GET_ITEM:t=>Oi(e.items,t),GET_ACTIVE_ITEM:t=>Oi(er(e.items),t),GET_ACTIVE_ITEMS:()=>er(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Oi(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Oi(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:Rp(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>er(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>er(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&YE()&&!rd(e),IS_ASYNC:()=>rd(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),t_=e=>{const t=er(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},Lp=(e,t,n)=>Math.max(Math.min(n,e),t),n_=(e,t,n)=>e.splice(t,0,n),r_=(e,t,n)=>Dr(t)?null:typeof n>"u"?(e.push(t),t):(n=Lp(n,0,e.length),n_(e,n,t),t),ru=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),ps=e=>e.split("/").pop().split("?").shift(),Ka=e=>e.split(".").pop(),i_=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Po=(e,t="")=>(t+e).slice(-t.length),kp=(e=new Date)=>`${e.getFullYear()}-${Po(e.getMonth()+1,"00")}-${Po(e.getDate(),"00")}_${Po(e.getHours(),"00")}-${Po(e.getMinutes(),"00")}-${Po(e.getSeconds(),"00")}`,go=(e,t,n=null,r=null)=>{const i=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return i.lastModifiedDate=new Date,e._relativePath&&(i._relativePath=e._relativePath),yn(t)||(t=kp()),t&&r===null&&Ka(t)?i.name=t:(r=r||i_(i.type),i.name=t+(r?"."+r:"")),i},o_=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Mp=(e,t)=>{const n=o_();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},s_=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return Mp(n,t)},Pp=e=>(/^data:(.+);/.exec(e)||[])[1]||null,a_=e=>e.split(",")[1].replace(/\s/g,""),l_=e=>atob(a_(e)),u_=e=>{const t=Pp(e),n=l_(e);return s_(n,t)},c_=(e,t,n)=>go(u_(e),t,null,n),d_=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},f_=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},h_=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,oc=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const i=d_(r);if(i){t.name=i;continue}const o=f_(r);if(o){t.size=o;continue}const s=h_(r);if(s){t.source=s;continue}}return t},p_=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},i=()=>{const a=t.source;s.fire("init",a),a instanceof File?s.fire("load",a):a instanceof Blob?s.fire("load",go(a,a.name)):ru(a)?s.fire("load",c_(a)):o(a)},o=a=>{if(!e){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(a,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=go(l,l.name||ps(a))),s.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{s.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,s.fire("progress",t.progress)},()=>{s.fire("abort")},l=>{const u=oc(typeof l=="string"?l:l.headers);s.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},s={...qa(),setSource:a=>t.source=a,getProgress:n,abort:r,load:i};return s},id=e=>/GET|HEAD/.test(e),ki=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{i=!0,s.abort()}};let i=!1,o=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),id(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const s=new XMLHttpRequest,a=id(n.method)?s:s.upload;return a.onprogress=l=>{i||r.onprogress(l.lengthComputable,l.loaded,l.total)},s.onreadystatechange=()=>{s.readyState<2||s.readyState===4&&s.status===0||o||(o=!0,r.onheaders(s))},s.onload=()=>{s.status>=200&&s.status<300?r.onload(s):r.onerror(s)},s.onerror=()=>r.onerror(s),s.onabort=()=>{i=!0,r.onabort()},s.ontimeout=()=>r.ontimeout(s),s.open(n.method,t,!0),To(n.timeout)&&(s.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));s.setRequestHeader(l,u)}),n.responseType&&(s.responseType=n.responseType),n.withCredentials&&(s.withCredentials=!0),s.send(e),r},Ft=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Mi=e=>t=>{e(Ft("error",0,"Timeout",t.getAllResponseHeaders()))},od=e=>/\?/.test(e),Yo=(...e)=>{let t="";return e.forEach(n=>{t+=od(t)&&od(n)?n.replace(/\?/,"&"):n}),t},fl=(e="",t)=>{if(typeof t=="function")return t;if(!t||!yn(t.url))return null;const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,o,s,a,l,u)=>{const c=ki(i,Yo(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const d=f.getAllResponseHeaders(),p=oc(d).name||ps(i);o(Ft("load",f.status,t.method==="HEAD"?null:go(n(f.response),p),d))},c.onerror=f=>{s(Ft("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(Ft("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Mi(s),c.onprogress=a,c.onabort=l,c}},$n={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},g_=(e,t,n,r,i,o,s,a,l,u,c)=>{const f=[],{chunkTransferId:d,chunkServer:p,chunkSize:g,chunkRetryDelays:h}=c,v={serverId:d,aborted:!1},y=t.ondata||(x=>x),E=t.onload||((x,R)=>R==="HEAD"?x.getResponseHeader("Upload-Offset"):x.response),m=t.onerror||(x=>null),b=x=>{const R=new FormData;Qt(i)&&R.append(n,JSON.stringify(i));const I=typeof t.headers=="function"?t.headers(r,i):{...t.headers,"Upload-Length":r.size},k={...t,headers:I},M=ki(y(R),Yo(e,t.url),k);M.onload=F=>x(E(F,k.method)),M.onerror=F=>s(Ft("error",F.status,m(F.response)||F.statusText,F.getAllResponseHeaders())),M.ontimeout=Mi(s)},w=x=>{const R=Yo(e,p.url,v.serverId),k={headers:typeof t.headers=="function"?t.headers(v.serverId):{...t.headers},method:"HEAD"},M=ki(null,R,k);M.onload=F=>x(E(F,k.method)),M.onerror=F=>s(Ft("error",F.status,m(F.response)||F.statusText,F.getAllResponseHeaders())),M.ontimeout=Mi(s)},A=Math.floor(r.size/g);for(let x=0;x<=A;x++){const R=x*g,I=r.slice(R,R+g,"application/offset+octet-stream");f[x]={index:x,size:I.size,offset:R,data:I,file:r,progress:0,retries:[...h],status:$n.QUEUED,error:null,request:null,timeout:null}}const _=()=>o(v.serverId),T=x=>x.status===$n.QUEUED||x.status===$n.ERROR,C=x=>{if(v.aborted)return;if(x=x||f.find(T),!x){f.every(j=>j.status===$n.COMPLETE)&&_();return}x.status=$n.PROCESSING,x.progress=null;const R=p.ondata||(j=>j),I=p.onerror||(j=>null),k=Yo(e,p.url,v.serverId),M=typeof p.headers=="function"?p.headers(x):{...p.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":x.offset,"Upload-Length":r.size,"Upload-Name":r.name},F=x.request=ki(R(x.data),k,{...p,headers:M});F.onload=()=>{x.status=$n.COMPLETE,x.request=null,O()},F.onprogress=(j,z,ce)=>{x.progress=j?z:null,D()},F.onerror=j=>{x.status=$n.ERROR,x.request=null,x.error=I(j.response)||j.statusText,L(x)||s(Ft("error",j.status,I(j.response)||j.statusText,j.getAllResponseHeaders()))},F.ontimeout=j=>{x.status=$n.ERROR,x.request=null,L(x)||Mi(s)(j)},F.onabort=()=>{x.status=$n.QUEUED,x.request=null,l()}},L=x=>x.retries.length===0?!1:(x.status=$n.WAITING,clearTimeout(x.timeout),x.timeout=setTimeout(()=>{C(x)},x.retries.shift()),!0),D=()=>{const x=f.reduce((I,k)=>I===null||k.progress===null?null:I+k.progress,0);if(x===null)return a(!1,0,0);const R=f.reduce((I,k)=>I+k.size,0);a(!0,x,R)},O=()=>{f.filter(R=>R.status===$n.PROCESSING).length>=1||C()},S=()=>{f.forEach(x=>{clearTimeout(x.timeout),x.request&&x.request.abort()})};return v.serverId?w(x=>{v.aborted||(f.filter(R=>R.offset<x).forEach(R=>{R.status=$n.COMPLETE,R.progress=R.size}),O())}):b(x=>{v.aborted||(u(x),v.serverId=x,O())}),{abort:()=>{v.aborted=!0,S()}}},m_=(e,t,n,r)=>(i,o,s,a,l,u,c)=>{if(!i)return;const f=r.chunkUploads,d=f&&i.size>r.chunkSize,p=f&&(d||r.chunkForce);if(i instanceof Blob&&p)return g_(e,t,n,i,o,s,a,l,u,c,r);const g=t.ondata||(w=>w),h=t.onload||(w=>w),v=t.onerror||(w=>null),y=typeof t.headers=="function"?t.headers(i,o)||{}:{...t.headers},E={...t,headers:y};var m=new FormData;Qt(o)&&m.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach(w=>{m.append(n,w.file,w.name===null?w.file.name:`${w.name}${w.file.name}`)});const b=ki(g(m),Yo(e,t.url),E);return b.onload=w=>{s(Ft("load",w.status,h(w.response),w.getAllResponseHeaders()))},b.onerror=w=>{a(Ft("error",w.status,v(w.response)||w.statusText,w.getAllResponseHeaders()))},b.ontimeout=Mi(a),b.onprogress=l,b.onabort=u,b},v_=(e="",t,n,r)=>typeof t=="function"?(...i)=>t(n,...i,r):!t||!yn(t.url)?null:m_(e,t,n,r),No=(e="",t)=>{if(typeof t=="function")return t;if(!t||!yn(t.url))return(i,o)=>o();const n=t.onload||(i=>i),r=t.onerror||(i=>null);return(i,o,s)=>{const a=ki(i,e+t.url,t);return a.onload=l=>{o(Ft("load",l.status,n(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{s(Ft("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=Mi(s),a}},Np=(e=0,t=1)=>e+Math.random()*(t-e),y_=(e,t=1e3,n=0,r=25,i=250)=>{let o=null;const s=Date.now(),a=()=>{let l=Date.now()-s,u=Np(r,i);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),o=setTimeout(a,u)};return t>0&&a(),{clear:()=>{clearTimeout(o)}}},b_=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,i=(c,f)=>{const d=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},p=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=y_(g=>{n.perceivedProgress=g,n.perceivedDuration=Date.now()-n.timestamp,d(),n.response&&n.perceivedProgress===1&&!n.complete&&p()},r?Np(750,1500):0),n.request=e(c,f,g=>{n.response=Qt(g)?g:{type:"load",code:200,body:`${g}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&p()},g=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",Qt(g)?g:{type:"error",code:0,body:`${g}`})},(g,h,v)=>{n.duration=Date.now()-n.timestamp,n.progress=g?h/v:null,d()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},g=>{u.fire("transfer",g)})},o=()=>{!n.request||(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},s=()=>{o(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...qa(),process:i,abort:o,getProgress:a,getDuration:l,reset:s};return u},Fp=e=>e.substring(0,e.lastIndexOf("."))||e,E_=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||ru(e)?t[0]=e.name||kp():ru(e)?(t[1]=e.length,t[2]=Pp(e)):yn(e)&&(t[0]=ps(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},mo=e=>!!(e instanceof File||e instanceof Blob&&e.name),Bp=e=>{if(!Qt(e))return e;const t=Wa(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&Qt(r)?Bp(r):r}return t},__=(e=null,t=null,n=null)=>{const r=nc(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?Ye.PROCESSING_COMPLETE:Ye.INIT,activeLoader:null,activeProcessor:null};let o=null;const s={},a=T=>i.status=T,l=(T,...C)=>{i.released||i.frozen||A.fire(T,...C)},u=()=>Ka(i.file.name),c=()=>i.file.type,f=()=>i.file.size,d=()=>i.file,p=(T,C,L)=>{if(i.source=T,A.fireSync("init"),i.file){A.fireSync("load-skip");return}i.file=E_(T),C.on("init",()=>{l("load-init")}),C.on("meta",D=>{i.file.size=D.size,i.file.filename=D.filename,D.source&&(e=Yt.LIMBO,i.serverFileReference=D.source,i.status=Ye.PROCESSING_COMPLETE),l("load-meta")}),C.on("progress",D=>{a(Ye.LOADING),l("load-progress",D)}),C.on("error",D=>{a(Ye.LOAD_ERROR),l("load-request-error",D)}),C.on("abort",()=>{a(Ye.INIT),l("load-abort")}),C.on("load",D=>{i.activeLoader=null;const O=x=>{i.file=mo(x)?x:i.file,e===Yt.LIMBO&&i.serverFileReference?a(Ye.PROCESSING_COMPLETE):a(Ye.IDLE),l("load")},S=x=>{i.file=D,l("load-meta"),a(Ye.LOAD_ERROR),l("load-file-error",x)};if(i.serverFileReference){O(D);return}L(D,O,S)}),C.setSource(T),i.activeLoader=C,C.load()},g=()=>{!i.activeLoader||i.activeLoader.load()},h=()=>{if(i.activeLoader){i.activeLoader.abort();return}a(Ye.INIT),l("load-abort")},v=(T,C)=>{if(i.processingAborted){i.processingAborted=!1;return}if(a(Ye.PROCESSING),o=null,!(i.file instanceof Blob)){A.on("load",()=>{v(T,C)});return}T.on("load",O=>{i.transferId=null,i.serverFileReference=O}),T.on("transfer",O=>{i.transferId=O}),T.on("load-perceived",O=>{i.activeProcessor=null,i.transferId=null,i.serverFileReference=O,a(Ye.PROCESSING_COMPLETE),l("process-complete",O)}),T.on("start",()=>{l("process-start")}),T.on("error",O=>{i.activeProcessor=null,a(Ye.PROCESSING_ERROR),l("process-error",O)}),T.on("abort",O=>{i.activeProcessor=null,i.serverFileReference=O,a(Ye.IDLE),l("process-abort"),o&&o()}),T.on("progress",O=>{l("process-progress",O)});const L=O=>{i.archived||T.process(O,{...s})},D=console.error;C(i.file,L,D),i.activeProcessor=T},y=()=>{i.processingAborted=!1,a(Ye.PROCESSING_QUEUED)},E=()=>new Promise(T=>{if(!i.activeProcessor){i.processingAborted=!0,a(Ye.IDLE),l("process-abort"),T();return}o=()=>{T()},i.activeProcessor.abort()}),m=(T,C)=>new Promise((L,D)=>{const O=i.serverFileReference!==null?i.serverFileReference:i.transferId;if(O===null){L();return}T(O,()=>{i.serverFileReference=null,i.transferId=null,L()},S=>{if(!C){L();return}a(Ye.PROCESSING_REVERT_ERROR),l("process-revert-error"),D(S)}),a(Ye.IDLE),l("process-revert")}),b=(T,C,L)=>{const D=T.split("."),O=D[0],S=D.pop();let x=s;D.forEach(R=>x=x[R]),JSON.stringify(x[S])!==JSON.stringify(C)&&(x[S]=C,l("metadata-update",{key:O,value:s[O],silent:L}))},A={id:{get:()=>r},origin:{get:()=>e,set:T=>e=T},serverId:{get:()=>i.serverFileReference},transferId:{get:()=>i.transferId},status:{get:()=>i.status},filename:{get:()=>i.file.name},filenameWithoutExtension:{get:()=>Fp(i.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:d},relativePath:{get:()=>i.file._relativePath},source:{get:()=>i.source},getMetadata:T=>Bp(T?s[T]:s),setMetadata:(T,C,L)=>{if(Qt(T)){const D=T;return Object.keys(D).forEach(O=>{b(O,D[O],C)}),T}return b(T,C,L),C},extend:(T,C)=>_[T]=C,abortLoad:h,retryLoad:g,requestProcessing:y,abortProcessing:E,load:p,process:v,revert:m,...qa(),freeze:()=>i.frozen=!0,release:()=>i.released=!0,released:{get:()=>i.released},archive:()=>i.archived=!0,archived:{get:()=>i.archived}},_=si(A);return _},w_=(e,t)=>Dr(t)?0:yn(t)?e.findIndex(n=>n.id===t):-1,sd=(e,t)=>{const n=w_(e,t);if(!(n<0))return e[n]||null},ad=(e,t,n,r,i,o)=>{const s=ki(null,e,{method:"GET",responseType:"blob"});return s.onload=a=>{const l=a.getAllResponseHeaders(),u=oc(l).name||ps(e);t(Ft("load",a.status,go(a.response,u),l))},s.onerror=a=>{n(Ft("error",a.status,a.statusText,a.getAllResponseHeaders()))},s.onheaders=a=>{o(Ft("headers",a.status,null,a.getAllResponseHeaders()))},s.ontimeout=Mi(n),s.onprogress=r,s.onabort=i,s},ld=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),A_=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ld(location.href)!==ld(e),As=e=>(...t)=>Ci(e)?e(...t):e,T_=e=>!mo(e.file),hl=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:er(t.items)})},0)},ud=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),pl=(e,t)=>{e.items.sort((n,r)=>t(Sn(n),Sn(r)))},Un=(e,t)=>({query:n,success:r=()=>{},failure:i=()=>{},...o}={})=>{const s=Oi(e.items,n);if(!s){i({error:Ft("error",0,"Item not found"),file:null});return}t(s,r,i,o||{})},S_=(e,t,n)=>({ABORT_ALL:()=>{er(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const i=r.map(s=>({source:s.source?s.source:s,options:s.options}));let o=er(n.items);o.forEach(s=>{i.find(a=>a.source===s.source||a.source===s.file)||e("REMOVE_ITEM",{query:s,remove:!1})}),o=er(n.items),i.forEach((s,a)=>{o.find(l=>l.source===s.source||l.file===s.source)||e("ADD_ITEM",{...s,interactionMethod:Hn.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:i,change:o})=>{o.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const s=sd(n.items,r);if(!t("IS_ASYNC")){Qn("SHOULD_PREPARE_OUTPUT",!1,{item:s,query:t,action:i,change:o}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(s,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:s,success:d=>{e("DID_PREPARE_OUTPUT",{id:r,file:d})}},!0)});return}s.origin===Yt.LOCAL&&e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{s.revert(No(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},u=c=>{s.abortProcessing().then(c?a:()=>{})};if(s.status===Ye.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(s.status===Ye.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:i})=>{const o=Oi(n.items,r);if(!o)return;const s=n.items.indexOf(o);i=Lp(i,0,n.items.length-1),s!==i&&n.items.splice(i,0,n.items.splice(s,1)[0])},SORT:({compare:r})=>{pl(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:i,interactionMethod:o,success:s=()=>{},failure:a=()=>{}})=>{let l=i;if(i===-1||typeof i>"u"){const p=t("GET_ITEM_INSERT_LOCATION"),g=t("GET_TOTAL_ITEMS");l=p==="before"?0:g}const u=t("GET_IGNORED_FILES"),c=p=>mo(p)?!u.includes(p.name.toLowerCase()):!Dr(p),d=r.filter(c).map(p=>new Promise((g,h)=>{e("ADD_ITEM",{interactionMethod:o,source:p.source||p,success:g,failure:h,index:l++,options:p.options||{}})}));Promise.all(d).then(s).catch(a)},ADD_ITEM:({source:r,index:i=-1,interactionMethod:o,success:s=()=>{},failure:a=()=>{},options:l={}})=>{if(Dr(r)){a({error:Ft("error",0,"No source"),file:null});return}if(mo(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!t_(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const E=Ft("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:E}),a({error:E,file:null});return}const y=er(n.items)[0];if(y.status===Ye.PROCESSING_COMPLETE||y.status===Ye.PROCESSING_REVERT_ERROR){const E=t("GET_FORCE_REVERT");if(y.revert(No(n.options.server.url,n.options.server.revert),E).then(()=>{!E||e("ADD_ITEM",{source:r,index:i,interactionMethod:o,success:s,failure:a,options:l})}).catch(()=>{}),E)return}e("REMOVE_ITEM",{query:y.id})}const u=l.type==="local"?Yt.LOCAL:l.type==="limbo"?Yt.LIMBO:Yt.INPUT,c=__(u,u===Yt.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(y=>{c.setMetadata(y,l.metadata[y])}),$i("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(i=f==="before"?-1:n.items.length),r_(n.items,c,i),Ci(f)&&r&&pl(n,f);const d=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:d})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:d})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:d})}),c.on("load-progress",y=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:d,progress:y})}),c.on("load-request-error",y=>{const E=As(n.options.labelFileLoadError)(y);if(y.code>=400&&y.code<500){e("DID_THROW_ITEM_INVALID",{id:d,error:y,status:{main:E,sub:`${y.code} (${y.body})`}}),a({error:y,file:Sn(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:d,error:y,status:{main:E,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",y=>{e("DID_THROW_ITEM_INVALID",{id:d,error:y.status,status:y.status}),a({error:y.status,file:Sn(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:d})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:s}})}),c.on("load",()=>{const y=E=>{if(!E){e("REMOVE_ITEM",{query:d});return}c.on("metadata-update",m=>{e("DID_UPDATE_ITEM_METADATA",{id:d,change:m})}),Qn("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(m=>{const b=t("GET_BEFORE_PREPARE_FILE");b&&(m=b(c,m));const w=()=>{e("COMPLETE_LOAD_ITEM",{query:d,item:c,data:{source:r,success:s}}),hl(e,n)};if(m){e("REQUEST_PREPARE_OUTPUT",{query:d,item:c,success:A=>{e("DID_PREPARE_OUTPUT",{id:d,file:A}),w()}},!0);return}w()})};Qn("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{ud(t("GET_BEFORE_ADD_FILE"),Sn(c)).then(y)}).catch(E=>{if(!E||!E.error||!E.status)return y(!1);e("DID_THROW_ITEM_INVALID",{id:d,error:E.error,status:E.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:d})}),c.on("process-progress",y=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:d,progress:y})}),c.on("process-error",y=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:d,error:y,status:{main:As(n.options.labelFileProcessingError)(y),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",y=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:d,error:y,status:{main:As(n.options.labelFileProcessingRevertError)(y),sub:n.options.labelTapToRetry}})}),c.on("process-complete",y=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:d,error:null,serverFileReference:y}),e("DID_DEFINE_VALUE",{id:d,value:y})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:d})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:d}),e("DID_DEFINE_VALUE",{id:d,value:null})}),e("DID_ADD_ITEM",{id:d,index:i,interactionMethod:o}),hl(e,n);const{url:p,load:g,restore:h,fetch:v}=n.options.server||{};c.load(r,p_(u===Yt.INPUT?yn(r)&&A_(r)&&v?fl(p,v):ad:u===Yt.LIMBO?fl(p,h):fl(p,g)),(y,E,m)=>{Qn("LOAD_FILE",y,{query:t}).then(E).catch(m)})},REQUEST_PREPARE_OUTPUT:({item:r,success:i,failure:o=()=>{}})=>{const s={error:Ft("error",0,"Item not found"),file:null};if(r.archived)return o(s);Qn("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(a=>{Qn("COMPLETE_PREPARE_OUTPUT",a,{query:t,item:r}).then(l=>{if(r.archived)return o(s);i(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:i})=>{const{success:o,source:s}=i,a=t("GET_ITEM_INSERT_LOCATION");if(Ci(a)&&s&&pl(n,a),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Yt.INPUT?null:s}),o(Sn(r)),r.origin===Yt.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===Yt.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||s});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:Un(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:Un(n,(r,i,o)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:s=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:s}),i({file:r,output:s})},failure:o},!0)}),REQUEST_ITEM_PROCESSING:Un(n,(r,i,o)=>{if(!(r.status===Ye.IDLE||r.status===Ye.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o}),l=()=>document.hidden?a():setTimeout(a,32);r.status===Ye.PROCESSING_COMPLETE||r.status===Ye.PROCESSING_REVERT_ERROR?r.revert(No(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===Ye.PROCESSING&&r.abortProcessing().then(l);return}r.status!==Ye.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:i,failure:o},!0))}),PROCESS_ITEM:Un(n,(r,i,o)=>{const s=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",Ye.PROCESSING).length===s){n.processingQueue.push({id:r.id,success:i,failure:o});return}if(r.status===Ye.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:d,failure:p}=c,g=Oi(n.items,f);if(!g||g.archived){l();return}e("PROCESS_ITEM",{query:f,success:d,failure:p},!0)};r.onOnce("process-complete",()=>{i(Sn(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===Yt.LOCAL&&Ci(c.remove)){const p=()=>{};r.origin=Yt.LIMBO,n.options.server.remove(r.source,p,p)}t("GET_ITEMS_BY_STATUS",Ye.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{o({error:c,file:Sn(r)}),l()});const u=n.options;r.process(b_(v_(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,d)=>{Qn("PREPARE_OUTPUT",c,{query:t,item:r}).then(p=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:p}),f(p)}).catch(d)})}),RETRY_ITEM_PROCESSING:Un(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:Un(n,r=>{ud(t("GET_BEFORE_REMOVE_FILE"),Sn(r)).then(i=>{!i||e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:Un(n,r=>{r.release()}),REMOVE_ITEM:Un(n,(r,i,o,s)=>{const a=()=>{const u=r.id;sd(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),hl(e,n),i(Sn(r))},l=n.options.server;r.origin===Yt.LOCAL&&l&&Ci(l.remove)&&s.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>a(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Ft("error",0,u,null),status:{main:As(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((s.revert&&r.origin!==Yt.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(No(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:Un(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:Un(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:Un(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const i=a=>{!a||e("REVERT_ITEM_PROCESSING",{query:r})},o=t("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);const s=o(Sn(r));if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),REVERT_ITEM_PROCESSING:Un(n,r=>{r.revert(No(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||T_(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const i=Object.keys(r),o=I_.filter(a=>i.includes(a));[...o,...Object.keys(r).filter(a=>!o.includes(a))].forEach(a=>{e(`SET_${Ya(a,"_").toUpperCase()}`,{value:r[a]})})}}),I_=["server"],sc=e=>e,Lr=e=>document.createElement(e),Bt=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},cd=(e,t,n,r)=>{const i=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}},C_=(e,t,n,r,i,o)=>{const s=cd(e,t,n,i),a=cd(e,t,n,r);return["M",s.x,s.y,"A",n,n,0,o,0,a.x,a.y].join(" ")},O_=(e,t,n,r,i)=>{let o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),C_(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,i)*360,o)},x_=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=ua("svg");e.ref.path=ua("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},R_=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(Ut(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let i=0,o=0;t.spin?(i=0,o=.5):(i=0,o=t.progress);const s=O_(r,r,r-n,i,o);Ut(e.ref.path,"d",s),Ut(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},dd=Vt({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:x_,write:R_,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),D_=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},L_=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,Ut(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},$p=Vt({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:D_,write:L_}),Up=(e,t=".",n=1e3,r={})=>{const{labelBytes:i="bytes",labelKilobytes:o="KB",labelMegabytes:s="MB",labelGigabytes:a="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${i}`:e<u?`${Math.floor(e/l)} ${o}`:e<c?`${fd(e/u,1,t)} ${s}`:`${fd(e/c,2,t)} ${a}`},fd=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),k_=({root:e,props:t})=>{const n=Lr("span");n.className="filepond--file-info-main",Ut(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=Lr("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,Bt(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Bt(n,sc(e.query("GET_ITEM_NAME",t.id)))},iu=({root:e,props:t})=>{Bt(e.ref.fileSize,Up(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Bt(e.ref.fileName,sc(e.query("GET_ITEM_NAME",t.id)))},hd=({root:e,props:t})=>{if(To(e.query("GET_ITEM_SIZE",t.id))){iu({root:e,props:t});return}Bt(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},M_=Vt({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:_n({DID_LOAD_ITEM:iu,DID_UPDATE_ITEM_META:iu,DID_THROW_ITEM_LOAD_ERROR:hd,DID_THROW_ITEM_INVALID:hd}),didCreateView:e=>{$i("CREATE_VIEW",{...e,view:e})},create:k_,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),jp=e=>Math.round(e*100),P_=({root:e})=>{const t=Lr("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=Lr("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Vp({root:e,action:{progress:null}})},Vp=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${jp(t.progress)}%`;Bt(e.ref.main,n),Bt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},N_=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${jp(t.progress)}%`;Bt(e.ref.main,n),Bt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},F_=({root:e})=>{Bt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Bt(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},B_=({root:e})=>{Bt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Bt(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},$_=({root:e})=>{Bt(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Bt(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},pd=({root:e})=>{Bt(e.ref.main,""),Bt(e.ref.sub,"")},Fo=({root:e,action:t})=>{Bt(e.ref.main,t.status.main),Bt(e.ref.sub,t.status.sub)},U_=Vt({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:_n({DID_LOAD_ITEM:pd,DID_REVERT_ITEM_PROCESSING:pd,DID_REQUEST_ITEM_PROCESSING:F_,DID_ABORT_ITEM_PROCESSING:B_,DID_COMPLETE_ITEM_PROCESSING:$_,DID_UPDATE_ITEM_PROCESS_PROGRESS:N_,DID_UPDATE_ITEM_LOAD_PROGRESS:Vp,DID_THROW_ITEM_LOAD_ERROR:Fo,DID_THROW_ITEM_INVALID:Fo,DID_THROW_ITEM_PROCESSING_ERROR:Fo,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Fo,DID_THROW_ITEM_REMOVE_ERROR:Fo}),didCreateView:e=>{$i("CREATE_VIEW",{...e,view:e})},create:P_,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),ou={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},su=[];Pt(ou,e=>{su.push(e)});var kn=e=>{if(au(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},j_=e=>e.ref.buttonAbortItemLoad.rect.element.width,Ts=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),V_=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),G_=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),H_=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),au=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),W_={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:G_},processProgressIndicator:{opacity:0,align:H_},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},gd={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kn},status:{translateX:kn}},gl={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Qi={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{translateX:kn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:au},info:{translateX:kn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:au},buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{opacity:1,translateX:kn}},DID_LOAD_ITEM:gd,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:kn},status:{translateX:kn}},DID_START_ITEM_PROCESSING:gl,DID_REQUEST_ITEM_PROCESSING:gl,DID_UPDATE_ITEM_PROCESS_PROGRESS:gl,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:kn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:kn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:gd},z_=Vt({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Y_=({root:e,props:t})=>{const n=Object.keys(ou).reduce((g,h)=>(g[h]={...ou[h]},g),{}),{id:r}=t,i=e.query("GET_ALLOW_REVERT"),o=e.query("GET_ALLOW_REMOVE"),s=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?s&&!i?c=g=>!/RevertItemProcessing/.test(g):!s&&i?c=g=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(g):!s&&!i&&(c=g=>!/Process/.test(g)):c=g=>!/Process/.test(g);const f=c?su.filter(c):su.concat();if(a&&i&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!i){const g=Qi.DID_COMPLETE_ITEM_PROCESSING;g.info.translateX=V_,g.info.translateY=Ts,g.status.translateY=Ts,g.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(g=>{Qi[g].status.translateY=Ts}),Qi.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=j_),u&&i){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const g=Qi.DID_COMPLETE_ITEM_PROCESSING;g.info.translateX=kn,g.status.translateY=Ts,g.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}o||(n.RemoveItem.disabled=!0),Pt(n,(g,h)=>{const v=e.createChildView($p,{label:e.query(h.label),icon:e.query(h.icon),opacity:0});f.includes(g)&&e.appendChildView(v),h.disabled&&(v.element.setAttribute("disabled","disabled"),v.element.setAttribute("hidden","hidden")),v.element.dataset.align=e.query(`GET_STYLE_${h.align}`),v.element.classList.add(h.className),v.on("click",y=>{y.stopPropagation(),!h.disabled&&e.dispatch(h.action,{query:r})}),e.ref[`button${g}`]=v}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(z_)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(M_,{id:r})),e.ref.status=e.appendChildView(e.createChildView(U_,{id:r}));const d=e.appendChildView(e.createChildView(dd,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));d.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=d;const p=e.appendChildView(e.createChildView(dd,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));p.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=p,e.ref.activeStyles=[]},q_=({root:e,actions:t,props:n})=>{K_({root:e,actions:t,props:n});let r=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>Qi[i.type]);if(r){e.ref.activeStyles=[];const i=Qi[r.type];Pt(W_,(o,s)=>{const a=e.ref[o];Pt(s,(l,u)=>{const c=i[o]&&typeof i[o][l]<"u"?i[o][l]:u;e.ref.activeStyles.push({control:a,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:i,key:o,value:s})=>{i[o]=typeof s=="function"?s(e):s})},K_=_n({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),X_=Vt({create:Y_,write:q_,didCreateView:e=>{$i("CREATE_VIEW",{...e,view:e})},name:"file"}),Z_=({root:e,props:t})=>{e.ref.fileName=Lr("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(X_,{id:t.id})),e.ref.data=!1},J_=({root:e,props:t})=>{Bt(e.ref.fileName,sc(e.query("GET_ITEM_NAME",t.id)))},Q_=Vt({create:Z_,ignoreRect:!0,write:_n({DID_LOAD_ITEM:J_}),didCreateView:e=>{$i("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),md={type:"spring",damping:.6,mass:7},ew=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:md},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:md},styles:["translateY"]}}].forEach(n=>{tw(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},tw=(e,t,n)=>{const r=Vt({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),i=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(i)},nw=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=Ap(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(i-n.height-r.height)/100,e.ref.bottom.translateY=i-r.height},Gp=Vt({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:nw,create:ew,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),rw=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},vd={type:"spring",stiffness:.75,damping:.45,mass:10},yd="spring",bd={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},iw=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Q_,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Gp,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let i=!1;const o={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const s=rw(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:s});const a=u=>{if(!u.isPrimary)return;u.stopPropagation(),u.preventDefault(),t.dragOffset={x:u.pageX-o.x,y:u.pageY-o.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!i&&(i=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:s})},l=u=>{!u.isPrimary||(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),t.dragOffset={x:u.pageX-o.x,y:u.pageY-o.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:s}),i&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},ow=_n({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),sw=_n({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let i=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>bd[s.type]);i&&i.type!==n.currentState&&(n.currentState=i.type,e.element.dataset.filepondItemState=bd[n.currentState]||"");const o=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");o?r||(e.height=e.rect.element.width*o):(ow({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),aw=Vt({create:iw,write:sw,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:yd,scaleY:yd,translateX:vd,translateY:vd,opacity:{type:"tween",duration:150}}}}),ac=(e,t)=>Math.max(1,Math.floor((e+1)/t)),lc=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,i=t.length;let o=null;if(i===0||n.top<t[0].rect.element.top)return-1;const a=t[0].rect.element,l=a.marginLeft+a.marginRight,u=a.width+l,c=ac(r,u);if(c===1){for(let p=0;p<i;p++){const g=t[p],h=g.rect.outer.top+g.rect.element.height*.5;if(n.top<h)return p}return i}const f=a.marginTop+a.marginBottom,d=a.height+f;for(let p=0;p<i;p++){const g=p%c,h=Math.floor(p/c),v=g*u,y=h*d,E=y-a.marginTop,m=v+u,b=y+d+a.marginBottom;if(n.top<b&&n.top>E){if(n.left<m)return p;p!==i-1?o=p:o=null}}return o!==null?o:i},Ss={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},lw=({root:e})=>{Ut(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},uw=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:i}=t;e.ref.addIndex=r;const o=Date.now();let s=o,a=1;if(i!==Hn.NONE){a=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=o-e.ref.lastItemSpanwDate;s=u<l?o+(l-u):o}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(aw,{spawnDate:s,id:n,opacity:a,interactionMethod:i}),r)},Ed=(e,t,n,r=0,i=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&cw(e,t,n,r,i),e.scaleX=1,e.scaleY=1,e.opacity=1))},cw=(e,t,n,r,i)=>{e.interactionMethod===Hn.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Hn.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-i*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Hn.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Hn.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},dw=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(i=>i.id===n);!r||(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},ml=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,fw=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,hw=({root:e,action:t})=>{const{id:n,dragState:r}=t,i=e.query("GET_ITEM",{id:n}),o=e.childViews.find(v=>v.id===n),s=e.childViews.length,a=r.getItemIndex(i);if(!o)return;const l={x:o.dragOrigin.x+o.dragOffset.x+o.dragCenter.x,y:o.dragOrigin.y+o.dragOffset.y+o.dragCenter.y},u=ml(o),c=fw(o);let f=Math.floor(e.rect.outer.width/c);f>s&&(f=s);const d=Math.floor(s/f+1);Ss.setHeight=u*d,Ss.setWidth=c*f;var p={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>Ss.getHeight||l.y<0||l.x>Ss.getWidth||l.x<0?a:this.y*f+this.x},getColIndex:function(){const y=e.query("GET_ACTIVE_ITEMS"),E=e.childViews.filter(D=>D.rect.element.height),m=y.map(D=>E.find(O=>O.id===D.id)),b=m.findIndex(D=>D===o),w=ml(o),A=m.length;let _=A,T=0,C=0,L=0;for(let D=0;D<A;D++)if(T=ml(m[D]),L=C,C=L+T,l.y<C){if(b>D){if(l.y<L+w){_=D;break}continue}_=D;break}return _}};const g=f>1?p.getGridIndex():p.getColIndex();e.dispatch("MOVE_ITEM",{query:o,index:g});const h=r.getIndex();if(h===void 0||h!==g){if(r.setIndex(g),h===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:g})}},pw=_n({DID_ADD_ITEM:uw,DID_REMOVE_ITEM:dw,DID_DRAG_ITEM:hw}),gw=({root:e,props:t,actions:n,shouldOptimize:r})=>{pw({root:e,props:t,actions:n});const{dragCoordinates:i}=t,o=e.rect.element.width,s=e.childViews.filter(m=>m.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(m=>s.find(b=>b.id===m.id)).filter(m=>m),l=i?lc(e,a,i):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,d=0;if(a.length===0)return;const p=a[0].rect.element,g=p.marginTop+p.marginBottom,h=p.marginLeft+p.marginRight,v=p.width+h,y=p.height+g,E=ac(o,v);if(E===1){let m=0,b=0;a.forEach((w,A)=>{if(l){let C=A-l;C===-2?b=-g*.25:C===-1?b=-g*.75:C===0?b=g*.75:C===1?b=g*.25:b=0}r&&(w.translateX=null,w.translateY=null),w.markedForRemoval||Ed(w,0,m+b),m+=(w.rect.element.height+g)*(w.markedForRemoval?w.opacity:1)})}else{let m=0,b=0;a.forEach((w,A)=>{A===l&&(c=1),A===u&&(d+=1),w.markedForRemoval&&w.opacity<.5&&(f-=1);const _=A+d+c+f,T=_%E,C=Math.floor(_/E),L=T*v,D=C*y,O=Math.sign(L-m),S=Math.sign(D-b);m=L,b=D,!w.markedForRemoval&&(r&&(w.translateX=null,w.translateY=null),Ed(w,L,D,O,S))})}},mw=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),vw=Vt({create:lw,write:gw,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:mw,mixins:{apis:["dragCoordinates"]}}),yw=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(vw)),t.dragCoordinates=null,t.overflowing=!1},bw=({root:e,props:t,action:n})=>{!e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")||(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Ew=({props:e})=>{e.dragCoordinates=null},_w=_n({DID_DRAG:bw,DID_END_DRAG:Ew}),ww=({root:e,props:t,actions:n})=>{if(_w({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},Aw=Vt({create:yw,write:ww,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),tr=(e,t,n,r="")=>{n?Ut(e,t,r):e.removeAttribute(t)},Tw=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Lr("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Sw=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Ut(e.element,"name",e.query("GET_NAME")),Ut(e.element,"aria-controls",`filepond--assistant-${t.id}`),Ut(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Hp({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Wp({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),zp({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),lu({root:e}),Yp({root:e,action:{value:e.query("GET_REQUIRED")}}),qp({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(i=>(i._relativePath=i.webkitRelativePath,i));setTimeout(()=>{t.onload(r),Tw(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Hp=({root:e,action:t})=>{!e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")||tr(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Wp=({root:e,action:t})=>{tr(e.element,"multiple",t.value)},zp=({root:e,action:t})=>{tr(e.element,"webkitdirectory",t.value)},lu=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;tr(e.element,"disabled",r)},Yp=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&tr(e.element,"required",!0):tr(e.element,"required",!1)},qp=({root:e,action:t})=>{tr(e.element,"capture",!!t.value,t.value===!0?"":t.value)},_d=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(tr(t,"required",!1),tr(t,"name",!1)):(tr(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&tr(t,"required",!0))},Iw=({root:e})=>{!e.query("GET_CHECK_VALIDITY")||e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Cw=Vt({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Sw,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:_n({DID_LOAD_ITEM:_d,DID_REMOVE_ITEM:_d,DID_THROW_ITEM_INVALID:Iw,DID_SET_DISABLED:lu,DID_SET_ALLOW_BROWSE:lu,DID_SET_ALLOW_DIRECTORIES_ONLY:zp,DID_SET_ALLOW_MULTIPLE:Wp,DID_SET_ACCEPTED_FILE_TYPES:Hp,DID_SET_CAPTURE_METHOD:qp,DID_SET_REQUIRED:Yp})}),wd={ENTER:13,SPACE:32},Ow=({root:e,props:t})=>{const n=Lr("label");Ut(n,"for",`filepond--browser-${t.id}`),Ut(n,"id",`filepond--drop-label-${t.id}`),Ut(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===wd.ENTER||r.keyCode===wd.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Kp(n,t.caption),e.appendChild(n),e.ref.label=n},Kp=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&Ut(n,"tabindex","0"),t},xw=Vt({name:"drop-label",ignoreRect:!0,create:Ow,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:_n({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Kp(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Rw=Vt({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Dw=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Rw,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},Lw=({root:e,action:t})=>{if(!e.ref.blob){Dw({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},kw=({root:e})=>{!e.ref.blob||(e.ref.blob.opacity=0)},Mw=({root:e})=>{!e.ref.blob||(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Pw=({root:e,props:t,actions:n})=>{Nw({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},Nw=_n({DID_DRAG:Lw,DID_DROP:Mw,DID_END_DRAG:kw}),Fw=Vt({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Pw}),Xp=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},Bw=({root:e})=>e.ref.fields={},Xa=(e,t)=>e.ref.fields[t],uc=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{!e.ref.fields[t.id]||e.element.appendChild(e.ref.fields[t.id])})},Ad=({root:e})=>uc(e),$w=({root:e,action:t})=>{const i=!(e.query("GET_ITEM",t.id).origin===Yt.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),o=Lr("input");o.type=i?"file":"hidden",o.name=e.query("GET_NAME"),o.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=o,uc(e)},Uw=({root:e,action:t})=>{const n=Xa(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Xp(n,[r.file])},jw=({root:e,action:t})=>{!e.query("SHOULD_UPDATE_FILE_INPUT")||setTimeout(()=>{const n=Xa(e,t.id);!n||Xp(n,[t.file])},0)},Vw=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},Gw=({root:e,action:t})=>{const n=Xa(e,t.id);!n||(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},Hw=({root:e,action:t})=>{const n=Xa(e,t.id);!n||(t.value===null?n.removeAttribute("value"):n.value=t.value,uc(e))},Ww=_n({DID_SET_DISABLED:Vw,DID_ADD_ITEM:$w,DID_LOAD_ITEM:Uw,DID_REMOVE_ITEM:Gw,DID_DEFINE_VALUE:Hw,DID_PREPARE_OUTPUT:jw,DID_REORDER_ITEMS:Ad,DID_SORT_ITEMS:Ad}),zw=Vt({tag:"fieldset",name:"data",create:Bw,write:Ww,ignoreRect:!0}),Yw=e=>"getRootNode"in e?e.getRootNode():document,qw=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Kw=["css","csv","html","txt"],Xw={zip:"zip|compressed",epub:"application/epub+zip"},Zp=(e="")=>(e=e.toLowerCase(),qw.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):Kw.includes(e)?"text/"+e:Xw[e]||""),cc=e=>new Promise((t,n)=>{const r=i0(e);if(r.length&&!Zw(e))return t(r);Jw(e).then(t)}),Zw=e=>e.files?e.files.length>0:!1,Jw=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(i=>Qw(i)).map(i=>e0(i));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(i=>{const o=[];i.forEach(s=>{o.push.apply(o,s)}),t(o.filter(s=>s).map(s=>(s._relativePath||(s._relativePath=s.webkitRelativePath),s)))}).catch(console.error)}),Qw=e=>{if(Jp(e)){const t=dc(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},e0=e=>new Promise((t,n)=>{if(r0(e)){t0(dc(e)).then(t).catch(n);return}t([e.getAsFile()])}),t0=e=>new Promise((t,n)=>{const r=[];let i=0,o=0;const s=()=>{o===0&&i===0&&t(r)},a=l=>{i++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){i--,s();return}f.forEach(d=>{d.isDirectory?a(d):(o++,d.file(p=>{const g=n0(p);d.fullPath&&(g._relativePath=d.fullPath),r.push(g),o--,s()}))}),c()},n)};c()};a(e)}),n0=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=Zp(Ka(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},r0=e=>Jp(e)&&(dc(e)||{}).isDirectory,Jp=e=>"webkitGetAsEntry"in e,dc=e=>e.webkitGetAsEntry(),i0=e=>{let t=[];try{if(t=s0(e),t.length)return t;t=o0(e)}catch{}return t},o0=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},s0=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},da=[],Pi=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),a0=(e,t,n)=>{const r=l0(t),i={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return i.destroy=r.addListener(i),i},l0=e=>{const t=da.find(r=>r.element===e);if(t)return t;const n=u0(e);return da.push(n),n},u0=e=>{const t=[],n={dragenter:d0,dragover:f0,dragleave:p0,drop:h0},r={};Pt(n,(o,s)=>{r[o]=s(e,t),e.addEventListener(o,r[o],!1)});const i={element:e,addListener:o=>(t.push(o),()=>{t.splice(t.indexOf(o),1),t.length===0&&(da.splice(da.indexOf(i),1),Pt(n,s=>{e.removeEventListener(s,r[s],!1)}))})};return i},c0=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),fc=(e,t)=>{const n=Yw(t),r=c0(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},Qp=null,Is=(e,t)=>{try{e.dropEffect=t}catch{}},d0=(e,t)=>n=>{n.preventDefault(),Qp=n.target,t.forEach(r=>{const{element:i,onenter:o}=r;fc(n,i)&&(r.state="enter",o(Pi(n)))})},f0=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;cc(r).then(i=>{let o=!1;t.some(s=>{const{filterElement:a,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:d}=s;Is(r,"copy");const p=d(i);if(!p){Is(r,"none");return}if(fc(n,l)){if(o=!0,s.state===null){s.state="enter",u(Pi(n));return}if(s.state="over",a&&!p){Is(r,"none");return}f(Pi(n))}else a&&!o&&Is(r,"none"),s.state&&(s.state=null,c(Pi(n)))})})},h0=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;cc(r).then(i=>{t.forEach(o=>{const{filterElement:s,element:a,ondrop:l,onexit:u,allowdrop:c}=o;if(o.state=null,!(s&&!fc(n,a))){if(!c(i))return u(Pi(n));l(Pi(n),i)}})})},p0=(e,t)=>n=>{Qp===n.target&&t.forEach(r=>{const{onexit:i}=r;r.state=null,i(Pi(n))})},g0=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:i,filterItems:o=c=>c}=n,s=a0(e,r?document.documentElement:e,i);let a="",l="";s.allowdrop=c=>t(o(c)),s.ondrop=(c,f)=>{const d=o(f);if(!t(d)){u.ondragend(c);return}l="drag-drop",u.onload(d,c)},s.ondrag=c=>{u.ondrag(c)},s.onenter=c=>{l="drag-over",u.ondragstart(c)},s.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{s.destroy()}};return u},uu=!1,oo=[],eg=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}cc(e.clipboardData).then(n=>{!n.length||oo.forEach(r=>r(n))})},m0=e=>{oo.includes(e)||(oo.push(e),!uu&&(uu=!0,document.addEventListener("paste",eg)))},v0=e=>{rc(oo,oo.indexOf(e)),oo.length===0&&(document.removeEventListener("paste",eg),uu=!1)},y0=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{v0(e)},onload:()=>{}};return m0(e),t},b0=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Ut(e.element,"role","status"),Ut(e.element,"aria-live","polite"),Ut(e.element,"aria-relevant","additions")},Td=null,Sd=null,vl=[],Za=(e,t)=>{e.element.textContent=t},E0=e=>{e.element.textContent=""},tg=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");Za(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Sd),Sd=setTimeout(()=>{E0(e)},1500)},ng=e=>e.element.parentNode.contains(document.activeElement),_0=({root:e,action:t})=>{if(!ng(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);vl.push(n.filename),clearTimeout(Td),Td=setTimeout(()=>{tg(e,vl.join(", "),e.query("GET_LABEL_FILE_ADDED")),vl.length=0},750)},w0=({root:e,action:t})=>{if(!ng(e))return;const n=t.item;tg(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},A0=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Za(e,`${r} ${i}`)},Id=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Za(e,`${r} ${i}`)},Cs=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;Za(e,`${t.status.main} ${r} ${t.status.sub}`)},T0=Vt({create:b0,ignoreRect:!0,ignoreRectUpdate:!0,write:_n({DID_LOAD_ITEM:_0,DID_REMOVE_ITEM:w0,DID_COMPLETE_ITEM_PROCESSING:A0,DID_ABORT_ITEM_PROCESSING:Id,DID_REVERT_ITEM_PROCESSING:Id,DID_THROW_ITEM_REMOVE_ERROR:Cs,DID_THROW_ITEM_LOAD_ERROR:Cs,DID_THROW_ITEM_INVALID:Cs,DID_THROW_ITEM_PROCESSING_ERROR:Cs}),tag:"span",name:"assistant"}),rg=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),ig=(e,t=16,n=!0)=>{let r=Date.now(),i=null;return(...o)=>{clearTimeout(i);const s=Date.now()-r,a=()=>{r=Date.now(),e(...o)};s<t?n||(i=setTimeout(a,t-s)):a()}},S0=1e6,fa=e=>e.preventDefault(),I0=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(xw,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Aw,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Gp,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(T0,{...t})),e.ref.data=e.appendChildView(e.createChildView(zw,{...t})),e.ref.measure=Lr("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!Dr(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=ig(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,o="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&o&&!i&&(e.element.addEventListener("touchmove",fa,{passive:!1}),e.element.addEventListener("gesturestart",fa));const s=e.query("GET_CREDITS");if(s.length===2){const l=document.createElement("a");l.className="filepond--credits",l.setAttribute("aria-hidden","true"),l.href=s[0],l.tabindex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=s[1],e.element.appendChild(l),e.ref.credits=l}},C0=({root:e,props:t,actions:n})=>{if(L0({root:e,props:t,actions:n}),n.filter(A=>/^DID_SET_STYLE_/.test(A.type)).filter(A=>!Dr(A.data.value)).map(({type:A,data:_})=>{const T=rg(A.substring(8).toLowerCase(),"_");e.element.dataset[T]=_.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=R0(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:i,label:o,list:s,panel:a}=e.ref;i&&i.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||S0:1,d=c===f,p=n.find(A=>A.type==="DID_ADD_ITEM");if(d&&p){const A=p.data.interactionMethod;o.opacity=0,u?o.translateY=-40:A===Hn.API?o.translateX=40:A===Hn.BROWSE?o.translateY=40:o.translateY=30}else d||(o.opacity=1,o.translateX=0,o.translateY=0);const g=O0(e),h=x0(e),v=o.rect.element.height,y=!u||d?0:v,E=d?s.rect.element.marginTop:0,m=c===0?0:s.rect.element.marginBottom,b=y+E+h.visual+m,w=y+E+h.bounds+m;if(s.translateY=Math.max(0,y-s.rect.element.marginTop)-g.top,l){const A=e.rect.element.width,_=A*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const T=e.ref.updateHistory;T.push(A);const C=2;if(T.length>C*2){const D=T.length,O=D-10;let S=0;for(let x=D;x>=O;x--)if(T[x]===T[x-2]&&S++,S>=C)return}a.scalable=!1,a.height=_;const L=_-y-(m-g.bottom)-(d?E:0);h.visual>L?s.overflow=L:s.overflow=null,e.height=_}else if(r.fixedHeight){a.scalable=!1;const A=r.fixedHeight-y-(m-g.bottom)-(d?E:0);h.visual>A?s.overflow=A:s.overflow=null}else if(r.cappedHeight){const A=b>=r.cappedHeight,_=Math.min(r.cappedHeight,b);a.scalable=!0,a.height=A?_:_-g.top-g.bottom;const T=_-y-(m-g.bottom)-(d?E:0);b>r.cappedHeight&&h.visual>T?s.overflow=T:s.overflow=null,e.height=Math.min(r.cappedHeight,w-g.top-g.bottom)}else{const A=c>0?g.top+g.bottom:0;a.scalable=!0,a.height=Math.max(v,b-A),e.height=Math.max(v,w-A)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},O0=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},x0=e=>{let t=0,n=0;const r=e.ref.list,i=r.childViews[0],o=i.childViews.filter(E=>E.rect.element.height),s=e.query("GET_ACTIVE_ITEMS").map(E=>o.find(m=>m.id===E.id)).filter(E=>E);if(s.length===0)return{visual:t,bounds:n};const a=i.rect.element.width,l=lc(i,s,r.dragCoordinates),u=s[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,d=u.width+f,p=u.height+c,g=typeof l<"u"&&l>=0?1:0,h=s.find(E=>E.markedForRemoval&&E.opacity<.45)?-1:0,v=s.length+g+h,y=ac(a,d);return y===1?s.forEach(E=>{const m=E.rect.element.height+c;n+=m,t+=m*E.opacity}):(n=Math.ceil(v/y)*p,t=n),{visual:t,bounds:n}},R0=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},hc=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),i=e.query("GET_TOTAL_ITEMS");let o=e.query("GET_MAX_FILES");const s=t.length;return!r&&s>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ft("warning",0,"Max files")}),!0):(o=r?o:1,!r&&n?!1:To(o)&&i+s>o?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ft("warning",0,"Max files")}),!0):!1)},D0=(e,t,n)=>{const r=e.childViews[0];return lc(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Cd=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const i=g0(e.element,o=>{const s=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?o.every(l=>$i("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&s(l)):!0},{filterItems:o=>{const s=e.query("GET_IGNORED_FILES");return o.filter(a=>mo(a)?!s.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});i.onload=(o,s)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);Qn("ADD_ITEMS",o,{dispatch:e.dispatch}).then(c=>{if(hc(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:D0(e.ref.list,u,s),interactionMethod:Hn.DROP})}),e.dispatch("DID_DROP",{position:s}),e.dispatch("DID_END_DRAG",{position:s})},i.ondragstart=o=>{e.dispatch("DID_START_DRAG",{position:o})},i.ondrag=ig(o=>{e.dispatch("DID_DRAG",{position:o})}),i.ondragend=o=>{e.dispatch("DID_END_DRAG",{position:o})},e.ref.hopper=i,e.ref.drip=e.appendChildView(e.createChildView(Fw))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Od=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),i=n&&!r;i&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Cw,{...t,onload:o=>{Qn("ADD_ITEMS",o,{dispatch:e.dispatch}).then(s=>{if(hc(e,s))return!1;e.dispatch("ADD_ITEMS",{items:s,index:-1,interactionMethod:Hn.BROWSE})})}}),0):!i&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},xd=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=y0(),e.ref.paster.onload=i=>{Qn("ADD_ITEMS",i,{dispatch:e.dispatch}).then(o=>{if(hc(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Hn.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},L0=_n({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Od(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Cd(e)},DID_SET_ALLOW_PASTE:({root:e})=>{xd(e)},DID_SET_DISABLED:({root:e,props:t})=>{Cd(e),xd(e),Od(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),k0=Vt({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:I0,write:C0,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",fa),e.element.removeEventListener("gesturestart",fa)},mixins:{styles:["height"]}}),M0=(e={})=>{let t=null;const n=ca(),r=Zb(NE(n),[e_,$E(n)],[S_,BE(n)]);r.dispatch("SET_OPTIONS",{options:e});const i=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);let o=null,s=!1,a=!1,l=null,u=null;const c=()=>{s||(s=!0),clearTimeout(o),o=setTimeout(()=>{s=!1,l=null,u=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=k0(r,{id:nc()});let d=!1,p=!1;const g={_read:()=>{s&&(u=window.innerWidth,l||(l=u),!a&&u!==l&&(r.dispatch("DID_START_RESIZE"),a=!0)),p&&d&&(d=f.element.offsetParent===null),!d&&(f._read(),p=f.rect.element.hidden)},_write:I=>{const k=r.processActionQueue().filter(M=>!/^SET_/.test(M.type));d&&!k.length||(E(k),d=f._write(I,k,a),VE(r.query("GET_ITEMS")),d&&r.processDispatchQueue())}},h=I=>k=>{const M={type:I};if(!k)return M;if(k.hasOwnProperty("error")&&(M.error=k.error?{...k.error}:null),k.status&&(M.status={...k.status}),k.file&&(M.output=k.file),k.source)M.file=k.source;else if(k.item||k.id){const F=k.item?k.item:r.query("GET_ITEM",k.id);M.file=F?Sn(F):null}return k.items&&(M.items=k.items.map(Sn)),/progress/.test(I)&&(M.progress=k.progress),k.hasOwnProperty("origin")&&k.hasOwnProperty("target")&&(M.origin=k.origin,M.target=k.target),M},v={DID_DESTROY:h("destroy"),DID_INIT:h("init"),DID_THROW_MAX_FILES:h("warning"),DID_INIT_ITEM:h("initfile"),DID_START_ITEM_LOAD:h("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:h("addfileprogress"),DID_LOAD_ITEM:h("addfile"),DID_THROW_ITEM_INVALID:[h("error"),h("addfile")],DID_THROW_ITEM_LOAD_ERROR:[h("error"),h("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[h("error"),h("removefile")],DID_PREPARE_OUTPUT:h("preparefile"),DID_START_ITEM_PROCESSING:h("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:h("processfileprogress"),DID_ABORT_ITEM_PROCESSING:h("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:h("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:h("processfiles"),DID_REVERT_ITEM_PROCESSING:h("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[h("error"),h("processfile")],DID_REMOVE_ITEM:h("removefile"),DID_UPDATE_ITEMS:h("updatefiles"),DID_ACTIVATE_ITEM:h("activatefile"),DID_REORDER_ITEMS:h("reorderfiles")},y=I=>{const k={pond:R,...I};delete k.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${I.type}`,{detail:k,bubbles:!0,cancelable:!0,composed:!0}));const M=[];I.hasOwnProperty("error")&&M.push(I.error),I.hasOwnProperty("file")&&M.push(I.file);const F=["type","error","file"];Object.keys(I).filter(z=>!F.includes(z)).forEach(z=>M.push(I[z])),R.fire(I.type,...M);const j=r.query(`GET_ON${I.type.toUpperCase()}`);j&&j(...M)},E=I=>{!I.length||I.filter(k=>v[k.type]).forEach(k=>{const M=v[k.type];(Array.isArray(M)?M:[M]).forEach(F=>{k.type==="DID_INIT_ITEM"?y(F(k.data)):setTimeout(()=>{y(F(k.data))},0)})})},m=I=>r.dispatch("SET_OPTIONS",{options:I}),b=I=>r.query("GET_ACTIVE_ITEM",I),w=I=>new Promise((k,M)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:I,success:F=>{k(F)},failure:F=>{M(F)}})}),A=(I,k={})=>new Promise((M,F)=>{C([{source:I,options:k}],{index:k.index}).then(j=>M(j&&j[0])).catch(F)}),_=I=>I.file&&I.id,T=(I,k)=>(typeof I=="object"&&!_(I)&&!k&&(k=I,I=void 0),r.dispatch("REMOVE_ITEM",{...k,query:I}),r.query("GET_ACTIVE_ITEM",I)===null),C=(...I)=>new Promise((k,M)=>{const F=[],j={};if(Wa(I[0]))F.push.apply(F,I[0]),Object.assign(j,I[1]||{});else{const z=I[I.length-1];typeof z=="object"&&!(z instanceof Blob)&&Object.assign(j,I.pop()),F.push(...I)}r.dispatch("ADD_ITEMS",{items:F,index:j.index,interactionMethod:Hn.API,success:k,failure:M})}),L=()=>r.query("GET_ACTIVE_ITEMS"),D=I=>new Promise((k,M)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:I,success:F=>{k(F)},failure:F=>{M(F)}})}),O=(...I)=>{const k=Array.isArray(I[0])?I[0]:I,M=k.length?k:L();return Promise.all(M.map(w))},S=(...I)=>{const k=Array.isArray(I[0])?I[0]:I;if(!k.length){const M=L().filter(F=>!(F.status===Ye.IDLE&&F.origin===Yt.LOCAL)&&F.status!==Ye.PROCESSING&&F.status!==Ye.PROCESSING_COMPLETE&&F.status!==Ye.PROCESSING_REVERT_ERROR);return Promise.all(M.map(D))}return Promise.all(k.map(D))},x=(...I)=>{const k=Array.isArray(I[0])?I[0]:I;let M;typeof k[k.length-1]=="object"?M=k.pop():Array.isArray(I[0])&&(M=I[1]);const F=L();return k.length?k.map(z=>Ii(z)?F[z]?F[z].id:null:z).filter(z=>z).map(z=>T(z,M)):Promise.all(F.map(z=>T(z,M)))},R={...qa(),...g,...FE(r,n),setOptions:m,addFile:A,addFiles:C,getFile:b,processFile:D,prepareFile:w,removeFile:T,moveFile:(I,k)=>r.dispatch("MOVE_ITEM",{query:I,index:k}),getFiles:L,processFiles:S,removeFiles:x,prepareFiles:O,sort:I=>r.dispatch("SORT",{compare:I}),browse:()=>{var I=f.element.querySelector("input[type=file]");I&&I.click()},destroy:()=>{R.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:I=>Jc(f.element,I),insertAfter:I=>Qc(f.element,I),appendTo:I=>I.appendChild(f.element),replaceElement:I=>{Jc(f.element,I),I.parentNode.removeChild(I),t=I},restoreElement:()=>{!t||(Qc(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:I=>f.element===I||t===I,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),si(R)},og=(e={})=>{const t={};return Pt(ca(),(r,i)=>{t[r]=i[0]}),M0({...t,...e})},P0=e=>e.charAt(0).toLowerCase()+e.slice(1),N0=e=>rg(e.replace(/^data-/,"")),sg=(e,t)=>{Pt(t,(n,r)=>{Pt(e,(i,o)=>{const s=new RegExp(n);if(!s.test(i)||(delete e[i],r===!1))return;if(yn(r)){e[r]=o;return}const l=r.group;Qt(r)&&!e[l]&&(e[l]={}),e[l][P0(i.replace(s,""))]=o}),r.mapping&&sg(e[r.group],r.mapping)})},F0=(e,t={})=>{const n=[];Pt(e.attributes,i=>{n.push(e.attributes[i])});const r=n.filter(i=>i.name).reduce((i,o)=>{const s=Ut(e,o.name);return i[N0(o.name)]=s===o.name?!0:s,i},{});return sg(r,t),r},B0=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};$i("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},i=F0(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(i).forEach(s=>{Qt(i[s])?(Qt(r[s])||(r[s]={}),Object.assign(r[s],i[s])):r[s]=i[s]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(s=>({source:s.value,options:{type:s.dataset.type}})));const o=og(r);return e.files&&Array.from(e.files).forEach(s=>{o.addFile(s)}),o.replaceElement(e),o},$0=(...e)=>Xb(e[0])?B0(...e):og(...e),U0=["fire","_read","_write"],Rd=e=>{const t={};return Cp(e,t,U0),t},j0=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),V0=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(i,o)=>{},post:(i,o,s)=>{const a=nc();r.onmessage=l=>{l.data.id===a&&o(l.data.message)},r.postMessage({id:a,message:i},s)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},G0=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),ag=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},H0=e=>ag(e,e.name),Dd=[],W0=e=>{if(Dd.includes(e))return;Dd.push(e);const t=e({addFilter:HE,utils:{Type:re,forin:Pt,isString:yn,isFile:mo,toNaturalFileSize:Up,replaceInString:j0,getExtensionFromFilename:Ka,getFilenameWithoutExtension:Fp,guesstimateMimeType:Zp,getFileFromBlob:go,getFilenameFromURL:ps,createRoute:_n,createWorker:V0,createView:Vt,createItemAPI:Sn,loadImage:G0,copyFile:H0,renameFile:ag,createBlob:Mp,applyFilterChain:Qn,text:Bt,getNumericAspectRatioFromString:Rp},views:{fileActionButton:$p}});WE(t.options)},z0=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",Y0=()=>"Promise"in window,q0=()=>"slice"in Blob.prototype,K0=()=>"URL"in window&&"createObjectURL"in window.URL,X0=()=>"visibilityState"in document,Z0=()=>"performance"in window,J0=()=>"supports"in(window.CSS||{}),Q0=()=>/MSIE|Trident/.test(window.navigator.userAgent),cu=(()=>{const e=_p()&&!z0()&&X0()&&Y0()&&q0()&&K0()&&Z0()&&(J0()||Q0());return()=>e})(),Xr={apps:[]},eA="filepond",Ui=()=>{},lg={},ug={},ha={},du={},qo=Ui,Gs=Ui,fu=Ui,hu=Ui,rr=Ui,pu=Ui,gu=Ui;if(cu()){wE(()=>{Xr.apps.forEach(n=>n._read())},n=>{Xr.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:cu,create:qo,destroy:Gs,parse:fu,find:hu,registerPlugin:rr,setOptions:gu}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>Pt(ca(),(n,r)=>{du[n]=r[1]});lg={...Dp},ha={...Yt},ug={...Ye},du={},t(),qo=(...n)=>{const r=$0(...n);return r.on("destroy",Gs),Xr.apps.push(r),Rd(r)},Gs=n=>{const r=Xr.apps.findIndex(i=>i.isAttachedTo(n));return r>=0?(Xr.apps.splice(r,1)[0].restoreElement(),!0):!1},fu=n=>Array.from(n.querySelectorAll(`.${eA}`)).filter(o=>!Xr.apps.find(s=>s.isAttachedTo(o))).map(o=>qo(o)),hu=n=>{const r=Xr.apps.find(i=>i.isAttachedTo(n));return r?Rd(r):null},rr=(...n)=>{n.forEach(W0),t()},pu=()=>{const n={};return Pt(ca(),(r,i)=>{n[r]=i[0]}),n},gu=n=>(Qt(n)&&(Xr.apps.forEach(r=>{r.setOptions(n)}),zE(n)),pu())}/*!
 * FilePondPluginFileValidateSize 2.2.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var cg=({addFilter:e,utils:t})=>{const{Type:n,replaceInString:r,toNaturalFileSize:i}=t;return e("ALLOW_HOPPER_ITEM",(o,{query:s})=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const a=s("GET_MAX_FILE_SIZE");if(a!==null&&o.size>a)return!1;const l=s("GET_MIN_FILE_SIZE");return!(l!==null&&o.size<l)}),e("LOAD_FILE",(o,{query:s})=>new Promise((a,l)=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return a(o);const u=s("GET_FILE_VALIDATE_SIZE_FILTER");if(u&&!u(o))return a(o);const c=s("GET_MAX_FILE_SIZE");if(c!==null&&o.size>c){l({status:{main:s("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MAX_FILE_SIZE"),{filesize:i(c,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const f=s("GET_MIN_FILE_SIZE");if(f!==null&&o.size<f){l({status:{main:s("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MIN_FILE_SIZE"),{filesize:i(f,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const d=s("GET_MAX_TOTAL_FILE_SIZE");if(d!==null&&s("GET_ACTIVE_ITEMS").reduce((g,h)=>g+h.fileSize,0)>d){l({status:{main:s("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(s("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:i(d,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}a(o)})),{options:{allowFileSizeValidation:[!0,n.BOOLEAN],maxFileSize:[null,n.INT],minFileSize:[null,n.INT],maxTotalFileSize:[null,n.INT],fileValidateSizeFilter:[null,n.FUNCTION],labelMinFileSizeExceeded:["File is too small",n.STRING],labelMinFileSize:["Minimum file size is {filesize}",n.STRING],labelMaxFileSizeExceeded:["File is too large",n.STRING],labelMaxFileSize:["Maximum file size is {filesize}",n.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",n.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",n.STRING]}}},tA=typeof window<"u"&&typeof window.document<"u";tA&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:cg}));var nA=cg;/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var dg=({addFilter:e,utils:t})=>{const{Type:n,isString:r,replaceInString:i,guesstimateMimeType:o,getExtensionFromFilename:s,getFilenameFromURL:a}=t,l=(p,g)=>{const h=(/^[^/]+/.exec(p)||[]).pop(),v=g.slice(0,-2);return h===v},u=(p,g)=>p.some(h=>/\*$/.test(h)?l(g,h):h===g),c=p=>{let g="";if(r(p)){const h=a(p),v=s(h);v&&(g=o(v))}else g=p.type;return g},f=(p,g,h)=>{if(g.length===0)return!0;const v=c(p);return h?new Promise((y,E)=>{h(p,v).then(m=>{u(g,m)?y():E()}).catch(E)}):u(g,v)},d=p=>g=>p[g]===null?!1:p[g]||g;return e("SET_ATTRIBUTE_TO_OPTION_MAP",p=>Object.assign(p,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(p,{query:g})=>g("GET_ALLOW_FILE_TYPE_VALIDATION")?f(p,g("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(p,{query:g})=>new Promise((h,v)=>{if(!g("GET_ALLOW_FILE_TYPE_VALIDATION")){h(p);return}const y=g("GET_ACCEPTED_FILE_TYPES"),E=g("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),m=f(p,y,E),b=()=>{const w=y.map(d(g("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(_=>_!==!1),A=w.filter(function(_,T){return w.indexOf(_)===T});v({status:{main:g("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(g("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:A.join(", "),allButLastType:A.slice(0,-1).join(", "),lastType:A[w.length-1]})}})};if(typeof m=="boolean")return m?h(p):b();m.then(()=>{h(p)}).catch(b)})),{options:{allowFileTypeValidation:[!0,n.BOOLEAN],acceptedFileTypes:[[],n.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",n.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",n.STRING],fileValidateTypeLabelExpectedTypesMap:[{},n.OBJECT],fileValidateTypeDetectType:[null,n.FUNCTION]}}},rA=typeof window<"u"&&typeof window.document<"u";rA&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:dg}));var iA=dg;/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var Ld=e=>/^image/.test(e.type),fg=({addFilter:e,utils:t})=>{const{Type:n,isFile:r,getNumericAspectRatioFromString:i}=t,o=(u,c)=>!(!Ld(u.file)||!c("GET_ALLOW_IMAGE_CROP")),s=u=>typeof u=="object",a=u=>typeof u=="number",l=(u,c)=>u.setMetadata("crop",Object.assign({},u.getMetadata("crop"),c));return e("DID_CREATE_ITEM",(u,{query:c})=>{u.extend("setImageCrop",f=>{if(!(!o(u,c)||!s(center)))return u.setMetadata("crop",f),f}),u.extend("setImageCropCenter",f=>{if(!(!o(u,c)||!s(f)))return l(u,{center:f})}),u.extend("setImageCropZoom",f=>{if(!(!o(u,c)||!a(f)))return l(u,{zoom:Math.max(1,f)})}),u.extend("setImageCropRotation",f=>{if(!(!o(u,c)||!a(f)))return l(u,{rotation:f})}),u.extend("setImageCropFlip",f=>{if(!(!o(u,c)||!s(f)))return l(u,{flip:f})}),u.extend("setImageCropAspectRatio",f=>{if(!o(u,c)||typeof f>"u")return;const d=u.getMetadata("crop"),p=i(f),g={center:{x:.5,y:.5},flip:d?Object.assign({},d.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:p};return u.setMetadata("crop",g),g})}),e("DID_LOAD_ITEM",(u,{query:c})=>new Promise((f,d)=>{const p=u.file;if(!r(p)||!Ld(p)||!c("GET_ALLOW_IMAGE_CROP")||u.getMetadata("crop"))return f(u);const h=c("GET_IMAGE_CROP_ASPECT_RATIO");u.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:h?i(h):null}),f(u)})),{options:{allowImageCrop:[!0,n.BOOLEAN],imageCropAspectRatio:[null,n.STRING]}}},oA=typeof window<"u"&&typeof window.document<"u";oA&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:fg}));var sA=fg;/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var aA=e=>/^image\/jpeg/.test(e.type),vi={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},yi=(e,t,n=!1)=>e.getUint16(t,n),kd=(e,t,n=!1)=>e.getUint32(t,n),lA=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=function(i){const o=new DataView(i.target.result);if(yi(o,0)!==vi.JPEG){t(-1);return}const s=o.byteLength;let a=2;for(;a<s;){const l=yi(o,a);if(a+=2,l===vi.APP1){if(kd(o,a+=2)!==vi.EXIF)break;const u=yi(o,a+=6)===vi.TIFF;a+=kd(o,a+4,u);const c=yi(o,a,u);a+=2;for(let f=0;f<c;f++)if(yi(o,a+f*12,u)===vi.Orientation){t(yi(o,a+f*12+8,u));return}}else{if((l&vi.Unknown)!==vi.Unknown)break;a+=yi(o,a)}}t(-1)},r.readAsArrayBuffer(e.slice(0,64*1024))}),uA=(()=>typeof window<"u"&&typeof window.document<"u")(),cA=()=>uA,dA="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=",hg=void 0,Hs=cA()?new Image:{};Hs.onload=()=>hg=Hs.naturalWidth>Hs.naturalHeight;Hs.src=dA;var fA=()=>hg,pg=({addFilter:e,utils:t})=>{const{Type:n,isFile:r}=t;return e("DID_LOAD_ITEM",(i,{query:o})=>new Promise((s,a)=>{const l=i.file;if(!r(l)||!aA(l)||!o("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!fA())return s(i);lA(l).then(u=>{i.setMetadata("exif",{orientation:u}),s(i)})})),{options:{allowImageExifOrientation:[!0,n.BOOLEAN]}}},hA=typeof window<"u"&&typeof window.document<"u";hA&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:pg}));var pA=pg;/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var gA=e=>/^image/.test(e.type),Md=(e,t)=>os(e.x*t,e.y*t),Pd=(e,t)=>os(e.x+t.x,e.y+t.y),mA=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:os(e.x/t,e.y/t)},Os=(e,t,n)=>{const r=Math.cos(t),i=Math.sin(t),o=os(e.x-n.x,e.y-n.y);return os(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},os=(e=0,t=0)=>({x:e,y:t}),In=(e,t,n=1,r)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(r?t[r]:Math.min(t.width,t.height))},vA=(e,t,n)=>{const r=e.borderStyle||e.lineStyle||"solid",i=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",s=In(e.borderWidth||e.lineWidth,t,n),a=e.lineCap||"round",l=e.lineJoin||"round",u=typeof r=="string"?"":r.map(f=>In(f,t,n)).join(","),c=e.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":l,"stroke-width":s||0,"stroke-dasharray":u,stroke:o,fill:i,opacity:c}},jn=e=>e!=null,yA=(e,t,n=1)=>{let r=In(e.x,t,n,"width")||In(e.left,t,n,"width"),i=In(e.y,t,n,"height")||In(e.top,t,n,"height"),o=In(e.width,t,n,"width"),s=In(e.height,t,n,"height"),a=In(e.right,t,n,"width"),l=In(e.bottom,t,n,"height");return jn(i)||(jn(s)&&jn(l)?i=t.height-s-l:i=l),jn(r)||(jn(o)&&jn(a)?r=t.width-o-a:r=a),jn(o)||(jn(r)&&jn(a)?o=t.width-r-a:o=0),jn(s)||(jn(i)&&jn(l)?s=t.height-i-l:s=0),{x:r||0,y:i||0,width:o||0,height:s||0}},bA=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),gr=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),EA="http://www.w3.org/2000/svg",eo=(e,t)=>{const n=document.createElementNS(EA,e);return t&&gr(n,t),n},_A=e=>gr(e,{...e.rect,...e.styles}),wA=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,r=e.rect.width*.5,i=e.rect.height*.5;return gr(e,{cx:t,cy:n,rx:r,ry:i,...e.styles})},AA={contain:"xMidYMid meet",cover:"xMidYMid slice"},TA=(e,t)=>{gr(e,{...e.rect,...e.styles,preserveAspectRatio:AA[t.fit]||"none"})},SA={left:"start",center:"middle",right:"end"},IA=(e,t,n,r)=>{const i=In(t.fontSize,n,r),o=t.fontFamily||"sans-serif",s=t.fontWeight||"normal",a=SA[t.textAlign]||"start";gr(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":s,"font-size":i,"font-family":o,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},CA=(e,t,n,r)=>{gr(e,{...e.rect,...e.styles,fill:"none"});const i=e.childNodes[0],o=e.childNodes[1],s=e.childNodes[2],a=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(gr(i,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!t.lineDecoration)return;o.style.display="none",s.style.display="none";const u=mA({x:l.x-a.x,y:l.y-a.y}),c=In(.05,n,r);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const f=Md(u,c),d=Pd(a,f),p=Os(a,2,d),g=Os(a,-2,d);gr(o,{style:"display:block;",d:`M${p.x},${p.y} L${a.x},${a.y} L${g.x},${g.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const f=Md(u,-c),d=Pd(l,f),p=Os(l,2,d),g=Os(l,-2,d);gr(s,{style:"display:block;",d:`M${p.x},${p.y} L${l.x},${l.y} L${g.x},${g.y}`})}},OA=(e,t,n,r)=>{gr(e,{...e.styles,fill:"none",d:bA(t.points.map(i=>({x:In(i.x,n,r,"width"),y:In(i.y,n,r,"height")})))})},xs=e=>t=>eo(e,{id:t.id}),xA=e=>{const t=eo("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},RA=e=>{const t=eo("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=eo("line");t.appendChild(n);const r=eo("path");t.appendChild(r);const i=eo("path");return t.appendChild(i),t},DA={image:xA,rect:xs("rect"),ellipse:xs("ellipse"),text:xs("text"),path:xs("path"),line:RA},LA={rect:_A,ellipse:wA,image:TA,text:IA,path:OA,line:CA},kA=(e,t)=>DA[e](t),MA=(e,t,n,r,i)=>{t!=="path"&&(e.rect=yA(n,r,i)),e.styles=vA(n,r,i),LA[t](e,n,r,i)},PA=["x","y","left","top","right","bottom","width","height"],NA=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,FA=e=>{const[t,n]=e,r=n.points?{}:PA.reduce((i,o)=>(i[o]=NA(n[o]),i),{});return[t,{zIndex:0,...n,...r}]},BA=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,$A=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:n})=>{if(!n.dirty)return;const{crop:r,resize:i,markup:o}=n,s=n.width,a=n.height;let l=r.width,u=r.height;if(i){const{size:p}=i;let g=p&&p.width,h=p&&p.height;const v=i.mode,y=i.upscale;g&&!h&&(h=g),h&&!g&&(g=h);const E=l<g&&u<h;if(!E||E&&y){let m=g/l,b=h/u;if(v==="force")l=g,u=h;else{let w;v==="cover"?w=Math.max(m,b):v==="contain"&&(w=Math.min(m,b)),l=l*w,u=u*w}}}const c={width:s,height:a};t.element.setAttribute("width",c.width),t.element.setAttribute("height",c.height);const f=Math.min(s/l,a/u);t.element.innerHTML="";const d=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(d).map(FA).sort(BA).forEach(p=>{const[g,h]=p,v=kA(g,h);MA(v,g,h,c,f),t.element.appendChild(v)})}}),Ko=(e,t)=>({x:e,y:t}),UA=(e,t)=>e.x*t.x+e.y*t.y,Nd=(e,t)=>Ko(e.x-t.x,e.y-t.y),jA=(e,t)=>UA(Nd(e,t),Nd(e,t)),Fd=(e,t)=>Math.sqrt(jA(e,t)),Bd=(e,t)=>{const n=e,r=1.5707963267948966,i=t,o=1.5707963267948966-t,s=Math.sin(r),a=Math.sin(i),l=Math.sin(o),u=Math.cos(o),c=n/s,f=c*a,d=c*l;return Ko(u*f,u*d)},VA=(e,t)=>{const n=e.width,r=e.height,i=Bd(n,t),o=Bd(r,t),s=Ko(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),a=Ko(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=Ko(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:Fd(s,a),height:Fd(s,l)}},GA=(e,t,n=1)=>{const r=e.height/e.width;let i=1,o=t,s=1,a=r;a>o&&(a=o,s=a/r);const l=Math.max(i/s,o/a),u=e.width/(n*l*s),c=u*t;return{width:u,height:c}},gg=(e,t,n,r)=>{const i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,s=i*2*e.width,a=o*2*e.height,l=VA(t,n);return Math.max(l.width/s,l.height/a)},mg=(e,t)=>{let n=e.width,r=n*t;r>e.height&&(r=e.height,n=r/t);const i=(e.width-n)*.5,o=(e.height-r)*.5;return{x:i,y:o,width:n,height:r}},HA=(e,t={})=>{let{zoom:n,rotation:r,center:i,aspectRatio:o}=t;o||(o=e.height/e.width);const s=GA(e,o,n),a={x:s.width*.5,y:s.height*.5},l={x:0,y:0,width:s.width,height:s.height,center:a},u=typeof t.scaleToFit>"u"||t.scaleToFit,c=gg(e,mg(l,o),r,u?i:{x:.5,y:.5}),f=n*c;return{widthFloat:s.width/f,heightFloat:s.height/f,width:Math.round(s.width/f),height:Math.round(s.height/f)}},hr={type:"spring",stiffness:.5,damping:.45,mass:10},WA=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:n})=>{t.appendChild(n.image)}}),zA=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:hr,originY:hr,scaleX:hr,scaleY:hr,translateX:hr,translateY:hr,rotateZ:hr}},create:({root:t,props:n})=>{n.width=n.image.width,n.height=n.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(WA(e),{image:n.image}))},write:({root:t,props:n})=>{const{flip:r}=n.crop,{bitmap:i}=t.ref;i.scaleX=r.horizontal?-1:1,i.scaleY=r.vertical?-1:1}}),YA=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:n}){!n.background||(t.element.style.backgroundColor=n.background)},create:({root:t,props:n})=>{t.ref.image=t.appendChildView(t.createChildView(zA(e),Object.assign({},n))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView($A(e),Object.assign({},n))))},t.ref.destroyMarkup=()=>{!t.ref.markup||(t.removeChildView(t.ref.markup),t.ref.markup=null)};const r=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");r!==null&&(r==="grid"?t.element.dataset.transparencyIndicator=r:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:n,shouldOptimize:r})=>{const{crop:i,markup:o,resize:s,dirty:a,width:l,height:u}=n;t.ref.image.crop=i;const c={x:0,y:0,width:l,height:u,center:{x:l*.5,y:u*.5}},f={width:t.ref.image.width,height:t.ref.image.height},d={x:i.center.x*f.width,y:i.center.y*f.height},p={x:c.center.x-f.width*i.center.x,y:c.center.y-f.height*i.center.y},g=Math.PI*2+i.rotation%(Math.PI*2),h=i.aspectRatio||f.height/f.width,v=typeof i.scaleToFit>"u"||i.scaleToFit,y=gg(f,mg(c,h),g,v?i.center:{x:.5,y:.5}),E=i.zoom*y;o&&o.length?(t.ref.createMarkup(),t.ref.markup.width=l,t.ref.markup.height=u,t.ref.markup.resize=s,t.ref.markup.dirty=a,t.ref.markup.markup=o,t.ref.markup.crop=HA(f,i)):t.ref.markup&&t.ref.destroyMarkup();const m=t.ref.image;if(r){m.originX=null,m.originY=null,m.translateX=null,m.translateY=null,m.rotateZ=null,m.scaleX=null,m.scaleY=null;return}m.originX=d.x,m.originY=d.y,m.translateX=p.x,m.translateY=p.y,m.rotateZ=g,m.scaleX=E,m.scaleY=E}}),qA=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:hr,scaleY:hr,translateY:hr,opacity:{type:"tween",duration:400}}},create:({root:t,props:n})=>{t.ref.clip=t.appendChildView(t.createChildView(YA(e),{id:n.id,image:n.image,crop:n.crop,markup:n.markup,resize:n.resize,dirty:n.dirty,background:n.background}))},write:({root:t,props:n,shouldOptimize:r})=>{const{clip:i}=t.ref,{image:o,crop:s,markup:a,resize:l,dirty:u}=n;if(i.crop=s,i.markup=a,i.resize=l,i.dirty=u,i.opacity=r?0:1,r||t.rect.element.hidden)return;const c=o.height/o.width;let f=s.aspectRatio||c;const d=t.rect.inner.width,p=t.rect.inner.height;let g=t.query("GET_IMAGE_PREVIEW_HEIGHT");const h=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),v=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),y=t.query("GET_PANEL_ASPECT_RATIO"),E=t.query("GET_ALLOW_MULTIPLE");y&&!E&&(g=d*y,f=y);let m=g!==null?g:Math.max(h,Math.min(d*f,v)),b=m/f;b>d&&(b=d,m=b*f),m>p&&(m=p,b=p/f),i.width=b,i.height=m}}),KA=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,$d=0,XA=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{let r=KA;if(document.querySelector("base")){const i=new URL(window.location.href.replace(window.location.hash,"")).href;r=r.replace(/url\(\#/g,"url("+i+"#")}$d++,t.element.classList.add(`filepond--image-preview-overlay-${n.status}`),t.element.innerHTML=r.replace(/__UID__/g,$d)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),ZA=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},JA=function(){self.onmessage=e=>{const t=e.data.message.imageData,n=e.data.message.colorMatrix,r=t.data,i=r.length,o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],f=n[6],d=n[7],p=n[8],g=n[9],h=n[10],v=n[11],y=n[12],E=n[13],m=n[14],b=n[15],w=n[16],A=n[17],_=n[18],T=n[19];let C=0,L=0,D=0,O=0,S=0;for(;C<i;C+=4)L=r[C]/255,D=r[C+1]/255,O=r[C+2]/255,S=r[C+3]/255,r[C]=Math.max(0,Math.min((L*o+D*s+O*a+S*l+u)*255,255)),r[C+1]=Math.max(0,Math.min((L*c+D*f+O*d+S*p+g)*255,255)),r[C+2]=Math.max(0,Math.min((L*h+D*v+O*y+S*E+m)*255,255)),r[C+3]=Math.max(0,Math.min((L*b+D*w+O*A+S*_+T)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},QA=(e,t)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,i=n.naturalHeight;n=null,t(r,i)},n.src=e},eT={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},tT=(e,t,n,r)=>{r!==-1&&e.transform.apply(e,eT[r](t,n))},nT=(e,t,n,r)=>{t=Math.round(t),n=Math.round(n);const i=document.createElement("canvas");i.width=t,i.height=n;const o=i.getContext("2d");return r>=5&&r<=8&&([t,n]=[n,t]),tT(o,t,n,r),o.drawImage(e,0,0,t,n),i},vg=e=>/^image/.test(e.type)&&!/svg/.test(e.type),rT=10,iT=10,oT=e=>{const t=Math.min(rT/e.width,iT/e.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(e.width*t),o=n.height=Math.ceil(e.height*t);r.drawImage(e,0,0,i,o);let s=null;try{s=r.getImageData(0,0,i,o).data}catch{return null}const a=s.length;let l=0,u=0,c=0,f=0;for(;f<a;f+=4)l+=s[f]*s[f],u+=s[f+1]*s[f+1],c+=s[f+2]*s[f+2];return l=yl(l,a),u=yl(u,a),c=yl(c,a),{r:l,g:u,b:c}},yl=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),sT=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),aT=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},lT=e=>new Promise((t,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),uT=e=>{const t=XA(e),n=qA(e),{createWorker:r}=e.utils,i=(E,m,b)=>new Promise(w=>{E.ref.imageData||(E.ref.imageData=b.getContext("2d").getImageData(0,0,b.width,b.height));const A=aT(E.ref.imageData);if(!m||m.length!==20)return b.getContext("2d").putImageData(A,0,0),w();const _=r(JA);_.post({imageData:A,colorMatrix:m},T=>{b.getContext("2d").putImageData(T,0,0),_.terminate(),w()},[A.data.buffer])}),o=(E,m)=>{E.removeChildView(m),m.image.width=1,m.image.height=1,m._destroy()},s=({root:E})=>{const m=E.ref.images.shift();return m.opacity=0,m.translateY=-15,E.ref.imageViewBin.push(m),m},a=({root:E,props:m,image:b})=>{const w=m.id,A=E.query("GET_ITEM",{id:w});if(!A)return;const _=A.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},T=E.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let C,L,D=!1;E.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(C=A.getMetadata("markup")||[],L=A.getMetadata("resize"),D=!0);const O=E.appendChildView(E.createChildView(n,{id:w,image:b,crop:_,resize:L,markup:C,dirty:D,background:T,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),E.childViews.length);E.ref.images.push(O),O.opacity=1,O.scaleX=1,O.scaleY=1,O.translateY=0,setTimeout(()=>{E.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:w})},250)},l=({root:E,props:m})=>{const b=E.query("GET_ITEM",{id:m.id});if(!b)return;const w=E.ref.images[E.ref.images.length-1];w.crop=b.getMetadata("crop"),w.background=E.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),E.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(w.dirty=!0,w.resize=b.getMetadata("resize"),w.markup=b.getMetadata("markup"))},u=({root:E,props:m,action:b})=>{if(!/crop|filter|markup|resize/.test(b.change.key)||!E.ref.images.length)return;const w=E.query("GET_ITEM",{id:m.id});if(!!w){if(/filter/.test(b.change.key)){const A=E.ref.images[E.ref.images.length-1];i(E,b.change.value,A.image);return}if(/crop|markup|resize/.test(b.change.key)){const A=w.getMetadata("crop"),_=E.ref.images[E.ref.images.length-1];if(A&&A.aspectRatio&&_.crop&&_.crop.aspectRatio&&Math.abs(A.aspectRatio-_.crop.aspectRatio)>1e-5){const T=s({root:E});a({root:E,props:m,image:sT(T.image)})}else l({root:E,props:m})}}},c=E=>{const b=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(b?parseInt(b[1]):null)<=58?!1:"createImageBitmap"in window&&vg(E)},f=({root:E,props:m})=>{const{id:b}=m,w=E.query("GET_ITEM",b);if(!w)return;const A=URL.createObjectURL(w.file);QA(A,(_,T)=>{E.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:b,width:_,height:T})})},d=({root:E,props:m})=>{const{id:b}=m,w=E.query("GET_ITEM",b);if(!w)return;const A=URL.createObjectURL(w.file),_=()=>{lT(A).then(T)},T=C=>{URL.revokeObjectURL(A);const D=(w.getMetadata("exif")||{}).orientation||-1;let{width:O,height:S}=C;if(!O||!S)return;D>=5&&D<=8&&([O,S]=[S,O]);const x=Math.max(1,window.devicePixelRatio*.75),I=E.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*x,k=S/O,M=E.rect.element.width,F=E.rect.element.height;let j=M,z=j*k;k>1?(j=Math.min(O,M*I),z=j*k):(z=Math.min(S,F*I),j=z/k);const ce=nT(C,j,z,D),ie=()=>{const _e=E.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?oT(data):null;w.setMetadata("color",_e,!0),"close"in C&&C.close(),E.ref.overlayShadow.opacity=1,a({root:E,props:m,image:ce})},de=w.getMetadata("filter");de?i(E,de,ce).then(ie):ie()};if(c(w.file)){const C=r(ZA);C.post({file:w.file},L=>{if(C.terminate(),!L){_();return}T(L)})}else _()},p=({root:E})=>{const m=E.ref.images[E.ref.images.length-1];m.translateY=0,m.scaleX=1,m.scaleY=1,m.opacity=1},g=({root:E})=>{E.ref.overlayShadow.opacity=1,E.ref.overlayError.opacity=0,E.ref.overlaySuccess.opacity=0},h=({root:E})=>{E.ref.overlayShadow.opacity=.25,E.ref.overlayError.opacity=1},v=({root:E})=>{E.ref.overlayShadow.opacity=.25,E.ref.overlaySuccess.opacity=1},y=({root:E})=>{E.ref.images=[],E.ref.imageData=null,E.ref.imageViewBin=[],E.ref.overlayShadow=E.appendChildView(E.createChildView(t,{opacity:0,status:"idle"})),E.ref.overlaySuccess=E.appendChildView(E.createChildView(t,{opacity:0,status:"success"})),E.ref.overlayError=E.appendChildView(E.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:({root:E})=>{E.ref.images.forEach(m=>{m.image.width=1,m.image.height=1})},didWriteView:({root:E})=>{E.ref.images.forEach(m=>{m.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:p,DID_IMAGE_PREVIEW_CONTAINER_CREATE:f,DID_FINISH_CALCULATE_PREVIEWSIZE:d,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:h,DID_THROW_ITEM_PROCESSING_ERROR:h,DID_THROW_ITEM_INVALID:h,DID_COMPLETE_ITEM_PROCESSING:v,DID_START_ITEM_PROCESSING:g,DID_REVERT_ITEM_PROCESSING:g},({root:E})=>{const m=E.ref.imageViewBin.filter(b=>b.opacity===0);E.ref.imageViewBin=E.ref.imageViewBin.filter(b=>b.opacity>0),m.forEach(b=>o(E,b)),m.length=0})})},yg=e=>{const{addFilter:t,utils:n}=e,{Type:r,createRoute:i,isFile:o}=n,s=uT(e);return t("CREATE_VIEW",a=>{const{is:l,view:u,query:c}=a;if(!l("file")||!c("GET_ALLOW_IMAGE_PREVIEW"))return;const f=({root:v,props:y})=>{const{id:E}=y,m=c("GET_ITEM",E);if(!m||!o(m.file)||m.archived)return;const b=m.file;if(!gA(b)||!c("GET_IMAGE_PREVIEW_FILTER_ITEM")(m))return;const w="createImageBitmap"in(window||{}),A=c("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!w&&A&&b.size>A)return;v.ref.imagePreview=u.appendChildView(u.createChildView(s,{id:E}));const _=v.query("GET_IMAGE_PREVIEW_HEIGHT");_&&v.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:m.id,height:_});const T=!w&&b.size>c("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");v.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:E},T)},d=(v,y)=>{if(!v.ref.imagePreview)return;let{id:E}=y;const m=v.query("GET_ITEM",{id:E});if(!m)return;const b=v.query("GET_PANEL_ASPECT_RATIO"),w=v.query("GET_ITEM_PANEL_ASPECT_RATIO"),A=v.query("GET_IMAGE_PREVIEW_HEIGHT");if(b||w||A)return;let{imageWidth:_,imageHeight:T}=v.ref;if(!_||!T)return;const C=v.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),L=v.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),O=(m.getMetadata("exif")||{}).orientation||-1;if(O>=5&&O<=8&&([_,T]=[T,_]),!vg(m.file)||v.query("GET_IMAGE_PREVIEW_UPSCALE")){const M=2048/_;_*=M,T*=M}const S=T/_,x=(m.getMetadata("crop")||{}).aspectRatio||S;let R=Math.max(C,Math.min(T,L));const I=v.rect.element.width,k=Math.min(I*x,R);v.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:m.id,height:k})},p=({root:v})=>{v.ref.shouldRescale=!0},g=({root:v,action:y})=>{y.change.key==="crop"&&(v.ref.shouldRescale=!0)},h=({root:v,action:y})=>{v.ref.imageWidth=y.width,v.ref.imageHeight=y.height,v.ref.shouldRescale=!0,v.ref.shouldDrawPreview=!0,v.dispatch("KICK")};u.registerWriter(i({DID_RESIZE_ROOT:p,DID_STOP_RESIZE:p,DID_LOAD_ITEM:f,DID_IMAGE_PREVIEW_CALCULATE_SIZE:h,DID_UPDATE_ITEM_METADATA:g},({root:v,props:y})=>{!v.ref.imagePreview||v.rect.element.hidden||(v.ref.shouldRescale&&(d(v,y),v.ref.shouldRescale=!1),v.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{v.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:y.id})})}),v.ref.shouldDrawPreview=!1))}))}),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[()=>!0,r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,r.FUNCTION]}}},cT=typeof window<"u"&&typeof window.document<"u";cT&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:yg}));var dT=yg;/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var fT=e=>/^image/.test(e.type),hT=(e,t)=>{let n=new Image;n.onload=()=>{const r=n.naturalWidth,i=n.naturalHeight;n=null,t({width:r,height:i})},n.onerror=()=>t(null),n.src=e},bg=({addFilter:e,utils:t})=>{const{Type:n}=t;return e("DID_LOAD_ITEM",(r,{query:i})=>new Promise((o,s)=>{const a=r.file;if(!fT(a)||!i("GET_ALLOW_IMAGE_RESIZE"))return o(r);const l=i("GET_IMAGE_RESIZE_MODE"),u=i("GET_IMAGE_RESIZE_TARGET_WIDTH"),c=i("GET_IMAGE_RESIZE_TARGET_HEIGHT"),f=i("GET_IMAGE_RESIZE_UPSCALE");if(u===null&&c===null)return o(r);const d=u===null?c:u,p=c===null?d:c,g=URL.createObjectURL(a);hT(g,h=>{if(URL.revokeObjectURL(g),!h)return o(r);let{width:v,height:y}=h;const E=(r.getMetadata("exif")||{}).orientation||-1;if(E>=5&&E<=8&&([v,y]=[y,v]),v===d&&y===p)return o(r);if(!f){if(l==="cover"){if(v<=d||y<=p)return o(r)}else if(v<=d&&y<=d)return o(r)}r.setMetadata("resize",{mode:l,upscale:f,size:{width:d,height:p}}),o(r)})})),{options:{allowImageResize:[!0,n.BOOLEAN],imageResizeMode:["cover",n.STRING],imageResizeUpscale:[!0,n.BOOLEAN],imageResizeTargetWidth:[null,n.INT],imageResizeTargetHeight:[null,n.INT]}}},pT=typeof window<"u"&&typeof window.document<"u";pT&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:bg}));var gT=bg;/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */var mT=e=>/^image/.test(e.type),vT=e=>e.substr(0,e.lastIndexOf("."))||e,yT={jpeg:"jpg","svg+xml":"svg"},bT=(e,t)=>{const n=vT(e),r=t.split("/")[1],i=yT[r]||r;return`${n}.${i}`},ET=e=>/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg",_T=e=>/^image/.test(e.type),wT={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},AT=(e,t,n)=>(n===-1&&(n=1),wT[n](e,t)),Xo=(e,t)=>({x:e,y:t}),TT=(e,t)=>e.x*t.x+e.y*t.y,Ud=(e,t)=>Xo(e.x-t.x,e.y-t.y),ST=(e,t)=>TT(Ud(e,t),Ud(e,t)),jd=(e,t)=>Math.sqrt(ST(e,t)),Vd=(e,t)=>{const n=e,r=1.5707963267948966,i=t,o=1.5707963267948966-t,s=Math.sin(r),a=Math.sin(i),l=Math.sin(o),u=Math.cos(o),c=n/s,f=c*a,d=c*l;return Xo(u*f,u*d)},IT=(e,t)=>{const n=e.width,r=e.height,i=Vd(n,t),o=Vd(r,t),s=Xo(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),a=Xo(e.x+e.width+Math.abs(o.y),e.y+Math.abs(o.x)),l=Xo(e.x-Math.abs(o.y),e.y+e.height-Math.abs(o.x));return{width:jd(s,a),height:jd(s,l)}},Eg=(e,t,n=0,r={x:.5,y:.5})=>{const i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,s=i*2*e.width,a=o*2*e.height,l=IT(t,n);return Math.max(l.width/s,l.height/a)},_g=(e,t)=>{let n=e.width,r=n*t;r>e.height&&(r=e.height,n=r/t);const i=(e.width-n)*.5,o=(e.height-r)*.5;return{x:i,y:o,width:n,height:r}},Gd=(e,t,n=1)=>{const r=e.height/e.width;let i=1,o=t,s=1,a=r;a>o&&(a=o,s=a/r);const l=Math.max(i/s,o/a),u=e.width/(n*l*s),c=u*t;return{width:u,height:c}},wg=e=>{e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},Hd=e=>e&&(e.horizontal||e.vertical),CT=(e,t,n)=>{if(t<=1&&!Hd(n))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;const r=document.createElement("canvas"),i=e.naturalWidth,o=e.naturalHeight,s=t>=5&&t<=8;s?(r.width=o,r.height=i):(r.width=i,r.height=o);const a=r.getContext("2d");if(t&&a.transform.apply(a,AT(i,o,t)),Hd(n)){const l=[1,0,0,1,0,0];(!s&&n.horizontal||s&n.vertical)&&(l[0]=-1,l[4]=i),(!s&&n.vertical||s&&n.horizontal)&&(l[3]=-1,l[5]=o),a.transform(...l)}return a.drawImage(e,0,0,i,o),r},OT=(e,t,n={},r={})=>{const{canvasMemoryLimit:i,background:o=null}=r,s=n.zoom||1,a=CT(e,t,n.flip),l={width:a.width,height:a.height},u=n.aspectRatio||l.height/l.width;let c=Gd(l,u,s);if(i){const m=c.width*c.height;if(m>i){const b=Math.sqrt(i)/Math.sqrt(m);l.width=Math.floor(l.width*b),l.height=Math.floor(l.height*b),c=Gd(l,u,s)}}const f=document.createElement("canvas"),d={x:c.width*.5,y:c.height*.5},p={x:0,y:0,width:c.width,height:c.height,center:d},g=typeof n.scaleToFit>"u"||n.scaleToFit,h=s*Eg(l,_g(p,u),n.rotation,g?n.center:{x:.5,y:.5});f.width=Math.round(c.width/h),f.height=Math.round(c.height/h),d.x/=h,d.y/=h;const v={x:d.x-l.width*(n.center?n.center.x:.5),y:d.y-l.height*(n.center?n.center.y:.5)},y=f.getContext("2d");o&&(y.fillStyle=o,y.fillRect(0,0,f.width,f.height)),y.translate(d.x,d.y),y.rotate(n.rotation||0),y.drawImage(a,v.x-d.x,v.y-d.y,l.width,l.height);const E=y.getImageData(0,0,f.width,f.height);return wg(f),E},xT=(()=>typeof window<"u"&&typeof window.document<"u")();xT&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){var r=this.toDataURL(t,n).split(",")[1];setTimeout(function(){for(var i=atob(r),o=i.length,s=new Uint8Array(o),a=0;a<o;a++)s[a]=i.charCodeAt(a);e(new Blob([s],{type:t||"image/png"}))})}}));var RT=(e,t,n=null)=>new Promise(r=>{const i=n?n(e):e;Promise.resolve(i).then(o=>{o.toBlob(r,t.type,t.quality)})}),pa=(e,t)=>ss(e.x*t,e.y*t),ga=(e,t)=>ss(e.x+t.x,e.y+t.y),Ag=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:ss(e.x/t,e.y/t)},ii=(e,t,n)=>{const r=Math.cos(t),i=Math.sin(t),o=ss(e.x-n.x,e.y-n.y);return ss(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},ss=(e=0,t=0)=>({x:e,y:t}),rn=(e,t,n=1,r)=>{if(typeof e=="string")return parseFloat(e)*n;if(typeof e=="number")return e*(r?t[r]:Math.min(t.width,t.height))},ji=(e,t,n)=>{const r=e.borderStyle||e.lineStyle||"solid",i=e.backgroundColor||e.fontColor||"transparent",o=e.borderColor||e.lineColor||"transparent",s=rn(e.borderWidth||e.lineWidth,t,n),a=e.lineCap||"round",l=e.lineJoin||"round",u=typeof r=="string"?"":r.map(f=>rn(f,t,n)).join(","),c=e.opacity||1;return{"stroke-linecap":a,"stroke-linejoin":l,"stroke-width":s||0,"stroke-dasharray":u,stroke:o,fill:i,opacity:c}},Vn=e=>e!=null,So=(e,t,n=1)=>{let r=rn(e.x,t,n,"width")||rn(e.left,t,n,"width"),i=rn(e.y,t,n,"height")||rn(e.top,t,n,"height"),o=rn(e.width,t,n,"width"),s=rn(e.height,t,n,"height"),a=rn(e.right,t,n,"width"),l=rn(e.bottom,t,n,"height");return Vn(i)||(Vn(s)&&Vn(l)?i=t.height-s-l:i=l),Vn(r)||(Vn(o)&&Vn(a)?r=t.width-o-a:r=a),Vn(o)||(Vn(r)&&Vn(a)?o=t.width-r-a:o=0),Vn(s)||(Vn(i)&&Vn(l)?s=t.height-i-l:s=0),{x:r||0,y:i||0,width:o||0,height:s||0}},DT=e=>e.map((t,n)=>`${n===0?"M":"L"} ${t.x} ${t.y}`).join(" "),mr=(e,t)=>Object.keys(t).forEach(n=>e.setAttribute(n,t[n])),LT="http://www.w3.org/2000/svg",to=(e,t)=>{const n=document.createElementNS(LT,e);return t&&mr(n,t),n},kT=e=>mr(e,{...e.rect,...e.styles}),MT=e=>{const t=e.rect.x+e.rect.width*.5,n=e.rect.y+e.rect.height*.5,r=e.rect.width*.5,i=e.rect.height*.5;return mr(e,{cx:t,cy:n,rx:r,ry:i,...e.styles})},PT={contain:"xMidYMid meet",cover:"xMidYMid slice"},NT=(e,t)=>{mr(e,{...e.rect,...e.styles,preserveAspectRatio:PT[t.fit]||"none"})},FT={left:"start",center:"middle",right:"end"},BT=(e,t,n,r)=>{const i=rn(t.fontSize,n,r),o=t.fontFamily||"sans-serif",s=t.fontWeight||"normal",a=FT[t.textAlign]||"start";mr(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":s,"font-size":i,"font-family":o,"text-anchor":a}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},$T=(e,t,n,r)=>{mr(e,{...e.rect,...e.styles,fill:"none"});const i=e.childNodes[0],o=e.childNodes[1],s=e.childNodes[2],a=e.rect,l={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(mr(i,{x1:a.x,y1:a.y,x2:l.x,y2:l.y}),!t.lineDecoration)return;o.style.display="none",s.style.display="none";const u=Ag({x:l.x-a.x,y:l.y-a.y}),c=rn(.05,n,r);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const f=pa(u,c),d=ga(a,f),p=ii(a,2,d),g=ii(a,-2,d);mr(o,{style:"display:block;",d:`M${p.x},${p.y} L${a.x},${a.y} L${g.x},${g.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const f=pa(u,-c),d=ga(l,f),p=ii(l,2,d),g=ii(l,-2,d);mr(s,{style:"display:block;",d:`M${p.x},${p.y} L${l.x},${l.y} L${g.x},${g.y}`})}},UT=(e,t,n,r)=>{mr(e,{...e.styles,fill:"none",d:DT(t.points.map(i=>({x:rn(i.x,n,r,"width"),y:rn(i.y,n,r,"height")})))})},Rs=e=>t=>to(e,{id:t.id}),jT=e=>{const t=to("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},VT=e=>{const t=to("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=to("line");t.appendChild(n);const r=to("path");t.appendChild(r);const i=to("path");return t.appendChild(i),t},GT={image:jT,rect:Rs("rect"),ellipse:Rs("ellipse"),text:Rs("text"),path:Rs("path"),line:VT},HT={rect:kT,ellipse:MT,image:NT,text:BT,path:UT,line:$T},WT=(e,t)=>GT[e](t),zT=(e,t,n,r,i)=>{t!=="path"&&(e.rect=So(n,r,i)),e.styles=ji(n,r,i),HT[t](e,n,r,i)},Tg=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,YT=(e,t={},n,r)=>new Promise(i=>{const{background:o=null}=r,s=new FileReader;s.onloadend=()=>{const a=s.result,l=document.createElement("div");l.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",l.innerHTML=a;const u=l.querySelector("svg");document.body.appendChild(l);const c=u.getBBox();l.parentNode.removeChild(l);const f=l.querySelector("title"),d=u.getAttribute("viewBox")||"",p=u.getAttribute("width")||"",g=u.getAttribute("height")||"";let h=parseFloat(p)||null,v=parseFloat(g)||null;const y=(p.match(/[a-z]+/)||[])[0]||"",E=(g.match(/[a-z]+/)||[])[0]||"",m=d.split(" ").map(parseFloat),b=m.length?{x:m[0],y:m[1],width:m[2],height:m[3]}:c;let w=h!=null?h:b.width,A=v!=null?v:b.height;u.style.overflow="visible",u.setAttribute("width",w),u.setAttribute("height",A);let _="";if(n&&n.length){const de={width:w,height:A};_=n.sort(Tg).reduce((_e,ae)=>{const we=WT(ae[0],ae[1]);return zT(we,ae[0],ae[1],de),we.removeAttribute("id"),we.getAttribute("opacity")===1&&we.removeAttribute("opacity"),_e+`
`+we.outerHTML+`
`},""),_=`

<g>${_.replace(/&nbsp;/g," ")}</g>

`}const T=t.aspectRatio||A/w,C=w,L=C*T,D=typeof t.scaleToFit>"u"||t.scaleToFit,O=t.center?t.center.x:.5,S=t.center?t.center.y:.5,x=Eg({width:w,height:A},_g({width:C,height:L},T),t.rotation,D?{x:O,y:S}:{x:.5,y:.5}),R=t.zoom*x,I=t.rotation*(180/Math.PI),k={x:C*.5,y:L*.5},M={x:k.x-w*O,y:k.y-A*S},F=[`rotate(${I} ${k.x} ${k.y})`,`translate(${k.x} ${k.y})`,`scale(${R})`,`translate(${-k.x} ${-k.y})`,`translate(${M.x} ${M.y})`],j=t.flip&&t.flip.horizontal,z=t.flip&&t.flip.vertical,ce=[`scale(${j?-1:1} ${z?-1:1})`,`translate(${j?-w:0} ${z?-A:0})`],ie=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${C}${y}" height="${L}${E}" 
viewBox="0 0 ${C} ${L}" ${o?'style="background:'+o+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${f?f.textContent:""}</title>
<g transform="${F.join(" ")}">
<g transform="${ce.join(" ")}">
${u.outerHTML}${_}
</g>
</g>
</svg>`;i(ie)},s.readAsText(e)}),qT=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},KT=()=>{const e={resize:c,filter:u},t=(f,d)=>(f.forEach(p=>{d=e[p.type](d,p.data)}),d),n=(f,d)=>{let p=f.transforms,g=null;if(p.forEach(h=>{h.type==="filter"&&(g=h)}),g){let h=null;p.forEach(v=>{v.type==="resize"&&(h=v)}),h&&(h.data.matrix=g.data,p=p.filter(v=>v.type!=="filter"))}d(t(p,f.imageData))};self.onmessage=f=>{n(f.data.message,d=>{self.postMessage({id:f.data.id,message:d},[d.data.buffer])})};const r=1,i=1,o=1;function s(f,d,p){const g=d[f]/255,h=d[f+1]/255,v=d[f+2]/255,y=d[f+3]/255,E=g*p[0]+h*p[1]+v*p[2]+y*p[3]+p[4],m=g*p[5]+h*p[6]+v*p[7]+y*p[8]+p[9],b=g*p[10]+h*p[11]+v*p[12]+y*p[13]+p[14],w=g*p[15]+h*p[16]+v*p[17]+y*p[18]+p[19],A=Math.max(0,E*w)+r*(1-w),_=Math.max(0,m*w)+i*(1-w),T=Math.max(0,b*w)+o*(1-w);d[f]=Math.max(0,Math.min(1,A))*255,d[f+1]=Math.max(0,Math.min(1,_))*255,d[f+2]=Math.max(0,Math.min(1,T))*255}const a=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function l(f){return self.JSON.stringify(f||[])===a}function u(f,d){if(!d||l(d))return f;const p=f.data,g=p.length,h=d[0],v=d[1],y=d[2],E=d[3],m=d[4],b=d[5],w=d[6],A=d[7],_=d[8],T=d[9],C=d[10],L=d[11],D=d[12],O=d[13],S=d[14],x=d[15],R=d[16],I=d[17],k=d[18],M=d[19];let F=0,j=0,z=0,ce=0,ie=0,de=0,_e=0,ae=0,we=0,Se=0,Pe=0,Oe=0;for(;F<g;F+=4)j=p[F]/255,z=p[F+1]/255,ce=p[F+2]/255,ie=p[F+3]/255,de=j*h+z*v+ce*y+ie*E+m,_e=j*b+z*w+ce*A+ie*_+T,ae=j*C+z*L+ce*D+ie*O+S,we=j*x+z*R+ce*I+ie*k+M,Se=Math.max(0,de*we)+r*(1-we),Pe=Math.max(0,_e*we)+i*(1-we),Oe=Math.max(0,ae*we)+o*(1-we),p[F]=Math.max(0,Math.min(1,Se))*255,p[F+1]=Math.max(0,Math.min(1,Pe))*255,p[F+2]=Math.max(0,Math.min(1,Oe))*255;return f}function c(f,d){let{mode:p="contain",upscale:g=!1,width:h,height:v,matrix:y}=d;if(y=!y||l(y)?null:y,!h&&!v)return u(f,y);if(h===null?h=v:v===null&&(v=h),p!=="force"){let O=h/f.width,S=v/f.height,x=1;if(p==="cover"?x=Math.max(O,S):p==="contain"&&(x=Math.min(O,S)),x>1&&g===!1)return u(f,y);h=f.width*x,v=f.height*x}const E=f.width,m=f.height,b=Math.round(h),w=Math.round(v),A=f.data,_=new Uint8ClampedArray(b*w*4),T=E/b,C=m/w,L=Math.ceil(T*.5),D=Math.ceil(C*.5);for(let O=0;O<w;O++)for(let S=0;S<b;S++){let x=(S+O*b)*4,R=0,I=0,k=0,M=0,F=0,j=0,z=0,ce=(O+.5)*C;for(let ie=Math.floor(O*C);ie<(O+1)*C;ie++){let de=Math.abs(ce-(ie+.5))/D,_e=(S+.5)*T,ae=de*de;for(let we=Math.floor(S*T);we<(S+1)*T;we++){let Se=Math.abs(_e-(we+.5))/L,Pe=Math.sqrt(ae+Se*Se);if(Pe>=-1&&Pe<=1&&(R=2*Pe*Pe*Pe-3*Pe*Pe+1,R>0)){Se=4*(we+ie*E);let Oe=A[Se+3];z+=R*Oe,k+=R,Oe<255&&(R=R*Oe/250),M+=R*A[Se],F+=R*A[Se+1],j+=R*A[Se+2],I+=R}}}_[x]=M/I,_[x+1]=F/I,_[x+2]=j/I,_[x+3]=z/k,y&&s(x,_,y)}return{data:_,width:b,height:w}}},XT=(e,t)=>{if(e.getUint32(t+4,!1)!==1165519206)return;t+=4;const n=e.getUint16(t+=6,!1)===18761;t+=e.getUint32(t+4,n);const r=e.getUint16(t,n);t+=2;for(let i=0;i<r;i++)if(e.getUint16(t+i*12,n)===274)return e.setUint16(t+i*12+8,1,n),!0;return!1},ZT=e=>{const t=new DataView(e);if(t.getUint16(0)!==65496)return null;let n=2,r,i,o=!1;for(;n<t.byteLength&&(r=t.getUint16(n,!1),i=t.getUint16(n+2,!1)+2,!(!(r>=65504&&r<=65519||r===65534)||(o||(o=XT(t,n)),n+i>t.byteLength)));)n+=i;return e.slice(0,n)},JT=e=>new Promise(t=>{const n=new FileReader;n.onload=()=>t(ZT(n.result)||null),n.readAsArrayBuffer(e.slice(0,256*1024))}),QT=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,eS=(e,t)=>{const n=QT();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},tS=()=>Math.random().toString(36).substr(2,9),nS=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n),i=[];return{transfer:()=>{},post:(o,s,a)=>{const l=tS();i[l]=s,r.onmessage=u=>{const c=i[u.data.id];!c||(c(u.data.message),delete i[u.data.id])},r.postMessage({id:l,message:o},a)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},rS=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=i=>{n(i)},r.src=e}),iS=e=>e.reduce((t,n)=>t.then(r=>n().then(Array.prototype.concat.bind(r))),Promise.resolve([])),oS=(e,t)=>new Promise(n=>{const r={width:e.width,height:e.height},i=e.getContext("2d"),o=t.sort(Tg).map(s=>()=>new Promise(a=>{fS[s[0]](i,r,s[1],a)&&a()}));iS(o).then(()=>n(e))}),Io=(e,t)=>{e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},Co=e=>{e.fill(),e.stroke(),e.globalAlpha=1},sS=(e,t,n)=>{const r=So(n,t),i=ji(n,t);return Io(e,i),e.rect(r.x,r.y,r.width,r.height),Co(e),!0},aS=(e,t,n)=>{const r=So(n,t),i=ji(n,t);Io(e,i);const o=r.x,s=r.y,a=r.width,l=r.height,u=.5522848,c=a/2*u,f=l/2*u,d=o+a,p=s+l,g=o+a/2,h=s+l/2;return e.moveTo(o,h),e.bezierCurveTo(o,h-f,g-c,s,g,s),e.bezierCurveTo(g+c,s,d,h-f,d,h),e.bezierCurveTo(d,h+f,g+c,p,g,p),e.bezierCurveTo(g-c,p,o,h+f,o,h),Co(e),!0},lS=(e,t,n,r)=>{const i=So(n,t),o=ji(n,t);Io(e,o);const s=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(s.crossOrigin=""),s.onload=()=>{if(n.fit==="cover"){const l=i.width/i.height,u=l>1?s.width:s.height*l,c=l>1?s.width/l:s.height,f=s.width*.5-u*.5,d=s.height*.5-c*.5;e.drawImage(s,f,d,u,c,i.x,i.y,i.width,i.height)}else if(n.fit==="contain"){const l=Math.min(i.width/s.width,i.height/s.height),u=l*s.width,c=l*s.height,f=i.x+i.width*.5-u*.5,d=i.y+i.height*.5-c*.5;e.drawImage(s,0,0,s.width,s.height,f,d,u,c)}else e.drawImage(s,0,0,s.width,s.height,i.x,i.y,i.width,i.height);Co(e),r()},s.src=n.src},uS=(e,t,n)=>{const r=So(n,t),i=ji(n,t);Io(e,i);const o=rn(n.fontSize,t),s=n.fontFamily||"sans-serif",a=n.fontWeight||"normal",l=n.textAlign||"left";return e.font=`${a} ${o}px ${s}`,e.textAlign=l,e.fillText(n.text,r.x,r.y),Co(e),!0},cS=(e,t,n)=>{const r=ji(n,t);Io(e,r),e.beginPath();const i=n.points.map(s=>({x:rn(s.x,t,1,"width"),y:rn(s.y,t,1,"height")}));e.moveTo(i[0].x,i[0].y);const o=i.length;for(let s=1;s<o;s++)e.lineTo(i[s].x,i[s].y);return Co(e),!0},dS=(e,t,n)=>{const r=So(n,t),i=ji(n,t);Io(e,i),e.beginPath();const o={x:r.x,y:r.y},s={x:r.x+r.width,y:r.y+r.height};e.moveTo(o.x,o.y),e.lineTo(s.x,s.y);const a=Ag({x:s.x-o.x,y:s.y-o.y}),l=.04*Math.min(t.width,t.height);if(n.lineDecoration.indexOf("arrow-begin")!==-1){const u=pa(a,l),c=ga(o,u),f=ii(o,2,c),d=ii(o,-2,c);e.moveTo(f.x,f.y),e.lineTo(o.x,o.y),e.lineTo(d.x,d.y)}if(n.lineDecoration.indexOf("arrow-end")!==-1){const u=pa(a,-l),c=ga(s,u),f=ii(s,2,c),d=ii(s,-2,c);e.moveTo(f.x,f.y),e.lineTo(s.x,s.y),e.lineTo(d.x,d.y)}return Co(e),!0},fS={rect:sS,ellipse:aS,image:lS,text:uS,line:dS,path:cS},hS=e=>{const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},pS=(e,t,n={})=>new Promise((r,i)=>{if(!e||!_T(e))return i({status:"not an image file",file:e});const{stripImageHead:o,beforeCreateBlob:s,afterCreateBlob:a,canvasMemoryLimit:l}=n,{crop:u,size:c,filter:f,markup:d,output:p}=t,g=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,h=p&&p.quality,v=h===null?null:h/100,y=p&&p.type||null,E=p&&p.background||null,m=[];c&&(typeof c.width=="number"||typeof c.height=="number")&&m.push({type:"resize",data:c}),f&&f.length===20&&m.push({type:"filter",data:f});const b=_=>{const T=a?a(_):_;Promise.resolve(T).then(r)},w=(_,T)=>{const C=hS(_),L=d.length?oS(C,d):C;Promise.resolve(L).then(D=>{RT(D,T,s).then(O=>{if(wg(D),o)return b(O);JT(e).then(S=>{S!==null&&(O=new Blob([S,O.slice(20)],{type:O.type})),b(O)})}).catch(i)})};if(/svg/.test(e.type)&&y===null)return YT(e,u,d,{background:E}).then(_=>{r(eS(_,"image/svg+xml"))});const A=URL.createObjectURL(e);rS(A).then(_=>{URL.revokeObjectURL(A);const T=OT(_,g,u,{canvasMemoryLimit:l,background:E}),C={quality:v,type:y||e.type};if(!m.length)return w(T,C);const L=nS(KT);L.post({transforms:m,imageData:T},D=>{w(qT(D),C),L.terminate()},[T.data.buffer])}).catch(i)}),gS=["x","y","left","top","right","bottom","width","height"],mS=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,vS=e=>{const[t,n]=e,r=n.points?{}:gS.reduce((i,o)=>(i[o]=mS(n[o]),i),{});return[t,{zIndex:0,...n,...r}]},yS=e=>new Promise((t,n)=>{const r=new Image;r.src=URL.createObjectURL(e);const i=()=>{const s=r.naturalWidth,a=r.naturalHeight;!(s&&a)||(URL.revokeObjectURL(r.src),clearInterval(o),t({width:s,height:a}))};r.onerror=s=>{URL.revokeObjectURL(r.src),clearInterval(o),n(s)};const o=setInterval(i,1);i()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){const r=this;setTimeout(()=>{const i=r.toDataURL(t,n).split(",")[1],o=atob(i);let s=o.length;const a=new Uint8Array(s);for(;s--;)a[s]=o.charCodeAt(s);e(new Blob([a],{type:t||"image/png"}))})}}));var pc=typeof window<"u"&&typeof window.document<"u",bS=pc&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Sg=({addFilter:e,utils:t})=>{const{Type:n,forin:r,getFileFromBlob:i,isFile:o}=t,s=["crop","resize","filter","markup","output"],a=c=>(f,d,p)=>f(d,c?c(p):p),l=c=>c.aspectRatio===null&&c.rotation===0&&c.zoom===1&&c.center&&c.center.x===.5&&c.center.y===.5&&c.flip&&c.flip.horizontal===!1&&c.flip.vertical===!1;e("SHOULD_PREPARE_OUTPUT",(c,{query:f})=>new Promise(d=>{d(!f("IS_ASYNC"))}));const u=(c,f,d)=>new Promise(p=>{if(!c("GET_ALLOW_IMAGE_TRANSFORM")||d.archived||!o(f)||!mT(f))return p(!1);yS(f).then(()=>{const g=c("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(g){const h=g(f);if(h==null)return handleRevert(!0);if(typeof h=="boolean")return p(h);if(typeof h.then=="function")return h.then(p)}p(!0)}).catch(g=>{p(!1)})});return e("DID_CREATE_ITEM",(c,{query:f,dispatch:d})=>{!f("GET_ALLOW_IMAGE_TRANSFORM")||c.extend("requestPrepare",()=>new Promise((p,g)=>{d("REQUEST_PREPARE_OUTPUT",{query:c.id,item:c,success:p,failure:g},!0)}))}),e("PREPARE_OUTPUT",(c,{query:f,item:d})=>new Promise(p=>{u(f,c,d).then(g=>{if(!g)return p(c);const h=[];f("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&h.push(()=>new Promise(T=>{T({name:f("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:c})})),f("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&h.push((T,C,L)=>new Promise(D=>{T(C,L).then(O=>D({name:f("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:O}))}));const v=f("GET_IMAGE_TRANSFORM_VARIANTS")||{};r(v,(T,C)=>{const L=a(C);h.push((D,O,S)=>new Promise(x=>{L(D,O,S).then(R=>x({name:T,file:R}))}))});const y=f("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),E=f("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),m=y===null?null:y/100,b=f("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),w=f("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||s;d.setMetadata("output",{type:b,quality:m,client:w},!0);const A=(T,C)=>new Promise((L,D)=>{const O={...C};Object.keys(O).filter(z=>z!=="exif").forEach(z=>{w.indexOf(z)===-1&&delete O[z]});const{resize:S,exif:x,output:R,crop:I,filter:k,markup:M}=O,F={image:{orientation:x?x.orientation:null},output:R&&(R.type||typeof R.quality=="number"||R.background)?{type:R.type,quality:typeof R.quality=="number"?R.quality*100:null,background:R.background||f("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:S&&(S.size.width||S.size.height)?{mode:S.mode,upscale:S.upscale,...S.size}:void 0,crop:I&&!l(I)?{...I}:void 0,markup:M&&M.length?M.map(vS):[],filter:k};if(F.output){const z=R.type?R.type!==T.type:!1,ce=/\/jpe?g$/.test(T.type),ie=R.quality!==null?ce&&E==="always":!1;if(!!!(F.size||F.crop||F.filter||z||ie))return L(T)}const j={beforeCreateBlob:f("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:f("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:f("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:f("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};pS(T,F,j).then(z=>{const ce=i(z,bT(T.name,ET(z.type)));L(ce)}).catch(D)}),_=h.map(T=>T(A,c,d.getMetadata()));Promise.all(_).then(T=>{p(T.length===1&&T[0].name===null?T[0].file:T)})})})),{options:{allowImageTransform:[!0,n.BOOLEAN],imageTransformImageFilter:[null,n.FUNCTION],imageTransformOutputMimeType:[null,n.STRING],imageTransformOutputQuality:[null,n.INT],imageTransformOutputStripImageHead:[!0,n.BOOLEAN],imageTransformClientTransforms:[null,n.ARRAY],imageTransformOutputQualityMode:["always",n.STRING],imageTransformVariants:[null,n.OBJECT],imageTransformVariantsIncludeDefault:[!0,n.BOOLEAN],imageTransformVariantsDefaultName:[null,n.STRING],imageTransformVariantsIncludeOriginal:[!1,n.BOOLEAN],imageTransformVariantsOriginalName:["original_",n.STRING],imageTransformBeforeCreateBlob:[null,n.FUNCTION],imageTransformAfterCreateBlob:[null,n.FUNCTION],imageTransformCanvasMemoryLimit:[pc&&bS?4096*4096:null,n.INT],imageTransformCanvasBackgroundColor:[null,n.STRING]}}};pc&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Sg}));var ES=Sg;/*!
 * FilePondPluginMediaPreview 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */var mu=e=>/^video/.test(e.type),Zo=e=>/^audio/.test(e.type),_S=class{constructor(e,t){this.mediaEl=e,this.audioElems=t,this.onplayhead=!1,this.duration=0,this.timelineWidth=this.audioElems.timeline.offsetWidth-this.audioElems.playhead.offsetWidth,this.moveplayheadFn=this.moveplayhead.bind(this),this.registerListeners()}registerListeners(){this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1),this.mediaEl.addEventListener("canplaythrough",()=>this.duration=this.mediaEl.duration,!1),this.audioElems.timeline.addEventListener("click",this.timelineClicked.bind(this),!1),this.audioElems.button.addEventListener("click",this.play.bind(this)),this.audioElems.playhead.addEventListener("mousedown",this.mouseDown.bind(this),!1),window.addEventListener("mouseup",this.mouseUp.bind(this),!1)}play(){this.mediaEl.paused?this.mediaEl.play():this.mediaEl.pause(),this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause")}timeUpdate(){let e=this.mediaEl.currentTime/this.duration*100;this.audioElems.playhead.style.marginLeft=e+"%",this.mediaEl.currentTime===this.duration&&(this.audioElems.button.classList.toggle("play"),this.audioElems.button.classList.toggle("pause"))}moveplayhead(e){let t=e.clientX-this.getPosition(this.audioElems.timeline);t>=0&&t<=this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=t+"px"),t<0&&(this.audioElems.playhead.style.marginLeft="0px"),t>this.timelineWidth&&(this.audioElems.playhead.style.marginLeft=this.timelineWidth-4+"px")}timelineClicked(e){this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e)}mouseDown(){this.onplayhead=!0,window.addEventListener("mousemove",this.moveplayheadFn,!0),this.mediaEl.removeEventListener("timeupdate",this.timeUpdate.bind(this),!1)}mouseUp(e){window.removeEventListener("mousemove",this.moveplayheadFn,!0),this.onplayhead==!0&&(this.moveplayhead(e),this.mediaEl.currentTime=this.duration*this.clickPercent(e),this.mediaEl.addEventListener("timeupdate",this.timeUpdate.bind(this),!1)),this.onplayhead=!1}clickPercent(e){return(e.clientX-this.getPosition(this.audioElems.timeline))/this.timelineWidth}getPosition(e){return e.getBoundingClientRect().left}},wS=e=>e.utils.createView({name:"media-preview",tag:"div",ignoreRect:!0,create:({root:t,props:n})=>{const r=t.query("GET_ITEM",{id:n.id});let i=Zo(r.file)?"audio":"video";if(t.ref.media=document.createElement(i),t.ref.media.setAttribute("controls",!0),t.element.appendChild(t.ref.media),Zo(r.file)){let o=document.createDocumentFragment();t.ref.audio=[],t.ref.audio.container=document.createElement("div"),t.ref.audio.button=document.createElement("span"),t.ref.audio.timeline=document.createElement("div"),t.ref.audio.playhead=document.createElement("div"),t.ref.audio.container.className="audioplayer",t.ref.audio.button.className="playpausebtn play",t.ref.audio.timeline.className="timeline",t.ref.audio.playhead.className="playhead",t.ref.audio.timeline.appendChild(t.ref.audio.playhead),t.ref.audio.container.appendChild(t.ref.audio.button),t.ref.audio.container.appendChild(t.ref.audio.timeline),o.appendChild(t.ref.audio.container),t.element.appendChild(o)}},write:e.utils.createRoute({DID_MEDIA_PREVIEW_LOAD:({root:t,props:n})=>{const r=t.query("GET_ITEM",{id:n.id});if(!r)return;let i=window.URL||window.webkitURL,o=new Blob([r.file],{type:r.file.type});t.ref.media.type=r.file.type,t.ref.media.src=r.file.mock&&r.file.url||i.createObjectURL(o),Zo(r.file)&&new _S(t.ref.media,t.ref.audio),t.ref.media.addEventListener("loadeddata",()=>{let s=75;if(mu(r.file)){let a=t.ref.media.offsetWidth,l=t.ref.media.videoWidth/a;s=t.ref.media.videoHeight/l}t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n.id,height:s})},!1)}})}),AS=e=>{const t=({root:r,props:i})=>{const{id:o}=i;!r.query("GET_ITEM",o)||r.dispatch("DID_MEDIA_PREVIEW_LOAD",{id:o})},n=({root:r,props:i})=>{const o=wS(e);r.ref.media=r.appendChildView(r.createChildView(o,{id:i.id}))};return e.utils.createView({name:"media-preview-wrapper",create:n,write:e.utils.createRoute({DID_MEDIA_PREVIEW_CONTAINER_CREATE:t})})},Ig=e=>{const{addFilter:t,utils:n}=e,{Type:r,createRoute:i}=n,o=AS(e);return t("CREATE_VIEW",s=>{const{is:a,view:l,query:u}=s;if(!a("file"))return;const c=({root:f,props:d})=>{const{id:p}=d,g=u("GET_ITEM",p),h=u("GET_ALLOW_VIDEO_PREVIEW"),v=u("GET_ALLOW_AUDIO_PREVIEW");!g||g.archived||(!mu(g.file)||!h)&&(!Zo(g.file)||!v)||(f.ref.mediaPreview=l.appendChildView(l.createChildView(o,{id:p})),f.dispatch("DID_MEDIA_PREVIEW_CONTAINER_CREATE",{id:p}))};l.registerWriter(i({DID_LOAD_ITEM:c},({root:f,props:d})=>{const{id:p}=d,g=u("GET_ITEM",p),h=f.query("GET_ALLOW_VIDEO_PREVIEW"),v=f.query("GET_ALLOW_AUDIO_PREVIEW");!g||(!mu(g.file)||!h)&&(!Zo(g.file)||!v)||f.rect.element.hidden}))}),{options:{allowVideoPreview:[!0,r.BOOLEAN],allowAudioPreview:[!0,r.BOOLEAN]}}},TS=typeof window<"u"&&typeof window.document<"u";TS&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Ig}));rr(nA);rr(iA);rr(sA);rr(pA);rr(dT);rr(gT);rr(ES);rr(Ig);window.FilePond=Ep;var SS=e=>{e.data("fileUploadFormComponent",({acceptedFileTypes:t,canDownload:n,canOpen:r,canPreview:i,canReorder:o,deleteUploadedFileUsing:s,getUploadedFileUrlsUsing:a,imageCropAspectRatio:l,imagePreviewHeight:u,imageResizeMode:c,imageResizeTargetHeight:f,imageResizeTargetWidth:d,isAvatar:p,loadingIndicatorPosition:g,panelAspectRatio:h,panelLayout:v,placeholder:y,maxSize:E,minSize:m,removeUploadedFileButtonPosition:b,removeUploadedFileUsing:w,reorderUploadedFilesUsing:A,shouldAppendFiles:_,shouldTransformImage:T,state:C,uploadButtonPosition:L,uploadProgressIndicatorPosition:D,uploadUsing:O})=>({fileKeyIndex:{},pond:null,shouldUpdateState:!0,state:C,lastState:null,uploadedFileUrlIndex:{},init:async function(){this.pond=qo(this.$refs.input,{acceptedFileTypes:t,allowPaste:!1,allowReorder:o,allowImagePreview:i,allowVideoPreview:i,allowAudioPreview:i,allowImageTransform:T,credits:!1,files:await this.getFiles(),imageCropAspectRatio:l,imagePreviewHeight:u,imageResizeTargetHeight:f,imageResizeTargetWidth:d,imageResizeMode:c,itemInsertLocation:_?"after":"before",...y&&{labelIdle:y},maxFileSize:E,minFileSize:m,styleButtonProcessItemPosition:L,styleButtonRemoveItemPosition:b,styleLoadIndicatorPosition:g,stylePanelAspectRatio:h,stylePanelLayout:v,styleProgressIndicatorPosition:D,server:{load:async(S,x)=>{let I=await(await fetch(S)).blob();x(I)},process:(S,x,R,I,k,M)=>{this.shouldUpdateState=!1;let F=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,j=>(j^crypto.getRandomValues(new Uint8Array(1))[0]&15>>j/4).toString(16));O(F,x,j=>{this.shouldUpdateState=!0,I(j)},k,M)},remove:async(S,x)=>{var I;let R=(I=this.uploadedFileUrlIndex[S])!=null?I:null;!R||(await s(R),x())},revert:async(S,x)=>{await w(S),x()}}}),this.$watch("state",async()=>{!this.shouldUpdateState||Object.values(this.state).filter(S=>S.startsWith("livewire-file:")).length||JSON.stringify(this.state)!==this.lastState&&(this.lastState=JSON.stringify(this.state),this.pond.files=await this.getFiles())}),this.pond.on("reorderfiles",async S=>{const x=S.map(R=>{var I;return R.source instanceof File?R.serverId:(I=this.uploadedFileUrlIndex[R.source])!=null?I:null}).filter(R=>R);await A(_?x:x.reverse())}),this.pond.on("initfile",async S=>{!n||p||this.insertDownloadLink(S)}),this.pond.on("initfile",async S=>{!r||p||this.insertOpenLink(S)}),this.pond.on("processfilestart",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfileprogress",async()=>{this.dispatchFormEvent("file-upload-started")}),this.pond.on("processfile",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfiles",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfileabort",async()=>{this.dispatchFormEvent("file-upload-finished")}),this.pond.on("processfilerevert",async()=>{this.dispatchFormEvent("file-upload-finished")})},dispatchFormEvent:function(S){var x;(x=this.$el.closest("form"))==null||x.dispatchEvent(new CustomEvent(S,{composed:!0,cancelable:!0}))},getUploadedFileUrls:async function(){const S=await a();this.fileKeyIndex=S!=null?S:{},this.uploadedFileUrlIndex=Object.entries(this.fileKeyIndex).filter(x=>x).reduce((x,[R,I])=>(x[I]=R,x),{})},getFiles:async function(){await this.getUploadedFileUrls();let S=[];for(const x of Object.values(this.fileKeyIndex))!x||S.push({source:x,options:{type:"local"}});return _?S:S.reverse()},insertDownloadLink:function(S){if(S.origin!==ha.LOCAL)return;const x=this.getDownloadLink(S);!x||document.getElementById(`filepond--item-${S.id}`).querySelector(".filepond--file-info-main").prepend(x)},insertOpenLink:function(S){if(S.origin!==ha.LOCAL)return;const x=this.getOpenLink(S);!x||document.getElementById(`filepond--item-${S.id}`).querySelector(".filepond--file-info-main").prepend(x)},getDownloadLink:function(S){let x=S.source;if(!x)return;const R=document.createElement("a");return R.className="filepond--download-icon",R.href=x,R.download=S.file.name,R},getOpenLink:function(S){let x=S.source;if(!x)return;const R=document.createElement("a");return R.className="filepond--open-icon",R.href=x,R.target="_blank",R}}))},IS=e=>{e.data("keyValueFormComponent",({state:t})=>({state:t,rows:[],shouldUpdateRows:!0,init:function(){this.updateRows(),this.rows.length<=0&&this.addRow(),this.$watch("state",()=>{if(!this.shouldUpdateRows){this.shouldUpdateRows=!0;return}this.updateRows()})},addRow:function(){this.rows.push({key:"",value:""}),this.updateState()},deleteRow:function(n){this.rows.splice(n,1),this.rows.length<=0&&this.addRow(),this.updateState(),this.shouldUpdateRows=!0},updateRows:function(){var r;let n=[];for(let[i,o]of Object.entries((r=this.state)!=null?r:{}))n.push({key:i,value:o});this.rows=n},updateState:function(){let n={};this.rows.forEach(r=>{r.key===""||r.key===null||(n[r.key]=r.value)}),this.shouldUpdateRows=!1,this.state=n}}))},vo=class{constructor(e,t){this.file=e,this.directory=t,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}static traverse(e,t){return CS(e,t)}static from(e){const t=[];for(const n of e)if(n instanceof File)t.push(new vo(n));else if(n instanceof vo)t.push(n);else throw new Error("Unexpected type");return t}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}saving(e){if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saving`);this.state="saving",this.percent=e}saved(e){var t,n,r;if(this.state!=="pending"&&this.state!=="saving")throw new Error(`Unexpected transition from ${this.state} to saved`);this.state="saved",this.id=(t=e==null?void 0:e.id)!==null&&t!==void 0?t:null,this.href=(n=e==null?void 0:e.href)!==null&&n!==void 0?n:null,this.name=(r=e==null?void 0:e.name)!==null&&r!==void 0?r:null}isPending(){return this.state==="pending"}isSaving(){return this.state==="saving"}isSaved(){return this.state==="saved"}};function CS(e,t){return t&&DS(e)?Og("",LS(e)):Promise.resolve(Cg(Array.from(e.files||[])).map(n=>new vo(n)))}function OS(e){return e.name.startsWith(".")}function Cg(e){return Array.from(e).filter(t=>!OS(t))}function xS(e){return new Promise(function(t,n){e.file(t,n)})}function RS(e){return new Promise(function(t,n){const r=[],i=e.createReader(),o=()=>{i.readEntries(s=>{s.length>0?(r.push(...s),o()):t(r)},n)};o()})}async function Og(e,t){const n=[];for(const r of Cg(t))if(r.isDirectory)n.push(...await Og(r.fullPath,await RS(r)));else{const i=await xS(r);n.push(new vo(i,e))}return n}function DS(e){return e.items&&Array.from(e.items).some(t=>{const n=t.webkitGetAsEntry&&t.webkitGetAsEntry();return n&&n.isDirectory})}function LS(e){return Array.from(e.items).map(t=>t.webkitGetAsEntry()).filter(t=>t!=null)}var as=class extends HTMLElement{connectedCallback(){this.addEventListener("dragenter",Ds),this.addEventListener("dragover",Ds),this.addEventListener("dragleave",Wd),this.addEventListener("drop",zd),this.addEventListener("paste",Yd),this.addEventListener("change",qd)}disconnectedCallback(){this.removeEventListener("dragenter",Ds),this.removeEventListener("dragover",Ds),this.removeEventListener("dragleave",Wd),this.removeEventListener("drop",zd),this.removeEventListener("paste",Yd),this.removeEventListener("change",qd)}get directory(){return this.hasAttribute("directory")}set directory(e){e?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(e){const t=e instanceof DataTransfer?await vo.traverse(e,this.directory):vo.from(e);this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:t}}))&&t.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:t}}))}};function xg(e){return Array.from(e.types).indexOf("Files")>=0}var bl=null;function Ds(e){const t=e.currentTarget;bl&&clearTimeout(bl),bl=window.setTimeout(()=>t.removeAttribute("hover"),200);const n=e.dataTransfer;!n||!xg(n)||(n.dropEffect="copy",t.setAttribute("hover",""),e.stopPropagation(),e.preventDefault())}function Wd(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none"),e.currentTarget.removeAttribute("hover"),e.stopPropagation(),e.preventDefault()}function zd(e){const t=e.currentTarget;if(!(t instanceof as))return;t.removeAttribute("hover");const n=e.dataTransfer;!n||!xg(n)||(t.attach(n),e.stopPropagation(),e.preventDefault())}var kS=/^image\/(gif|png|jpeg)$/;function MS(e){for(const t of e)if(kS.test(t.type))return t.getAsFile();return null}function Yd(e){if(!e.clipboardData||!e.clipboardData.items)return;const t=e.currentTarget;if(!(t instanceof as))return;const n=MS(e.clipboardData.items);if(!n)return;const r=[n];t.attach(r),e.preventDefault()}function qd(e){const t=e.currentTarget;if(!(t instanceof as))return;const n=e.target;if(!(n instanceof HTMLInputElement))return;const r=t.getAttribute("input");if(r&&n.id!==r)return;const i=n.files;!i||i.length===0||(t.attach(i),n.value="")}window.customElements.get("file-attachment")||(window.FileAttachmentElement=as,window.customElements.define("file-attachment",as));var PS=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function Rg(e){const t=[];for(const n of e.querySelectorAll(PS.join(", ")))n.hidden||n.offsetWidth<=0&&n.offsetHeight<=0||n.closest("markdown-toolbar")===e&&t.push(n);return t}function NS(e){return function(t){(t.key===" "||t.key==="Enter")&&(t.preventDefault(),e(t))}}var bn=new WeakMap,Pn=class extends HTMLElement{constructor(){super();const e=()=>{const t=bn.get(this);!t||ff(this,t)};this.addEventListener("keydown",NS(e)),this.addEventListener("click",e)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","button")}click(){const e=bn.get(this);!e||ff(this,e)}},Kd=class extends Pn{constructor(){super();const e=parseInt(this.getAttribute("level")||"3",10);if(e<1||e>6)return;const t=`${"#".repeat(e)} `;bn.set(this,{prefix:t})}};window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=Kd,window.customElements.define("md-header",Kd));var Xd=class extends Pn{constructor(){super(),bn.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}};window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=Xd,window.customElements.define("md-bold",Xd));var Zd=class extends Pn{constructor(){super(),bn.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}};window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=Zd,window.customElements.define("md-italic",Zd));var Jd=class extends Pn{constructor(){super(),bn.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","."),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=Jd,window.customElements.define("md-quote",Jd));var Qd=class extends Pn{constructor(){super(),bn.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","e")}};window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=Qd,window.customElements.define("md-code",Qd));var ef=class extends Pn{constructor(){super(),bn.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}};window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=ef,window.customElements.define("md-link",ef));var tf=class extends Pn{constructor(){super(),bn.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}};window.customElements.get("md-image")||(window.MarkdownImageButtonElement=tf,window.customElements.define("md-image",tf));var nf=class extends Pn{constructor(){super(),bn.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","8"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=nf,window.customElements.define("md-unordered-list",nf));var rf=class extends Pn{constructor(){super(),bn.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","7"),this.setAttribute("hotkey-requires-shift","true")}};window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=rf,window.customElements.define("md-ordered-list",rf));var of=class extends Pn{constructor(){super(),bn.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}};window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=of,window.customElements.define("md-task-list",of));var sf=class extends Pn{constructor(){super(),bn.set(this,{prefix:"@",prefixSpace:!0})}};window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=sf,window.customElements.define("md-mention",sf));var af=class extends Pn{constructor(){super(),bn.set(this,{prefix:"#",prefixSpace:!0})}};window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=af,window.customElements.define("md-ref",af));var lf=class extends Pn{constructor(){super(),bn.set(this,{prefix:"~~",suffix:"~~",trimFirst:!0})}};window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=lf,window.customElements.define("md-strikethrough",lf));var uf=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",vu=class extends HTMLElement{constructor(){super()}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",cf);const e=US.bind(null,this);this.field&&(this.field.addEventListener("keydown",e),El.set(this,e)),this.setAttribute("tabindex","0"),this.addEventListener("focus",FS,{once:!0})}disconnectedCallback(){const e=El.get(this);e&&this.field&&(this.field.removeEventListener("keydown",e),El.delete(this)),this.removeEventListener("keydown",cf)}get field(){const e=this.getAttribute("for");if(!e)return null;const t="getRootNode"in this?this.getRootNode():document;let n;return(t instanceof Document||t instanceof ShadowRoot)&&(n=t.getElementById(e)),n instanceof HTMLTextAreaElement?n:null}};function FS({target:e}){if(!(e instanceof Element))return;e.removeAttribute("tabindex");let t="0";for(const n of Rg(e))n.setAttribute("tabindex",t),t==="0"&&(n.focus(),t="-1")}function cf(e){const t=e.key;if(t!=="ArrowRight"&&t!=="ArrowLeft"&&t!=="Home"&&t!=="End")return;const n=e.currentTarget;if(!(n instanceof HTMLElement))return;const r=Rg(n),i=r.indexOf(e.target),o=r.length;if(i===-1)return;let s=0;t==="ArrowLeft"&&(s=i-1),t==="ArrowRight"&&(s=i+1),t==="End"&&(s=o-1),s<0&&(s=o-1),s>o-1&&(s=0);for(let a=0;a<o;a+=1)r[a].setAttribute("tabindex",a===s?"0":"-1");e.preventDefault(),r[s].focus()}var El=new WeakMap;function BS(e){return e.hasAttribute("hotkey-requires-shift")&&e.getAttribute("hotkey-requires-shift")!=="false"}function $S(e,t,n){for(const r of e.querySelectorAll("[hotkey]"))if(r.getAttribute("hotkey")===t&&(!BS(r)||n))return r;return null}function US(e,t){if(t.metaKey&&uf==="Meta"||t.ctrlKey&&uf==="Control"){const n=t.shiftKey?t.key.toUpperCase():t.key,r=$S(e,n,t.shiftKey);r&&(r.click(),t.preventDefault())}}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=vu,window.customElements.define("markdown-toolbar",vu));function yu(e){return e.trim().split(`
`).length>1}function df(e,t){return Array(t+1).join(e)}function jS(e,t){let n=t;for(;e[n]&&e[n-1]!=null&&!e[n-1].match(/\s/);)n--;return n}function Dg(e,t,n){let r=t;const i=n?/\n/:/\s/;for(;e[r]&&!e[r].match(i);)r++;return r}var bi=null;function VS(e,{text:t,selectionStart:n,selectionEnd:r}){const i=e.selectionStart,o=e.value.slice(0,i),s=e.value.slice(e.selectionEnd);if(bi===null||bi===!0){e.contentEditable="true";try{bi=document.execCommand("insertText",!1,t)}catch{bi=!1}e.contentEditable="false"}if(bi&&!e.value.slice(0,e.selectionStart).endsWith(t)&&(bi=!1),!bi){try{document.execCommand("ms-beginUndoUnit")}catch{}e.value=o+t+s;try{document.execCommand("ms-endUndoUnit")}catch{}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}n!=null&&r!=null?e.setSelectionRange(n,r):e.setSelectionRange(i,e.selectionEnd)}function GS(e,t){const n=e.value.slice(e.selectionStart,e.selectionEnd);let r;t.orderedList?r=YS(e):t.multiline&&yu(n)?r=zS(e,t):r=WS(e,t),VS(e,r)}function HS(e,t,n,r=!1){if(e.selectionStart===e.selectionEnd)e.selectionStart=jS(e.value,e.selectionStart),e.selectionEnd=Dg(e.value,e.selectionEnd,r);else{const i=e.selectionStart-t.length,o=e.selectionEnd+n.length,s=e.value.slice(i,e.selectionStart)===t,a=e.value.slice(e.selectionEnd,o)===n;s&&a&&(e.selectionStart=i,e.selectionEnd=o)}return e.value.slice(e.selectionStart,e.selectionEnd)}function gc(e){const t=e.value.slice(0,e.selectionStart),n=e.value.slice(e.selectionEnd),r=t.match(/\n*$/),i=n.match(/^\n*/),o=r?r[0].length:0,s=i?i[0].length:0;let a,l;return t.match(/\S/)&&o<2&&(a=df(`
`,2-o)),n.match(/\S/)&&s<2&&(l=df(`
`,2-s)),a==null&&(a=""),l==null&&(l=""),{newlinesToAppend:a,newlinesToPrepend:l}}function WS(e,t){let n,r;const{prefix:i,suffix:o,blockPrefix:s,blockSuffix:a,replaceNext:l,prefixSpace:u,scanFor:c,surroundWithNewlines:f}=t,d=e.selectionStart,p=e.selectionEnd;let g=e.value.slice(e.selectionStart,e.selectionEnd),h=yu(g)&&s.length>0?`${s}
`:i,v=yu(g)&&a.length>0?`
${a}`:o;if(u){const b=e.value[e.selectionStart-1];e.selectionStart!==0&&b!=null&&!b.match(/\s/)&&(h=` ${h}`)}g=HS(e,h,v,t.multiline);let y=e.selectionStart,E=e.selectionEnd;const m=l.length>0&&v.indexOf(l)>-1&&g.length>0;if(f){const b=gc(e);n=b.newlinesToAppend,r=b.newlinesToPrepend,h=n+i,v+=r}if(g.startsWith(h)&&g.endsWith(v)){const b=g.slice(h.length,g.length-v.length);if(d===p){let w=d-h.length;w=Math.max(w,y),w=Math.min(w,y+b.length),y=E=w}else E=y+b.length;return{text:b,selectionStart:y,selectionEnd:E}}else if(m)if(c.length>0&&g.match(c)){v=v.replace(l,g);const b=h+v;return y=E=y+h.length,{text:b,selectionStart:y,selectionEnd:E}}else{const b=h+g+v;return y=y+h.length+g.length+v.indexOf(l),E=y+l.length,{text:b,selectionStart:y,selectionEnd:E}}else{let b=h+g+v;y=d+h.length,E=p+h.length;const w=g.match(/^\s*|\s*$/g);if(t.trimFirst&&w){const A=w[0]||"",_=w[1]||"";b=A+h+g.trim()+v+_,y+=A.length,E-=_.length}return{text:b,selectionStart:y,selectionEnd:E}}}function zS(e,t){const{prefix:n,suffix:r,surroundWithNewlines:i}=t;let o=e.value.slice(e.selectionStart,e.selectionEnd),s=e.selectionStart,a=e.selectionEnd;const l=o.split(`
`);if(l.every(c=>c.startsWith(n)&&c.endsWith(r)))o=l.map(c=>c.slice(n.length,c.length-r.length)).join(`
`),a=s+o.length;else if(o=l.map(c=>n+c+r).join(`
`),i){const{newlinesToAppend:c,newlinesToPrepend:f}=gc(e);s+=c.length,a=s+o.length,o=c+o+f}return{text:o,selectionStart:s,selectionEnd:a}}function YS(e){const t=/^\d+\.\s+/,n=e.selectionStart===e.selectionEnd;let r,i,o=e.value.slice(e.selectionStart,e.selectionEnd),s=o,a=o.split(`
`),l,u;if(n){const d=e.value.slice(0,e.selectionStart).split(/\n/);l=e.selectionStart-d[d.length-1].length,u=Dg(e.value,e.selectionStart,!0),s=e.value.slice(l,u)}const c=s.split(`
`);if(c.every(d=>t.test(d))){if(a=c.map(d=>d.replace(t,"")),o=a.join(`
`),n&&l&&u){const d=c[0].length-a[0].length;i=r=e.selectionStart-d,e.selectionStart=l,e.selectionEnd=u}}else{a=qS(a),o=a.join(`
`);const{newlinesToAppend:d,newlinesToPrepend:p}=gc(e);i=e.selectionStart+d.length,r=i+o.length,n&&(i=r),o=d+o+p}return{text:o,selectionStart:i,selectionEnd:r}}function qS(e){let t,n,r;const i=[];for(r=t=0,n=e.length;t<n;r=++t){const o=e[r];i.push(`${r+1}. ${o}`)}return i}function ff(e,t){const n=e.closest("markdown-toolbar");if(!(n instanceof vu))return;const i=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1}),t),o=n.field;o&&(o.focus(),GS(o,i))}/*! @license DOMPurify 2.3.10 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.10/LICENSE */function ti(e){return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function bu(e,t){return bu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},bu(e,t)}function KS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ws(e,t,n){return KS()?Ws=Reflect.construct:Ws=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&bu(u,s.prototype),u},Ws.apply(null,arguments)}function Zn(e){return XS(e)||ZS(e)||JS(e)||QS()}function XS(e){if(Array.isArray(e))return Eu(e)}function ZS(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JS(e,t){if(!!e){if(typeof e=="string")return Eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eu(e,t)}}function Eu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var eI=Object.hasOwnProperty,hf=Object.setPrototypeOf,tI=Object.isFrozen,nI=Object.getPrototypeOf,rI=Object.getOwnPropertyDescriptor,En=Object.freeze,yr=Object.seal,iI=Object.create,Lg=typeof Reflect<"u"&&Reflect,ma=Lg.apply,_u=Lg.construct;ma||(ma=function(t,n,r){return t.apply(n,r)});En||(En=function(t){return t});yr||(yr=function(t){return t});_u||(_u=function(t,n){return Ws(t,Zn(n))});var oI=ir(Array.prototype.forEach),pf=ir(Array.prototype.pop),Bo=ir(Array.prototype.push),zs=ir(String.prototype.toLowerCase),sI=ir(String.prototype.match),Zr=ir(String.prototype.replace),aI=ir(String.prototype.indexOf),lI=ir(String.prototype.trim),pn=ir(RegExp.prototype.test),_l=uI(TypeError);function ir(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ma(e,t,r)}}function uI(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _u(e,n)}}function Ze(e,t,n){n=n||zs,hf&&hf(e,null);for(var r=t.length;r--;){var i=t[r];if(typeof i=="string"){var o=n(i);o!==i&&(tI(t)||(t[r]=o),i=o)}e[i]=!0}return e}function Ei(e){var t=iI(null),n;for(n in e)ma(eI,e,[n])&&(t[n]=e[n]);return t}function Ls(e,t){for(;e!==null;){var n=rI(e,t);if(n){if(n.get)return ir(n.get);if(typeof n.value=="function")return ir(n.value)}e=nI(e)}function r(i){return console.warn("fallback value for",i),null}return r}var gf=En(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wl=En(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Al=En(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cI=En(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Tl=En(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),dI=En(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mf=En(["#text"]),vf=En(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Sl=En(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yf=En(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ks=En(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fI=yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hI=yr(/<%[\w\W]*|[\w\W]*%>/gm),pI=yr(/^data-[\-\w.\u00B7-\uFFFF]/),gI=yr(/^aria-[\-\w]+$/),mI=yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vI=yr(/^(?:\w+script|data):/i),yI=yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),bI=yr(/^html$/i),EI=function(){return typeof window>"u"?null:window},_I=function(t,n){if(ti(t)!=="object"||typeof t.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function kg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EI(),t=function(U){return kg(U)};if(t.version="2.3.10",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,a=e.Element,l=e.NodeFilter,u=e.NamedNodeMap,c=u===void 0?e.NamedNodeMap||e.MozNamedAttrMap:u,f=e.HTMLFormElement,d=e.DOMParser,p=e.trustedTypes,g=a.prototype,h=Ls(g,"cloneNode"),v=Ls(g,"nextSibling"),y=Ls(g,"childNodes"),E=Ls(g,"parentNode");if(typeof o=="function"){var m=r.createElement("template");m.content&&m.content.ownerDocument&&(r=m.content.ownerDocument)}var b=_I(p,n),w=b?b.createHTML(""):"",A=r,_=A.implementation,T=A.createNodeIterator,C=A.createDocumentFragment,L=A.getElementsByTagName,D=n.importNode,O={};try{O=Ei(r).documentMode?r.documentMode:{}}catch{}var S={};t.isSupported=typeof E=="function"&&_&&typeof _.createHTMLDocument<"u"&&O!==9;var x=fI,R=hI,I=pI,k=gI,M=vI,F=yI,j=mI,z=null,ce=Ze({},[].concat(Zn(gf),Zn(wl),Zn(Al),Zn(Tl),Zn(mf))),ie=null,de=Ze({},[].concat(Zn(vf),Zn(Sl),Zn(yf),Zn(ks))),_e=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,we=null,Se=!0,Pe=!0,Oe=!1,rt=!1,nt=!1,Dt=!1,At=!1,Tt=!1,Wn=!1,St=!1,Ur=!0,Ar=!0,It=!1,Cn={},ln=null,tn=Ze({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Nn=null,On=Ze({},["audio","video","img","source","image","track"]),ar=null,lr=Ze({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wn="http://www.w3.org/1998/Math/MathML",Fn="http://www.w3.org/2000/svg",un="http://www.w3.org/1999/xhtml",cn=un,dn=!1,Kt,Xt=["application/xhtml+xml","text/html"],jr="text/html",yt,An=null,Tr=r.createElement("form"),xn=function(U){return U instanceof RegExp||U instanceof Function},ur=function(U){An&&An===U||((!U||ti(U)!=="object")&&(U={}),U=Ei(U),Kt=Xt.indexOf(U.PARSER_MEDIA_TYPE)===-1?Kt=jr:Kt=U.PARSER_MEDIA_TYPE,yt=Kt==="application/xhtml+xml"?function(q){return q}:zs,z="ALLOWED_TAGS"in U?Ze({},U.ALLOWED_TAGS,yt):ce,ie="ALLOWED_ATTR"in U?Ze({},U.ALLOWED_ATTR,yt):de,ar="ADD_URI_SAFE_ATTR"in U?Ze(Ei(lr),U.ADD_URI_SAFE_ATTR,yt):lr,Nn="ADD_DATA_URI_TAGS"in U?Ze(Ei(On),U.ADD_DATA_URI_TAGS,yt):On,ln="FORBID_CONTENTS"in U?Ze({},U.FORBID_CONTENTS,yt):tn,ae="FORBID_TAGS"in U?Ze({},U.FORBID_TAGS,yt):{},we="FORBID_ATTR"in U?Ze({},U.FORBID_ATTR,yt):{},Cn="USE_PROFILES"in U?U.USE_PROFILES:!1,Se=U.ALLOW_ARIA_ATTR!==!1,Pe=U.ALLOW_DATA_ATTR!==!1,Oe=U.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=U.SAFE_FOR_TEMPLATES||!1,nt=U.WHOLE_DOCUMENT||!1,Tt=U.RETURN_DOM||!1,Wn=U.RETURN_DOM_FRAGMENT||!1,St=U.RETURN_TRUSTED_TYPE||!1,At=U.FORCE_BODY||!1,Ur=U.SANITIZE_DOM!==!1,Ar=U.KEEP_CONTENT!==!1,It=U.IN_PLACE||!1,j=U.ALLOWED_URI_REGEXP||j,cn=U.NAMESPACE||un,U.CUSTOM_ELEMENT_HANDLING&&xn(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&xn(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_e.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rt&&(Pe=!1),Wn&&(Tt=!0),Cn&&(z=Ze({},Zn(mf)),ie=[],Cn.html===!0&&(Ze(z,gf),Ze(ie,vf)),Cn.svg===!0&&(Ze(z,wl),Ze(ie,Sl),Ze(ie,ks)),Cn.svgFilters===!0&&(Ze(z,Al),Ze(ie,Sl),Ze(ie,ks)),Cn.mathMl===!0&&(Ze(z,Tl),Ze(ie,yf),Ze(ie,ks))),U.ADD_TAGS&&(z===ce&&(z=Ei(z)),Ze(z,U.ADD_TAGS,yt)),U.ADD_ATTR&&(ie===de&&(ie=Ei(ie)),Ze(ie,U.ADD_ATTR,yt)),U.ADD_URI_SAFE_ATTR&&Ze(ar,U.ADD_URI_SAFE_ATTR,yt),U.FORBID_CONTENTS&&(ln===tn&&(ln=Ei(ln)),Ze(ln,U.FORBID_CONTENTS,yt)),Ar&&(z["#text"]=!0),nt&&Ze(z,["html","head","body"]),z.table&&(Ze(z,["tbody"]),delete ae.tbody),En&&En(U),An=U)},Vr=Ze({},["mi","mo","mn","ms","mtext"]),zn=Ze({},["foreignobject","desc","title","annotation-xml"]),on=Ze({},["title","style","font","a","script"]),K=Ze({},wl);Ze(K,Al),Ze(K,cI);var V=Ze({},Tl);Ze(V,dI);var X=function(U){var q=E(U);(!q||!q.tagName)&&(q={namespaceURI:un,tagName:"template"});var te=zs(U.tagName),me=zs(q.tagName);return U.namespaceURI===Fn?q.namespaceURI===un?te==="svg":q.namespaceURI===wn?te==="svg"&&(me==="annotation-xml"||Vr[me]):Boolean(K[te]):U.namespaceURI===wn?q.namespaceURI===un?te==="math":q.namespaceURI===Fn?te==="math"&&zn[me]:Boolean(V[te]):U.namespaceURI===un?q.namespaceURI===Fn&&!zn[me]||q.namespaceURI===wn&&!Vr[me]?!1:!V[te]&&(on[te]||!K[te]):!1},J=function(U){Bo(t.removed,{element:U});try{U.parentNode.removeChild(U)}catch{try{U.outerHTML=w}catch{U.remove()}}},oe=function(U,q){try{Bo(t.removed,{attribute:q.getAttributeNode(U),from:q})}catch{Bo(t.removed,{attribute:null,from:q})}if(q.removeAttribute(U),U==="is"&&!ie[U])if(Tt||Wn)try{J(q)}catch{}else try{q.setAttribute(U,"")}catch{}},se=function(U){var q,te;if(At)U="<remove></remove>"+U;else{var me=sI(U,/^[\r\n\t ]+/);te=me&&me[0]}Kt==="application/xhtml+xml"&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");var Be=b?b.createHTML(U):U;if(cn===un)try{q=new d().parseFromString(Be,Kt)}catch{}if(!q||!q.documentElement){q=_.createDocument(cn,"template",null);try{q.documentElement.innerHTML=dn?"":Be}catch{}}var qe=q.body||q.documentElement;return U&&te&&qe.insertBefore(r.createTextNode(te),qe.childNodes[0]||null),cn===un?L.call(q,nt?"html":"body")[0]:nt?q.documentElement:qe},ge=function(U){return T.call(U.ownerDocument||U,U,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},ye=function(U){return U instanceof f&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof c)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function")},be=function(U){return ti(s)==="object"?U instanceof s:U&&ti(U)==="object"&&typeof U.nodeType=="number"&&typeof U.nodeName=="string"},N=function(U,q,te){!S[U]||oI(S[U],function(me){me.call(t,q,te,An)})},$=function(U){var q;if(N("beforeSanitizeElements",U,null),ye(U)||pn(/[\u0080-\uFFFF]/,U.nodeName))return J(U),!0;var te=yt(U.nodeName);if(N("uponSanitizeElement",U,{tagName:te,allowedTags:z}),U.hasChildNodes()&&!be(U.firstElementChild)&&(!be(U.content)||!be(U.content.firstElementChild))&&pn(/<[/\w]/g,U.innerHTML)&&pn(/<[/\w]/g,U.textContent)||te==="select"&&pn(/<template/i,U.innerHTML))return J(U),!0;if(!z[te]||ae[te]){if(!ae[te]&&Q(te)&&(_e.tagNameCheck instanceof RegExp&&pn(_e.tagNameCheck,te)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(te)))return!1;if(Ar&&!ln[te]){var me=E(U)||U.parentNode,Be=y(U)||U.childNodes;if(Be&&me)for(var qe=Be.length,Le=qe-1;Le>=0;--Le)me.insertBefore(h(Be[Le],!0),v(U))}return J(U),!0}return U instanceof a&&!X(U)||(te==="noscript"||te==="noembed")&&pn(/<\/no(script|embed)/i,U.innerHTML)?(J(U),!0):(rt&&U.nodeType===3&&(q=U.textContent,q=Zr(q,x," "),q=Zr(q,R," "),U.textContent!==q&&(Bo(t.removed,{element:U.cloneNode()}),U.textContent=q)),N("afterSanitizeElements",U,null),!1)},H=function(U,q,te){if(Ur&&(q==="id"||q==="name")&&(te in r||te in Tr))return!1;if(!(Pe&&!we[q]&&pn(I,q))){if(!(Se&&pn(k,q))){if(!ie[q]||we[q]){if(!(Q(U)&&(_e.tagNameCheck instanceof RegExp&&pn(_e.tagNameCheck,U)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(U))&&(_e.attributeNameCheck instanceof RegExp&&pn(_e.attributeNameCheck,q)||_e.attributeNameCheck instanceof Function&&_e.attributeNameCheck(q))||q==="is"&&_e.allowCustomizedBuiltInElements&&(_e.tagNameCheck instanceof RegExp&&pn(_e.tagNameCheck,te)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(te))))return!1}else if(!ar[q]){if(!pn(j,Zr(te,F,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&U!=="script"&&aI(te,"data:")===0&&Nn[U])){if(!(Oe&&!pn(M,Zr(te,F,"")))){if(te)return!1}}}}}}return!0},Q=function(U){return U.indexOf("-")>0},ue=function(U){var q,te,me,Be;N("beforeSanitizeAttributes",U,null);var qe=U.attributes;if(!!qe){var Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie};for(Be=qe.length;Be--;){q=qe[Be];var ze=q,ve=ze.name,Re=ze.namespaceURI;if(te=ve==="value"?q.value:lI(q.value),me=yt(ve),Le.attrName=me,Le.attrValue=te,Le.keepAttr=!0,Le.forceKeepAttr=void 0,N("uponSanitizeAttribute",U,Le),te=Le.attrValue,!Le.forceKeepAttr&&(oe(ve,U),!!Le.keepAttr)){if(pn(/\/>/i,te)){oe(ve,U);continue}rt&&(te=Zr(te,x," "),te=Zr(te,R," "));var $e=yt(U.nodeName);if(!!H($e,me,te)){if(b&&ti(p)==="object"&&typeof p.getAttributeType=="function"&&!Re)switch(p.getAttributeType($e,me)){case"TrustedHTML":te=b.createHTML(te);break;case"TrustedScriptURL":te=b.createScriptURL(te);break}try{Re?U.setAttributeNS(Re,ve,te):U.setAttribute(ve,te),pf(t.removed)}catch{}}}}N("afterSanitizeAttributes",U,null)}},le=function Y(U){var q,te=ge(U);for(N("beforeSanitizeShadowDOM",U,null);q=te.nextNode();)N("uponSanitizeShadowNode",q,null),!$(q)&&(q.content instanceof i&&Y(q.content),ue(q));N("afterSanitizeShadowDOM",U,null)};return t.sanitize=function(Y,U){var q,te,me,Be,qe;if(dn=!Y,dn&&(Y="<!-->"),typeof Y!="string"&&!be(Y)){if(typeof Y.toString!="function")throw _l("toString is not a function");if(Y=Y.toString(),typeof Y!="string")throw _l("dirty is not a string, aborting")}if(!t.isSupported){if(ti(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof Y=="string")return e.toStaticHTML(Y);if(be(Y))return e.toStaticHTML(Y.outerHTML)}return Y}if(Dt||ur(U),t.removed=[],typeof Y=="string"&&(It=!1),It){if(Y.nodeName){var Le=yt(Y.nodeName);if(!z[Le]||ae[Le])throw _l("root node is forbidden and cannot be sanitized in-place")}}else if(Y instanceof s)q=se("<!---->"),te=q.ownerDocument.importNode(Y,!0),te.nodeType===1&&te.nodeName==="BODY"||te.nodeName==="HTML"?q=te:q.appendChild(te);else{if(!Tt&&!rt&&!nt&&Y.indexOf("<")===-1)return b&&St?b.createHTML(Y):Y;if(q=se(Y),!q)return Tt?null:St?w:""}q&&At&&J(q.firstChild);for(var ze=ge(It?Y:q);me=ze.nextNode();)me.nodeType===3&&me===Be||$(me)||(me.content instanceof i&&le(me.content),ue(me),Be=me);if(Be=null,It)return Y;if(Tt){if(Wn)for(qe=C.call(q.ownerDocument);q.firstChild;)qe.appendChild(q.firstChild);else qe=q;return ie.shadowroot&&(qe=D.call(n,qe,!0)),qe}var ve=nt?q.outerHTML:q.innerHTML;return nt&&z["!doctype"]&&q.ownerDocument&&q.ownerDocument.doctype&&q.ownerDocument.doctype.name&&pn(bI,q.ownerDocument.doctype.name)&&(ve="<!DOCTYPE "+q.ownerDocument.doctype.name+`>
`+ve),rt&&(ve=Zr(ve,x," "),ve=Zr(ve,R," ")),b&&St?b.createHTML(ve):ve},t.setConfig=function(Y){ur(Y),Dt=!0},t.clearConfig=function(){An=null,Dt=!1},t.isValidAttribute=function(Y,U,q){An||ur({});var te=yt(Y),me=yt(U);return H(te,me,q)},t.addHook=function(Y,U){typeof U=="function"&&(S[Y]=S[Y]||[],Bo(S[Y],U))},t.removeHook=function(Y){if(S[Y])return pf(S[Y])},t.removeHooks=function(Y){S[Y]&&(S[Y]=[])},t.removeAllHooks=function(){S={}},t}var wI=kg();function Mg(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var Oo=Mg();function AI(e){Oo=e}var TI=/[&<>"']/,SI=/[&<>"']/g,II=/[<>"']|&(?!#?\w+;)/,CI=/[<>"']|&(?!#?\w+;)/g,OI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bf=e=>OI[e];function Zt(e,t){if(t){if(TI.test(e))return e.replace(SI,bf)}else if(II.test(e))return e.replace(CI,bf);return e}var xI=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Pg(e){return e.replace(xI,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var RI=/(^|[^\[])\^/g;function mt(e,t){e=typeof e=="string"?e:e.source,t=t||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(RI,"$1"),e=e.replace(r,i),n),getRegex:()=>new RegExp(e,t)};return n}var DI=/[^\w:]/g,LI=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ef(e,t,n){if(e){let r;try{r=decodeURIComponent(Pg(n)).replace(DI,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}t&&!LI.test(n)&&(n=NI(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}var Ms={},kI=/^[^:]+:\/*[^/]*$/,MI=/^([^:]+:)[\s\S]*$/,PI=/^([^:]+:\/*[^/]*)[\s\S]*$/;function NI(e,t){Ms[" "+e]||(kI.test(e)?Ms[" "+e]=e+"/":Ms[" "+e]=Ys(e,"/",!0)),e=Ms[" "+e];const n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(MI,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(PI,"$1")+t:e+t}var va={exec:function(){}};function sr(e){let t=1,n,r;for(;t<arguments.length;t++){n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}function _f(e,t){const n=e.replace(/\|/g,(o,s,a)=>{let l=!1,u=s;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Ys(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o===t&&!n)i++;else if(o!==t&&n)i++;else break}return e.slice(0,r-i)}function FI(e,t){if(e.indexOf(t[1])===-1)return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1}function Ng(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function wf(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function Af(e,t,n,r){const i=t.href,o=t.title?Zt(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:o,text:Zt(s)}}function BI(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}var mc=class{constructor(e){this.options=e||Oo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ys(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=BI(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Ys(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,i,o,s,a,l,u,c,f,d,p,g=t[1].trim();const h=g.length>1,v={type:"list",raw:"",ordered:h,start:h?+g.slice(0,-1):"",loose:!1,items:[]};g=h?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=h?g:"[*+-]");const y=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=y.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0],c=e.split(`
`,1)[0],this.options.pedantic?(o=2,d=u.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,d=u.slice(o),o+=t[1].length),a=!1,!u&&/^ *$/.test(c)&&(n+=c+`
`,e=e.substring(c.length+1),p=!0),!p){const m=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),w=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(f=e.split(`
`,1)[0],u=f,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(w.test(u)||A.test(u)||m.test(u)||b.test(e)));){if(u.search(/[^ ]/)>=o||!u.trim())d+=`
`+u.slice(o);else if(!a)d+=`
`+u;else break;!a&&!u.trim()&&(a=!0),n+=f+`
`,e=e.substring(f.length+1)}}v.loose||(l?v.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d),r&&(i=r[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:d}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=d.trimRight(),v.raw=v.raw.trimRight();const E=v.items.length;for(s=0;s<E;s++){this.lexer.state.top=!1,v.items[s].tokens=this.lexer.blockTokens(v.items[s].text,[]);const m=v.items[s].tokens.filter(w=>w.type==="space"),b=m.every(w=>{const A=w.raw.split("");let _=0;for(const T of A)if(T===`
`&&(_+=1),_>1)return!0;return!1});!v.loose&&m.length&&b&&(v.loose=!0,v.items[s].loose=!0)}return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(t[0]):Zt(t[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));const n=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:n,raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:_f(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let r=n.align.length,i,o,s,a;for(i=0;i<r;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(r=n.rows.length,i=0;i<r;i++)n.rows[i]=_f(n.rows[i],n.header.length).map(l=>({text:l}));for(r=n.header.length,o=0;o<r;o++)n.header[o].tokens=[],this.lexer.inline(n.header[o].text,n.header[o].tokens);for(r=n.rows.length,o=0;o<r;o++)for(a=n.rows[o],s=0;s<a.length;s++)a[s].tokens=[],this.lexer.inline(a[s].text,a[s].tokens);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const n={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}text(e){const t=this.rules.block.text.exec(e);if(t){const n={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Zt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Zt(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=Ys(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=FI(t[2],"()");if(o>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],i=o[3])}else i=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Af(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Af(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){const o=r[0].length-1;let s,a,l=o,u=0;const c=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);(r=c.exec(t))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(a=s.length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&o%3&&!((o+a)%3)){u+=a;continue}if(l-=a,l>0)continue;if(a=Math.min(a,a+l+u),Math.min(o,a)%2){const d=e.slice(1,o+r.index+a);return{type:"em",raw:e.slice(0,o+r.index+a+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}const f=e.slice(2,o+r.index+a-1);return{type:"strong",raw:e.slice(0,o+r.index+a+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=Zt(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=Zt(this.options.mangle?t(n[1]):n[1]),i="mailto:"+r):(r=Zt(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=Zt(this.options.mangle?t(n[0]):n[0]),i="mailto:"+r;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(o!==n[0]);r=Zt(n[0]),n[1]==="www."?i="http://"+r:i=r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Zt(n[0]):n[0]:r=Zt(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}},Me={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:va,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Me._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Me._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Me.def=mt(Me.def).replace("label",Me._label).replace("title",Me._title).getRegex();Me.bullet=/(?:[*+-]|\d{1,9}[.)])/;Me.listItemStart=mt(/^( *)(bull) */).replace("bull",Me.bullet).getRegex();Me.list=mt(Me.list).replace(/bull/g,Me.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Me.def.source+")").getRegex();Me._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Me._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Me.html=mt(Me.html,"i").replace("comment",Me._comment).replace("tag",Me._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Me.paragraph=mt(Me._paragraph).replace("hr",Me.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Me._tag).getRegex();Me.blockquote=mt(Me.blockquote).replace("paragraph",Me.paragraph).getRegex();Me.normal=sr({},Me);Me.gfm=sr({},Me.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Me.gfm.table=mt(Me.gfm.table).replace("hr",Me.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Me._tag).getRegex();Me.gfm.paragraph=mt(Me._paragraph).replace("hr",Me.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Me.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Me._tag).getRegex();Me.pedantic=sr({},Me.normal,{html:mt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Me._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:va,paragraph:mt(Me.normal._paragraph).replace("hr",Me.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Me.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Te={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:va,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:va,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Te._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Te.punctuation=mt(Te.punctuation).replace(/punctuation/g,Te._punctuation).getRegex();Te.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Te.escapedEmSt=/\\\*|\\_/g;Te._comment=mt(Me._comment).replace("(?:-->|$)","-->").getRegex();Te.emStrong.lDelim=mt(Te.emStrong.lDelim).replace(/punct/g,Te._punctuation).getRegex();Te.emStrong.rDelimAst=mt(Te.emStrong.rDelimAst,"g").replace(/punct/g,Te._punctuation).getRegex();Te.emStrong.rDelimUnd=mt(Te.emStrong.rDelimUnd,"g").replace(/punct/g,Te._punctuation).getRegex();Te._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Te._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Te._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Te.autolink=mt(Te.autolink).replace("scheme",Te._scheme).replace("email",Te._email).getRegex();Te._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Te.tag=mt(Te.tag).replace("comment",Te._comment).replace("attribute",Te._attribute).getRegex();Te._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Te._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Te._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Te.link=mt(Te.link).replace("label",Te._label).replace("href",Te._href).replace("title",Te._title).getRegex();Te.reflink=mt(Te.reflink).replace("label",Te._label).replace("ref",Me._label).getRegex();Te.nolink=mt(Te.nolink).replace("ref",Me._label).getRegex();Te.reflinkSearch=mt(Te.reflinkSearch,"g").replace("reflink",Te.reflink).replace("nolink",Te.nolink).getRegex();Te.normal=sr({},Te);Te.pedantic=sr({},Te.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mt(/^!?\[(label)\]\((.*?)\)/).replace("label",Te._label).getRegex(),reflink:mt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Te._label).getRegex()});Te.gfm=sr({},Te.normal,{escape:mt(Te.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Te.gfm.url=mt(Te.gfm.url,"i").replace("email",Te.gfm._extended_email).getRegex();Te.breaks=sr({},Te.gfm,{br:mt(Te.br).replace("{2,}","*").getRegex(),text:mt(Te.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function $I(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Tf(e){let t="",n,r;const i=e.length;for(n=0;n<i;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}var ui=class{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Oo,this.options.tokenizer=this.options.tokenizer||new mc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Me.normal,inline:Te.normal};this.options.pedantic?(t.block=Me.pedantic,t.inline=Te.pedantic):this.options.gfm&&(t.block=Me.gfm,this.options.breaks?t.inline=Te.breaks:t.inline=Te.gfm),this.tokenizer.rules=t}static get rules(){return{block:Me,inline:Te}}static lex(e,t){return new ui(t).lex(e)}static lexInline(e,t){return new ui(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(s,a,l)=>a+"    ".repeat(l.length));let n,r,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(s=>(n=s.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let s=1/0;const a=e.slice(1);let l;this.options.extensions.startBlock.forEach(function(u){l=u.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,r,i,o=e,s,a,l;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,s.index)+"["+wf("a",s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,s.index)+"["+wf("a",s[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(s=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,s.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,l)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Tf)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Tf))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startInline.forEach(function(d){f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(i=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(i,$I)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(l=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},vc=class{constructor(e){this.options=e||Oo}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,r);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Zt(r,!0)+'">'+(n?e:Zt(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Zt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){const i=this.options.headerPrefix+r.slug(n);return`<h${t} id="${i}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const r=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+r+i+`>
`+e+"</"+r+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=Ef(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<a href="'+Zt(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(e=Ef(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}},Fg=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},Bg=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ci=class{constructor(e){this.options=e||Oo,this.options.renderer=this.options.renderer||new vc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fg,this.slugger=new Bg}static parse(e,t){return new ci(t).parse(e)}static parseInline(e,t){return new ci(t).parseInline(e)}parse(e,t=!0){let n="",r,i,o,s,a,l,u,c,f,d,p,g,h,v,y,E,m,b,w;const A=e.length;for(r=0;r<A;r++){if(d=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(w=this.options.extensions.renderers[d.type].call({parser:this},d),w!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){n+=w||"";continue}switch(d.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(d.tokens),d.depth,Pg(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(d.text,d.lang,d.escaped);continue}case"table":{for(c="",u="",s=d.header.length,i=0;i<s;i++)u+=this.renderer.tablecell(this.parseInline(d.header[i].tokens),{header:!0,align:d.align[i]});for(c+=this.renderer.tablerow(u),f="",s=d.rows.length,i=0;i<s;i++){for(l=d.rows[i],u="",a=l.length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(l[o].tokens),{header:!1,align:d.align[o]});f+=this.renderer.tablerow(u)}n+=this.renderer.table(c,f);continue}case"blockquote":{f=this.parse(d.tokens),n+=this.renderer.blockquote(f);continue}case"list":{for(p=d.ordered,g=d.start,h=d.loose,s=d.items.length,f="",i=0;i<s;i++)y=d.items[i],E=y.checked,m=y.task,v="",y.task&&(b=this.renderer.checkbox(E),h?y.tokens.length>0&&y.tokens[0].type==="paragraph"?(y.tokens[0].text=b+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text"&&(y.tokens[0].tokens[0].text=b+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:b}):v+=b),v+=this.parse(y.tokens,h),f+=this.renderer.listitem(v,m,E);n+=this.renderer.list(f,p,g);continue}case"html":{n+=this.renderer.html(d.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{for(f=d.tokens?this.parseInline(d.tokens):d.text;r+1<A&&e[r+1].type==="text";)d=e[++r],f+=`
`+(d.tokens?this.parseInline(d.tokens):d.text);n+=t?this.renderer.paragraph(f):f;continue}default:{const _='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(_);return}else throw new Error(_)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,i,o;const s=e.length;for(r=0;r<s;r++){if(i=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(o=this.options.extensions.renderers[i.type].call({parser:this},i),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=o||"";continue}switch(i.type){case"escape":{n+=t.text(i.text);break}case"html":{n+=t.html(i.text);break}case"link":{n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{n+=t.image(i.href,i.title,i.text);break}case"strong":{n+=t.strong(this.parseInline(i.tokens,t));break}case"em":{n+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{n+=t.codespan(i.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(i.tokens,t));break}case"text":{n+=t.text(i.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}};function Ge(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=sr({},Ge.defaults,t||{}),Ng(t),n){const r=t.highlight;let i;try{i=ui.lex(e,t)}catch(a){return n(a)}const o=function(a){let l;if(!a)try{t.walkTokens&&Ge.walkTokens(i,t.walkTokens),l=ci.parse(i,t)}catch(u){a=u}return t.highlight=r,a?n(a):n(null,l)};if(!r||r.length<3||(delete t.highlight,!i.length))return o();let s=0;Ge.walkTokens(i,function(a){a.type==="code"&&(s++,setTimeout(()=>{r(a.text,a.lang,function(l,u){if(l)return o(l);u!=null&&u!==a.text&&(a.text=u,a.escaped=!0),s--,s===0&&o()})},0))}),s===0&&o();return}try{const r=ui.lex(e,t);return t.walkTokens&&Ge.walkTokens(r,t.walkTokens),ci.parse(r,t)}catch(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Zt(r.message+"",!0)+"</pre>";throw r}}Ge.options=Ge.setOptions=function(e){return sr(Ge.defaults,e),AI(Ge.defaults),Ge};Ge.getDefaults=Mg;Ge.defaults=Oo;Ge.use=function(...e){const t=sr({},...e),n=Ge.defaults.extensions||{renderers:{},childTokens:{}};let r;e.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const s=n.renderers?n.renderers[o.name]:null;s?n.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:n.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)})),i.renderer){const o=Ge.defaults.renderer||new vc;for(const s in i.renderer){const a=o[s];o[s]=(...l)=>{let u=i.renderer[s].apply(o,l);return u===!1&&(u=a.apply(o,l)),u}}t.renderer=o}if(i.tokenizer){const o=Ge.defaults.tokenizer||new mc;for(const s in i.tokenizer){const a=o[s];o[s]=(...l)=>{let u=i.tokenizer[s].apply(o,l);return u===!1&&(u=a.apply(o,l)),u}}t.tokenizer=o}if(i.walkTokens){const o=Ge.defaults.walkTokens;t.walkTokens=function(s){i.walkTokens.call(this,s),o&&o.call(this,s)}}r&&(t.extensions=n),Ge.setOptions(t)})};Ge.walkTokens=function(e,t){for(const n of e)switch(t.call(Ge,n),n.type){case"table":{for(const r of n.header)Ge.walkTokens(r.tokens,t);for(const r of n.rows)for(const i of r)Ge.walkTokens(i.tokens,t);break}case"list":{Ge.walkTokens(n.items,t);break}default:Ge.defaults.extensions&&Ge.defaults.extensions.childTokens&&Ge.defaults.extensions.childTokens[n.type]?Ge.defaults.extensions.childTokens[n.type].forEach(function(r){Ge.walkTokens(n[r],t)}):n.tokens&&Ge.walkTokens(n.tokens,t)}};Ge.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=sr({},Ge.defaults,t||{}),Ng(t);try{const n=ui.lexInline(e,t);return t.walkTokens&&Ge.walkTokens(n,t.walkTokens),ci.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Zt(n.message+"",!0)+"</pre>";throw n}};Ge.Parser=ci;Ge.parser=ci.parse;Ge.Renderer=vc;Ge.TextRenderer=Fg;Ge.Lexer=ui;Ge.lexer=ui.lex;Ge.Tokenizer=mc;Ge.Slugger=Bg;Ge.parse=Ge;Ge.options;Ge.setOptions;Ge.use;Ge.walkTokens;Ge.parseInline;ci.parse;ui.lex;function qs(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var Sf={space:/^\n+/,blockCode:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)(\n)(|[\s\S]*?\n)( {0,3}\1[~`]* *(?:\n+|$)|$)/,heading:/^#{1,6} [^\n]+(\n|$)/,lheading:/^[^\n]+\n {0,3}(=+|-+) *(\n+|$)/,hr:/^(([-_*]) *){3,}(\n+|$)/,list:/^( {0})((?:[*+-]|\d{1,9}\.)) [\s\S]+?(?:\n+(?! )(?!\1(?:[*+-]|\d{1,9}\.) )\n*|\s*$)/,blockquote:/^( {0,3}> ?([^\n]*)(?:\n|$))+/,html:/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?-->[^\n]*(\n+|$)|<\/?(\w+)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$))/,paragraph:/^[^\n]+/},If={strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,inlineCode:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,link:/^!?\[([\s\S]+)\]\(\s*([\s\S]+)(?:\s+([\s\S]+))?\s*\)/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/},fr=(e,t,n)=>`<${e} class="mdhl-${n}">${t}</${e}>`,UI={codeInFences:(e,t)=>fr("span",qs(e),"codeInFences"),heading:(e,t,n)=>fr("b",n(e.text,t),e.type),lheading:(e,t,n)=>fr("b",n(e.text,t),"heading"),paragraph:(e,t,n)=>fr("span",n(e.text,t),e.type),list:(e,t,n)=>{const r=e.text.split(`
`).map(i=>{const o=i.substr(0,1),s=i.substr(1),a=n(s,t);return`${fr("span",o,"bullet")}${a}`}).join(`
`);return fr("span",r,"list")},fences:(e,t)=>{const[,n,r,i,o,s]=e.cap,a=t.codeInFences(o,r);return`${n}${qs(r)}${i}${a}${s}`},space:e=>e.text,text:e=>e.text,em:e=>fr("i",e.text,e.type),strong:e=>fr("b",e.text,e.type),defaultInlineRenderer:e=>fr("span",e.text,e.type),defaultBlockRenderer:e=>fr("span",qs(e.text),e.type)};function $g(e,t){let n="";for(;e;)if(!Object.keys(If).some(r=>{const i=If[r].exec(e);if(i){const o=i[0];e=e.substring(o.length);const s=qs(o);return n+=(t[r]||t.defaultInlineRenderer)({type:r,text:s,cap:i},t,$g),!0}return!1}))throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return n}function jI(e){const t=[];for(e=e.replace(/^ +$/gm,"");e;)if(!Object.keys(Sf).some(n=>{const r=Sf[n].exec(e);if(r){const i=r[0];return e=e.substring(i.length),t.push({text:i,type:n,cap:r}),!0}return!1}))throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return t}function VI(e,t){return e.map(n=>(t[n.type]||t.defaultBlockRenderer)(n,t,$g)).join("").replace(/\n/g,"<br/>")}function GI(e,t=UI){return VI(jI(e),t)}var HI=e=>{e.data("markdownEditorFormComponent",({state:t,tab:n})=>({attachment:null,overlay:null,preview:"",state:t,tab:n,init:function(){this.state!==null&&this.$nextTick(()=>{this.render()}),this.$watch("state",()=>{this.render()})},render:function(){this.$refs.textarea.scrollHeight>0&&(this.$refs.overlay.style.height="150px",this.$refs.overlay.style.height=this.$refs.textarea.scrollHeight+"px"),this.overlay=null,this.overlay=GI(this.state),this.preview=null,this.preview=wI.sanitize(Ge(this.state))},checkForAutoInsertion(r){const i=this.$refs.textarea.value.split(`
`),o=this.$refs.textarea.value.substring(0,this.$refs.textarea.value.selectionStart).split(`
`).length,s=i[o-2];if(!!s.match(/^(\*\s|-\s)|^(\d)+\./)){if(s.match(/^(\*\s)/))s.trim().length>1?i[o-1]="* ":delete i[o-2];else if(s.match(/^(-\s)/))s.trim().length>1?i[o-1]="- ":delete i[o-2];else{const l=s.match(/^(\d)+/)[0];s.trim().length>l.length+2?i[o-1]=`${parseInt(l)+1}. `:delete i[o-2]}this.state=i.join(`
`),this.render()}}}))},Fi=Ao(Yy());Fi.default.config.blockAttributes.default.tagName="p";Fi.default.config.blockAttributes.default.breakOnReturn=!0;Fi.default.config.blockAttributes.heading={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1};Fi.default.config.blockAttributes.subHeading={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1};Fi.default.Block.prototype.breaksOnReturn=function(){var n;const e=this.getLastAttribute(),t=Fi.default.getBlockConfig(e||"default");return(n=t==null?void 0:t.breakOnReturn)!=null?n:!1};Fi.default.LineBreakInsertion.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset>0:this.shouldBreakFormattedBlock()?!1:this.breaksOnReturn};var WI=e=>{e.data("richEditorFormComponent",({state:t})=>({state:t,init:function(){var n,r;(r=(n=this.$refs.trix)==null?void 0:n.editor)==null||r.loadHTML(this.state),this.$watch("state",()=>{var i,o;document.activeElement!==this.$refs.trix&&((o=(i=this.$refs.trix)==null?void 0:i.editor)==null||o.loadHTML(this.state))})}}))},zI=Ao(qy()),YI=e=>{e.data("selectFormComponent",({isHtmlAllowed:t,getOptionLabelUsing:n,getOptionLabelsUsing:r,getOptionsUsing:i,getSearchResultsUsing:o,isAutofocused:s,isMultiple:a,hasDynamicOptions:l,hasDynamicSearchResults:u,loadingMessage:c,maxItems:f,noSearchResultsMessage:d,options:p,placeholder:g,searchingMessage:h,searchPrompt:v,state:y})=>({isSearching:!1,select:null,selectedOptions:[],isStateBeingUpdated:!1,state:y,init:async function(){this.select=new zI.default(this.$refs.input,{allowHTML:t,duplicateItemsAllowed:!1,itemSelectText:"",loadingText:c,maxItemCount:f!=null?f:-1,noChoicesText:v,noResultsText:d,placeholderValue:g,removeItemButton:!0,renderChoiceLimit:50,searchChoices:!u,searchFields:["label"],searchResultLimit:50,shouldSort:!1}),await this.refreshChoices({withInitialOptions:!0}),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state)),this.refreshPlaceholder(),s&&this.select.showDropdown(),this.$refs.input.addEventListener("change",()=>{var E;this.refreshPlaceholder(),!this.isStateBeingUpdated&&(this.isStateBeingUpdated=!0,this.state=(E=this.select.getValue(!0))!=null?E:null,this.$nextTick(()=>this.isStateBeingUpdated=!1))}),l&&this.$refs.input.addEventListener("showDropdown",async()=>{this.select.clearChoices(),await this.select.setChoices([{value:"",label:c,disabled:!0}]),await this.refreshChoices()}),u&&(this.$refs.input.addEventListener("search",async E=>{var b;let m=(b=E.detail.value)==null?void 0:b.trim();[null,void 0,""].includes(m)||(this.isSearching=!0,this.select.clearChoices(),await this.select.setChoices([{value:"",label:h,disabled:!0}]))}),this.$refs.input.addEventListener("search",e.debounce(async E=>{var m;await this.refreshChoices({search:(m=E.detail.value)==null?void 0:m.trim()}),this.isSearching=!1},1e3))),this.$watch("state",async()=>{if(this.refreshPlaceholder(),this.isStateBeingUpdated)return;const E=await this.getChoices({withInitialOptions:!l});this.select.clearStore(),this.setChoices(E),[null,void 0,""].includes(this.state)||this.select.setChoiceByValue(this.formatState(this.state))})},refreshChoices:async function(E={}){this.setChoices(await this.getChoices(E))},setChoices:function(E){this.select.setChoices(E,"value","label",!0)},getChoices:async function(E={}){const m=await this.getOptions(E);return this.transformOptionsIntoChoices({...m,...await this.getMissingOptions(m)})},getOptions:async function({search:E,withInitialOptions:m}){return m?p:E!==""&&E!==null&&E!==void 0?await o(E):await i()},transformOptionsIntoChoices:function(E){return Object.entries(E).map(([m,b])=>({label:b,value:m}))},refreshPlaceholder:function(){a||(this.select._renderItems(),[null,void 0,""].includes(this.state)&&(this.$el.querySelector(".choices__list--single").innerHTML=`<div class="choices__placeholder choices__item">${g}</div>`))},formatState:function(E){return a?(E!=null?E:[]).map(m=>m==null?void 0:m.toString()):E==null?void 0:E.toString()},getMissingOptions:async function(E){if([null,void 0,"",[],{}].includes(this.state))return{};if(E.length||(E={}),a)return this.state.every(b=>b in E)?{}:await r();if(this.state in E)return E;let m={};return m[this.state]=await n(),m}}))},qI=e=>{e.data("tagsInputFormComponent",({state:t})=>({newTag:"",state:t,createTag:function(){if(this.newTag=this.newTag.trim(),this.newTag!==""){if(this.state.includes(this.newTag)){this.newTag="";return}this.state.push(this.newTag),this.newTag=""}},deleteTag:function(n){this.state=this.state.filter(r=>r!==n)}}))};function ya(e){return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&Cf(e.prototype,t),n&&Cf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},He(e)}function wu(e,t){return wu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},wu(e,t)}function XI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ZI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function gs(e,t){if(e==null)return{};var n=ZI(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function JI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QI(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JI(e)}function wr(e){var t=XI();return function(){var r=He(e),i;if(t){var o=He(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return QI(this,i)}}function Ug(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=He(e),e!==null););return e}function tt(){return typeof Reflect<"u"&&Reflect.get?tt=Reflect.get:tt=function(t,n,r){var i=Ug(t,n);if(!!i){var o=Object.getOwnPropertyDescriptor(i,n);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tt.apply(this,arguments)}function Ks(e,t,n,r){return typeof Reflect<"u"&&Reflect.set?Ks=Reflect.set:Ks=function(o,s,a,l){var u=Ug(o,s),c;if(u){if(c=Object.getOwnPropertyDescriptor(u,s),c.set)return c.set.call(l,a),!0;if(!c.writable)return!1}if(c=Object.getOwnPropertyDescriptor(l,s),c){if(!c.writable)return!1;c.value=a,Object.defineProperty(l,s,c)}else KI(l,s,a);return!0},Ks(e,t,n,r)}function xr(e,t,n,r,i){var o=Ks(e,t,n,r||e);if(!o&&i)throw new Error("failed to set property");return n}function Cr(e,t){return eC(e)||tC(e,t)||nC(e,t)||rC()}function eC(e){if(Array.isArray(e))return e}function tC(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function nC(e,t){if(!!e){if(typeof e=="string")return Of(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Of(e,t)}}function Of(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt=function(){function e(t){Gt(this,e),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},t)}return Ht(e,[{key:"aggregate",value:function(n){return this.rawInserted+=n.rawInserted,this.skip=this.skip||n.skip,this.inserted+=n.inserted,this.tailShift+=n.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),e}();function so(e){return typeof e=="string"||e instanceof String}var Fe={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function iC(e){switch(e){case Fe.LEFT:return Fe.FORCE_LEFT;case Fe.RIGHT:return Fe.FORCE_RIGHT;default:return e}}function Il(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function yc(e){return Array.isArray(e)?e:[e,new wt]}function Au(e,t){if(t===e)return!0;var n=Array.isArray(t),r=Array.isArray(e),i;if(n&&r){if(t.length!=e.length)return!1;for(i=0;i<t.length;i++)if(!Au(t[i],e[i]))return!1;return!0}if(n!=r)return!1;if(t&&e&&ya(t)==="object"&&ya(e)==="object"){var o=t instanceof Date,s=e instanceof Date;if(o&&s)return t.getTime()==e.getTime();if(o!=s)return!1;var a=t instanceof RegExp,l=e instanceof RegExp;if(a&&l)return t.toString()==e.toString();if(a!=l)return!1;var u=Object.keys(t);for(i=0;i<u.length;i++)if(!Object.prototype.hasOwnProperty.call(e,u[i]))return!1;for(i=0;i<u.length;i++)if(!Au(e[u[i]],t[u[i]]))return!1;return!0}else if(t&&e&&typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();return!1}var oC=function(){function e(t,n,r,i){for(Gt(this,e),this.value=t,this.cursorPos=n,this.oldValue=r,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return Ht(e,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?Fe.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Fe.RIGHT:Fe.LEFT}}]),e}(),Or=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;Gt(this,e),this.value=t,this.from=n,this.stop=r}return Ht(e,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(n){this.value+=String(n)}},{key:"appendTo",value:function(n){return n.append(this.toString(),{tail:!0}).aggregate(n._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(n){Object.assign(this,n)}},{key:"unshift",value:function(n){if(!this.value.length||n!=null&&this.from>=n)return"";var r=this.value[0];return this.value=this.value.slice(1),r}},{key:"shift",value:function(){if(!this.value.length)return"";var n=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),n}}]),e}();function Qe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Qe.InputMask(e,t)}var Vi=function(){function e(t){Gt(this,e),this._value="",this._update(Object.assign({},e.DEFAULTS,t)),this.isInitialized=!0}return Ht(e,[{key:"updateOptions",value:function(n){!Object.keys(n).length||this.withValueRefresh(this._update.bind(this,n))}},{key:"_update",value:function(n){Object.assign(this,n)}},{key:"state",get:function(){return{_value:this.value}},set:function(n){this._value=n._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(n){this.resolve(n)}},{key:"resolve",value:function(n){return this.reset(),this.append(n,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(n){this.reset(),this.append(n,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(n){this.value=this.doFormat(n)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(n){this.reset(),this.append(n,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(n,r){return n}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this.value.slice(n,r)}},{key:"extractTail",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return new Or(this.extractInput(n,r),n)}},{key:"appendTail",value:function(n){return so(n)&&(n=new Or(String(n))),n.appendTo(this)}},{key:"_appendCharRaw",value:function(n){return n?(this._value+=n,new wt({inserted:n,rawInserted:n})):new wt}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=this.state,s,a=yc(this.doPrepare(n,r)),l=Cr(a,2);if(n=l[0],s=l[1],s=s.aggregate(this._appendCharRaw(n,r)),s.inserted){var u,c=this.doValidate(r)!==!1;if(c&&i!=null){var f=this.state;this.overwrite===!0&&(u=i.state,i.unshift(this.value.length));var d=this.appendTail(i);c=d.rawInserted===i.toString(),!(c&&d.inserted)&&this.overwrite==="shift"&&(this.state=f,u=i.state,i.shift(),d=this.appendTail(i),c=d.rawInserted===i.toString()),c&&d.inserted&&(this.state=f)}c||(s=new wt,this.state=o,i&&u&&(i.state=u))}return s}},{key:"_appendPlaceholder",value:function(){return new wt}},{key:"_appendEager",value:function(){return new wt}},{key:"append",value:function(n,r,i){if(!so(n))throw new Error("value should be string");var o=new wt,s=so(i)?new Or(String(i)):i;r&&r.tail&&(r._beforeTailState=this.state);for(var a=0;a<n.length;++a)o.aggregate(this._appendChar(n[a],r,s));return s!=null&&(o.tailShift+=this.appendTail(s).tailShift),this.eager&&r!==null&&r!==void 0&&r.input&&n&&o.aggregate(this._appendEager()),o}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return this._value=this.value.slice(0,n)+this.value.slice(r),new wt}},{key:"withValueRefresh",value:function(n){if(this._refreshing||!this.isInitialized)return n();this._refreshing=!0;var r=this.rawInputValue,i=this.value,o=n();return this.rawInputValue=r,this.value&&this.value!==i&&i.indexOf(this.value)===0&&this.append(i.slice(this.value.length),{},""),delete this._refreshing,o}},{key:"runIsolated",value:function(n){if(this._isolated||!this.isInitialized)return n(this);this._isolated=!0;var r=this.state,i=n(this);return this.state=r,delete this._isolated,i}},{key:"doPrepare",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.prepare?this.prepare(n,this,r):n}},{key:"doValidate",value:function(n){return(!this.validate||this.validate(this.value,this,n))&&(!this.parent||this.parent.doValidate(n))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(n){return this.format?this.format(n,this):n}},{key:"doParse",value:function(n){return this.parse?this.parse(n,this):n}},{key:"splice",value:function(n,r,i,o){var s=n+r,a=this.extractTail(s),l;this.eager&&(o=iC(o),l=this.extractInput(0,s,{raw:!0}));var u=this.nearestInputPos(n,r>1&&n!==0&&!this.eager?Fe.NONE:o),c=new wt({tailShift:u-n}).aggregate(this.remove(u));if(this.eager&&o!==Fe.NONE&&l===this.rawInputValue)if(o===Fe.FORCE_LEFT)for(var f;l===this.rawInputValue&&(f=this.value.length);)c.aggregate(new wt({tailShift:-1})).aggregate(this.remove(f-1));else o===Fe.FORCE_RIGHT&&a.unshift();return c.aggregate(this.append(i,{input:!0},a))}},{key:"maskEquals",value:function(n){return this.mask===n}}]),e}();Vi.DEFAULTS={format:function(t){return t},parse:function(t){return t}};Qe.Masked=Vi;function jg(e){if(e==null)throw new Error("mask property should be defined");return e instanceof RegExp?Qe.MaskedRegExp:so(e)?Qe.MaskedPattern:e instanceof Date||e===Date?Qe.MaskedDate:e instanceof Number||typeof e=="number"||e===Number?Qe.MaskedNumber:Array.isArray(e)||e===Array?Qe.MaskedDynamic:Qe.Masked&&e.prototype instanceof Qe.Masked?e:e instanceof Qe.Masked?e.constructor:e instanceof Function?Qe.MaskedFunction:(console.warn("Mask not found for mask",e),Qe.Masked)}function Bi(e){if(Qe.Masked&&e instanceof Qe.Masked)return e;e=Object.assign({},e);var t=e.mask;if(Qe.Masked&&t instanceof Qe.Masked)return t;var n=jg(t);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(e)}Qe.createMask=Bi;var sC=["mask"],aC={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Vg=function(){function e(t){Gt(this,e);var n=t.mask,r=gs(t,sC);this.masked=Bi({mask:n}),Object.assign(this,r)}return Ht(e,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length;return n===0&&r>=1?(this.isFilled=!1,this.masked.remove(n,r)):new wt}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isFilled)return new wt;var i=this.masked.state,o=this.masked._appendChar(n,r);return o.inserted&&this.doValidate(r)===!1&&(o.inserted=o.rawInserted="",this.masked.state=i),!o.inserted&&!this.isOptional&&!this.lazy&&!r.input&&(o.inserted=this.placeholderChar),o.skip=!o.inserted&&!this.isOptional,this.isFilled=Boolean(o.inserted),o}},{key:"append",value:function(){var n;return(n=this.masked).append.apply(n,arguments)}},{key:"_appendPlaceholder",value:function(){var n=new wt;return this.isFilled||this.isOptional||(this.isFilled=!0,n.inserted=this.placeholderChar),n}},{key:"_appendEager",value:function(){return new wt}},{key:"extractTail",value:function(){var n;return(n=this.masked).extractTail.apply(n,arguments)}},{key:"appendTail",value:function(){var n;return(n=this.masked).appendTail.apply(n,arguments)}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(n,r,i)}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.NONE,i=0,o=this.value.length,s=Math.min(Math.max(n,i),o);switch(r){case Fe.LEFT:case Fe.FORCE_LEFT:return this.isComplete?s:i;case Fe.RIGHT:case Fe.FORCE_RIGHT:return this.isComplete?s:o;case Fe.NONE:default:return s}}},{key:"doValidate",value:function(){var n,r;return(n=this.masked).doValidate.apply(n,arguments)&&(!this.parent||(r=this.parent).doValidate.apply(r,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,isFilled:this.isFilled}},set:function(n){this.masked.state=n.masked,this.isFilled=n.isFilled}}]),e}(),Gg=function(){function e(t){Gt(this,e),Object.assign(this,t),this._value="",this.isFixed=!0}return Ht(e,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length;return this._value=this._value.slice(0,n)+this._value.slice(r),this._value||(this._isRawInput=!1),new wt}},{key:"nearestInputPos",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.NONE,i=0,o=this._value.length;switch(r){case Fe.LEFT:case Fe.FORCE_LEFT:return i;case Fe.NONE:case Fe.RIGHT:case Fe.FORCE_RIGHT:default:return o}}},{key:"extractInput",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._value.length,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.raw&&this._isRawInput&&this._value.slice(n,r)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=new wt;if(this._value)return i;var o=this.char===n,s=o&&(this.isUnmasking||r.input||r.raw)&&!this.eager&&!r.tail;return s&&(i.rawInserted=this.char),this._value=i.inserted=this.char,this._isRawInput=s&&(r.raw||r.input),i}},{key:"_appendEager",value:function(){return this._appendChar(this.char)}},{key:"_appendPlaceholder",value:function(){var n=new wt;return this._value||(this._value=n.inserted=this.char),n}},{key:"extractTail",value:function(){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,new Or("")}},{key:"appendTail",value:function(n){return so(n)&&(n=new Or(String(n))),n.appendTo(this)}},{key:"append",value:function(n,r,i){var o=this._appendChar(n[0],r);return i!=null&&(o.tailShift+=this.appendTail(i).tailShift),o}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(n){Object.assign(this,n)}}]),e}(),lC=["chunks"],xf=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Gt(this,e),this.chunks=t,this.from=n}return Ht(e,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(n){if(!!String(n)){so(n)&&(n=new Or(String(n)));var r=this.chunks[this.chunks.length-1],i=r&&(r.stop===n.stop||n.stop==null)&&n.from===r.from+r.toString().length;if(n instanceof Or)i?r.extend(n.toString()):this.chunks.push(n);else if(n instanceof e){if(n.stop==null)for(var o;n.chunks.length&&n.chunks[0].stop==null;)o=n.chunks.shift(),o.from+=n.from,this.extend(o);n.toString()&&(n.stop=n.blockIndex,this.chunks.push(n))}}}},{key:"appendTo",value:function(n){if(!(n instanceof Qe.MaskedPattern)){var r=new Or(this.toString());return r.appendTo(n)}for(var i=new wt,o=0;o<this.chunks.length&&!i.skip;++o){var s=this.chunks[o],a=n._mapPosToBlock(n.value.length),l=s.stop,u=void 0;if(l!=null&&(!a||a.index<=l)&&((s instanceof e||n._stops.indexOf(l)>=0)&&i.aggregate(n._appendPlaceholder(l)),u=s instanceof e&&n._blocks[l]),u){var c=u.appendTail(s);c.skip=!1,i.aggregate(c),n._value+=c.inserted;var f=s.toString().slice(c.rawInserted.length);f&&i.aggregate(n.append(f,{tail:!0}))}else i.aggregate(n.append(s.toString(),{tail:!0}))}return i}},{key:"state",get:function(){return{chunks:this.chunks.map(function(n){return n.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(n){var r=n.chunks,i=gs(n,lC);Object.assign(this,i),this.chunks=r.map(function(o){var s="chunks"in o?new e:new Or;return s.state=o,s})}},{key:"unshift",value:function(n){if(!this.chunks.length||n!=null&&this.from>=n)return"";for(var r=n!=null?n-this.from:n,i=0;i<this.chunks.length;){var o=this.chunks[i],s=o.unshift(r);if(o.toString()){if(!s)break;++i}else this.chunks.splice(i,1);if(s)return s}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var n=this.chunks.length-1;0<=n;){var r=this.chunks[n],i=r.shift();if(r.toString()){if(!i)break;--n}else this.chunks.splice(n,1);if(i)return i}return""}}]),e}(),uC=function(){function e(t,n){Gt(this,e),this.masked=t,this._log=[];var r=t._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),i=r.offset,o=r.index;this.offset=i,this.index=o,this.ok=!1}return Ht(e,[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(n){Object.assign(this,n)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var n=this._log.pop();return this.state=n,n}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}},{key:"_pushLeft",value:function(n){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((r=this.block)===null||r===void 0?void 0:r.value.length)||0){var r;if(n())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(n){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(n())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,Fe.FORCE_LEFT),n.offset!==0))return!0})}},{key:"pushLeftBeforeInput",value:function(){var n=this;return this._pushLeft(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,Fe.LEFT),!0})}},{key:"pushLeftBeforeRequired",value:function(){var n=this;return this._pushLeft(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,Fe.LEFT),!0})}},{key:"pushRightBeforeFilled",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||!n.block.value)&&(n.offset=n.block.nearestInputPos(n.offset,Fe.FORCE_RIGHT),n.offset!==n.block.value.length))return!0})}},{key:"pushRightBeforeInput",value:function(){var n=this;return this._pushRight(function(){if(!n.block.isFixed)return n.offset=n.block.nearestInputPos(n.offset,Fe.NONE),!0})}},{key:"pushRightBeforeRequired",value:function(){var n=this;return this._pushRight(function(){if(!(n.block.isFixed||n.block.isOptional&&!n.block.value))return n.offset=n.block.nearestInputPos(n.offset,Fe.NONE),!0})}}]),e}(),cC=function(e){_r(n,e);var t=wr(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"_update",value:function(i){i.mask&&(i.validate=function(o){return o.search(i.mask)>=0}),tt(He(n.prototype),"_update",this).call(this,i)}}]),n}(Vi);Qe.MaskedRegExp=cC;var dC=["_blocks"],Fr=function(e){_r(n,e);var t=wr(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Gt(this,n),r.definitions=Object.assign({},aC,r.definitions),t.call(this,Object.assign({},n.DEFAULTS,r))}return Ht(n,[{key:"_update",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};i.definitions=Object.assign({},this.definitions,i.definitions),tt(He(n.prototype),"_update",this).call(this,i),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var i=this,o=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var s=this.mask;if(!(!s||!o))for(var a=!1,l=!1,u=0;u<s.length;++u){if(this.blocks){var c=function(){var g=s.slice(u),h=Object.keys(i.blocks).filter(function(E){return g.indexOf(E)===0});h.sort(function(E,m){return m.length-E.length});var v=h[0];if(v){var y=Bi(Object.assign({parent:i,lazy:i.lazy,eager:i.eager,placeholderChar:i.placeholderChar,overwrite:i.overwrite},i.blocks[v]));return y&&(i._blocks.push(y),i._maskedBlocks[v]||(i._maskedBlocks[v]=[]),i._maskedBlocks[v].push(i._blocks.length-1)),u+=v.length-1,"continue"}}();if(c==="continue")continue}var f=s[u],d=f in o;if(f===n.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(f==="{"||f==="}"){a=!a;continue}if(f==="["||f==="]"){l=!l;continue}if(f===n.ESCAPE_CHAR){if(++u,f=s[u],!f)break;d=!1}var p=d?new Vg({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:o[f],isOptional:l}):new Gg({char:f,eager:this.eager,isUnmasking:a});this._blocks.push(p)}}},{key:"state",get:function(){return Object.assign({},tt(He(n.prototype),"state",this),{_blocks:this._blocks.map(function(i){return i.state})})},set:function(i){var o=i._blocks,s=gs(i,dC);this._blocks.forEach(function(a,l){return a.state=o[l]}),xr(He(n.prototype),"state",s,this,!0)}},{key:"reset",value:function(){tt(He(n.prototype),"reset",this).call(this),this._blocks.forEach(function(i){return i.reset()})}},{key:"isComplete",get:function(){return this._blocks.every(function(i){return i.isComplete})}},{key:"isFilled",get:function(){return this._blocks.every(function(i){return i.isFilled})}},{key:"isFixed",get:function(){return this._blocks.every(function(i){return i.isFixed})}},{key:"isOptional",get:function(){return this._blocks.every(function(i){return i.isOptional})}},{key:"doCommit",value:function(){this._blocks.forEach(function(i){return i.doCommit()}),tt(He(n.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(i,o){return i+=o.unmaskedValue},"")},set:function(i){xr(He(n.prototype),"unmaskedValue",i,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(i,o){return i+=o.value},"")},set:function(i){xr(He(n.prototype),"value",i,this,!0)}},{key:"appendTail",value:function(i){return tt(He(n.prototype),"appendTail",this).call(this,i).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var i,o=new wt,s=(i=this._mapPosToBlock(this.value.length))===null||i===void 0?void 0:i.index;if(s==null)return o;this._blocks[s].isFilled&&++s;for(var a=s;a<this._blocks.length;++a){var l=this._blocks[a]._appendEager();if(!l.inserted)break;o.aggregate(l)}return o}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._mapPosToBlock(this.value.length),a=new wt;if(!s)return a;for(var l=s.index;;++l){var u,c=this._blocks[l];if(!c)break;var f=c._appendChar(i,Object.assign({},o,{_beforeTailState:(u=o._beforeTailState)===null||u===void 0?void 0:u._blocks[l]})),d=f.skip;if(a.aggregate(f),d||f.rawInserted)break}return a}},{key:"extractTail",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,a=new xf;return o===s||this._forEachBlocksInRange(o,s,function(l,u,c,f){var d=l.extractTail(c,f);d.stop=i._findStopBefore(u),d.from=i._blockStartPos(u),d instanceof xf&&(d.blockIndex=u),a.extend(d)}),a}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i===o)return"";var a="";return this._forEachBlocksInRange(i,o,function(l,u,c,f){a+=l.extractInput(c,f,s)}),a}},{key:"_findStopBefore",value:function(i){for(var o,s=0;s<this._stops.length;++s){var a=this._stops[s];if(a<=i)o=a;else break}return o}},{key:"_appendPlaceholder",value:function(i){var o=this,s=new wt;if(this.lazy&&i==null)return s;var a=this._mapPosToBlock(this.value.length);if(!a)return s;var l=a.index,u=i!=null?i:this._blocks.length;return this._blocks.slice(l,u).forEach(function(c){if(!c.lazy||i!=null){var f=c._blocks!=null?[c._blocks.length]:[],d=c._appendPlaceholder.apply(c,f);o._value+=d.inserted,s.aggregate(d)}}),s}},{key:"_mapPosToBlock",value:function(i){for(var o="",s=0;s<this._blocks.length;++s){var a=this._blocks[s],l=o.length;if(o+=a.value,i<=o.length)return{index:s,offset:i-l}}}},{key:"_blockStartPos",value:function(i){return this._blocks.slice(0,i).reduce(function(o,s){return o+=s.value.length},0)}},{key:"_forEachBlocksInRange",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2?arguments[2]:void 0,a=this._mapPosToBlock(i);if(a){var l=this._mapPosToBlock(o),u=l&&a.index===l.index,c=a.offset,f=l&&u?l.offset:this._blocks[a.index].value.length;if(s(this._blocks[a.index],a.index,c,f),l&&!u){for(var d=a.index+1;d<l.index;++d)s(this._blocks[d],d,0,this._blocks[d].value.length);s(this._blocks[l.index],l.index,0,l.offset)}}}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=tt(He(n.prototype),"remove",this).call(this,i,o);return this._forEachBlocksInRange(i,o,function(a,l,u,c){s.aggregate(a.remove(u,c))}),s}},{key:"nearestInputPos",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.NONE;if(!this._blocks.length)return 0;var s=new uC(this,i);if(o===Fe.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.value.length;if(o===Fe.LEFT||o===Fe.FORCE_LEFT){if(o===Fe.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===i)return i;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),o===Fe.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=i||(s.popState(),s.ok&&s.pos<=i))return s.pos;s.popState()}return s.ok?s.pos:o===Fe.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return o===Fe.RIGHT||o===Fe.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:o===Fe.FORCE_RIGHT?this.value.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(i,Fe.LEFT))):i}},{key:"maskedBlock",value:function(i){return this.maskedBlocks(i)[0]}},{key:"maskedBlocks",value:function(i){var o=this,s=this._maskedBlocks[i];return s?s.map(function(a){return o._blocks[a]}):[]}}]),n}(Vi);Fr.DEFAULTS={lazy:!0,placeholderChar:"_"};Fr.STOP_CHAR="`";Fr.ESCAPE_CHAR="\\";Fr.InputDefinition=Vg;Fr.FixedDefinition=Gg;Qe.MaskedPattern=Fr;var Xs=function(e){_r(n,e);var t=wr(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(i){i=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},i);var o=String(i.to).length;i.maxLength!=null&&(o=Math.max(o,i.maxLength)),i.maxLength=o;for(var s=String(i.from).padStart(o,"0"),a=String(i.to).padStart(o,"0"),l=0;l<a.length&&a[l]===s[l];)++l;i.mask=a.slice(0,l).replace(/0/g,"\\0")+"0".repeat(o-l),tt(He(n.prototype),"_update",this).call(this,i)}},{key:"isComplete",get:function(){return tt(He(n.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(i){var o="",s="",a=i.match(/^(\D*)(\d*)(\D*)/)||[],l=Cr(a,3),u=l[1],c=l[2];return c&&(o="0".repeat(u.length)+c,s="9".repeat(u.length)+c),o=o.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[o,s]}},{key:"doPrepare",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,a=yc(tt(He(n.prototype),"doPrepare",this).call(this,i.replace(/\D/g,""),o)),l=Cr(a,2);if(i=l[0],s=l[1],!this.autofix||!i)return i;var u=String(this.from).padStart(this.maxLength,"0"),c=String(this.to).padStart(this.maxLength,"0"),f=this.value+i;if(f.length>this.maxLength)return"";var d=this.boundaries(f),p=Cr(d,2),g=p[0],h=p[1];return Number(h)<this.from?u[f.length-1]:Number(g)>this.to?this.autofix==="pad"&&f.length<this.maxLength?["",s.aggregate(this.append(u[f.length-1]+i,o))]:c[f.length-1]:i}},{key:"doValidate",value:function(){var i,o=this.value,s=o.search(/[^0]/);if(s===-1&&o.length<=this._matchFrom)return!0;for(var a=this.boundaries(o),l=Cr(a,2),u=l[0],c=l[1],f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return this.from<=Number(c)&&Number(u)<=this.to&&(i=tt(He(n.prototype),"doValidate",this)).call.apply(i,[this].concat(d))}}]),n}(Fr);Qe.MaskedRange=Xs;var bc=function(e){_r(n,e);var t=wr(n);function n(r){return Gt(this,n),t.call(this,Object.assign({},n.DEFAULTS,r))}return Ht(n,[{key:"_update",value:function(i){i.mask===Date&&delete i.mask,i.pattern&&(i.mask=i.pattern);var o=i.blocks;i.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),i.min&&(i.blocks.Y.from=i.min.getFullYear()),i.max&&(i.blocks.Y.to=i.max.getFullYear()),i.min&&i.max&&i.blocks.Y.from===i.blocks.Y.to&&(i.blocks.m.from=i.min.getMonth()+1,i.blocks.m.to=i.max.getMonth()+1,i.blocks.m.from===i.blocks.m.to&&(i.blocks.d.from=i.min.getDate(),i.blocks.d.to=i.max.getDate())),Object.assign(i.blocks,this.blocks,o),Object.keys(i.blocks).forEach(function(s){var a=i.blocks[s];!("autofix"in a)&&"autofix"in i&&(a.autofix=i.autofix)}),tt(He(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i,o=this.date,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(i=tt(He(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.isComplete||this.isDateExist(this.value)&&o!=null&&(this.min==null||this.min<=o)&&(this.max==null||o<=this.max))}},{key:"isDateExist",value:function(i){return this.format(this.parse(i,this),this).indexOf(i)>=0}},{key:"date",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"typedValue",get:function(){return this.isComplete?tt(He(n.prototype),"typedValue",this):null},set:function(i){xr(He(n.prototype),"typedValue",i,this,!0)}},{key:"maskEquals",value:function(i){return i===Date||tt(He(n.prototype),"maskEquals",this).call(this,i)}}]),n}(Fr);bc.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){if(!t)return"";var n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return[n,r,i].join(".")},parse:function(t){var n=t.split("."),r=Cr(n,3),i=r[0],o=r[1],s=r[2];return new Date(s,o-1,i)}};bc.GET_DEFAULT_BLOCKS=function(){return{d:{mask:Xs,from:1,to:31,maxLength:2},m:{mask:Xs,from:1,to:12,maxLength:2},Y:{mask:Xs,from:1900,to:9999}}};Qe.MaskedDate=bc;var Ec=function(){function e(){Gt(this,e)}return Ht(e,[{key:"selectionStart",get:function(){var n;try{n=this._unsafeSelectionStart}catch{}return n!=null?n:this.value.length}},{key:"selectionEnd",get:function(){var n;try{n=this._unsafeSelectionEnd}catch{}return n!=null?n:this.value.length}},{key:"select",value:function(n,r){if(!(n==null||r==null||n===this.selectionStart&&r===this.selectionEnd))try{this._unsafeSelect(n,r)}catch{}}},{key:"_unsafeSelect",value:function(n,r){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(n){}},{key:"unbindEvents",value:function(){}}]),e}();Qe.MaskElement=Ec;var Ja=function(e){_r(n,e);var t=wr(n);function n(r){var i;return Gt(this,n),i=t.call(this),i.input=r,i._handlers={},i}return Ht(n,[{key:"rootElement",get:function(){var i,o,s;return(i=(o=(s=this.input).getRootNode)===null||o===void 0?void 0:o.call(s))!==null&&i!==void 0?i:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(i,o){this.input.setSelectionRange(i,o)}},{key:"value",get:function(){return this.input.value},set:function(i){this.input.value=i}},{key:"bindEvents",value:function(i){var o=this;Object.keys(i).forEach(function(s){return o._toggleEventHandler(n.EVENTS_MAP[s],i[s])})}},{key:"unbindEvents",value:function(){var i=this;Object.keys(this._handlers).forEach(function(o){return i._toggleEventHandler(o)})}},{key:"_toggleEventHandler",value:function(i,o){this._handlers[i]&&(this.input.removeEventListener(i,this._handlers[i]),delete this._handlers[i]),o&&(this.input.addEventListener(i,o),this._handlers[i]=o)}}]),n}(Ec);Ja.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};Qe.HTMLMaskElement=Ja;var Hg=function(e){_r(n,e);var t=wr(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"_unsafeSelectionStart",get:function(){var i=this.rootElement,o=i.getSelection&&i.getSelection(),s=o&&o.anchorOffset,a=o&&o.focusOffset;return a==null||s==null||s<a?s:a}},{key:"_unsafeSelectionEnd",get:function(){var i=this.rootElement,o=i.getSelection&&i.getSelection(),s=o&&o.anchorOffset,a=o&&o.focusOffset;return a==null||s==null||s>a?s:a}},{key:"_unsafeSelect",value:function(i,o){if(!!this.rootElement.createRange){var s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,i),s.setEnd(this.input.lastChild||this.input,o);var a=this.rootElement,l=a.getSelection&&a.getSelection();l&&(l.removeAllRanges(),l.addRange(s))}}},{key:"value",get:function(){return this.input.textContent},set:function(i){this.input.textContent=i}}]),n}(Ja);Qe.HTMLContenteditableMaskElement=Hg;var fC=["mask"],hC=function(){function e(t,n){Gt(this,e),this.el=t instanceof Ec?t:t.isContentEditable&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"?new Hg(t):new Ja(t),this.masked=Bi(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return Ht(e,[{key:"mask",get:function(){return this.masked.mask},set:function(n){if(!this.maskEquals(n)){if(!(n instanceof Qe.Masked)&&this.masked.constructor===jg(n)){this.masked.updateOptions({mask:n});return}var r=Bi({mask:n});r.unmaskedValue=this.masked.unmaskedValue,this.masked=r}}},{key:"maskEquals",value:function(n){var r;return n==null||((r=this.masked)===null||r===void 0?void 0:r.maskEquals(n))}},{key:"value",get:function(){return this._value},set:function(n){this.masked.value=n,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(n){this.masked.unmaskedValue=n,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(n){this.masked.typedValue=n,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=this._listeners[n];!s||s.forEach(function(a){return a.apply(void 0,i)})}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(n){!this.el||!this.el.isActive||(this.el.select(n,n),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var n=this.masked.unmaskedValue,r=this.masked.value,i=this.unmaskedValue!==n||this.value!==r;this._unmaskedValue=n,this._value=r,this.el.value!==r&&(this.el.value=r),i&&this._fireChangeEvents()}},{key:"updateOptions",value:function(n){var r=n.mask,i=gs(n,fC),o=!this.maskEquals(r),s=!Au(this.masked,i);o&&(this.mask=r),s&&this.masked.updateOptions(i),(o||s)&&this.updateControl()}},{key:"updateCursor",value:function(n){n!=null&&(this.cursorPos=n,this._delayUpdateCursor(n))}},{key:"_delayUpdateCursor",value:function(n){var r=this;this._abortUpdateCursor(),this._changingCursorPos=n,this._cursorChanging=setTimeout(function(){!r.el||(r.cursorPos=r._changingCursorPos,r._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Fe.LEFT))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(n,r){return this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r),this}},{key:"off",value:function(n,r){if(!this._listeners[n])return this;if(!r)return delete this._listeners[n],this;var i=this._listeners[n].indexOf(r);return i>=0&&this._listeners[n].splice(i,1),this}},{key:"_onInput",value:function(n){if(this._inputEvent=n,this._abortUpdateCursor(),!this._selection)return this.updateValue();var r=new oC(this.el.value,this.cursorPos,this.value,this._selection),i=this.masked.rawInputValue,o=this.masked.splice(r.startChangePos,r.removed.length,r.inserted,r.removeDirection).offset,s=i===this.masked.rawInputValue?r.removeDirection:Fe.NONE,a=this.masked.nearestInputPos(r.startChangePos+o,s);s!==Fe.NONE&&(a=this.masked.nearestInputPos(a,Fe.NONE)),this.updateControl(),this.updateCursor(a),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(n){n.preventDefault(),n.stopPropagation()}},{key:"_onFocus",value:function(n){this.alignCursorFriendly()}},{key:"_onClick",value:function(n){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),e}();Qe.InputMask=hC;var pC=function(e){_r(n,e);var t=wr(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"_update",value:function(i){i.enum&&(i.mask="*".repeat(i.enum[0].length)),tt(He(n.prototype),"_update",this).call(this,i)}},{key:"doValidate",value:function(){for(var i=this,o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return this.enum.some(function(u){return u.indexOf(i.unmaskedValue)>=0})&&(o=tt(He(n.prototype),"doValidate",this)).call.apply(o,[this].concat(a))}}]),n}(Fr);Qe.MaskedEnum=pC;var Wg=function(e){_r(n,e);var t=wr(n);function n(r){return Gt(this,n),t.call(this,Object.assign({},n.DEFAULTS,r))}return Ht(n,[{key:"_update",value:function(i){tt(He(n.prototype),"_update",this).call(this,i),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var i="^"+(this.allowNegative?"[+|\\-]?":""),o="(0|([1-9]+\\d*))?",s="\\d*",a=(this.scale?"("+Il(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(i+o+a),this._numberRegExp=new RegExp(i+s+a),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Il).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Il(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(i){return i.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(i){var o=i.split(this.radix);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),o.join(this.radix)}},{key:"doPrepare",value:function(i){var o;i=i.replace(this._mapToRadixRegExp,this.radix);for(var s=this._removeThousandsSeparators(i),a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];var c=yc((o=tt(He(n.prototype),"doPrepare",this)).call.apply(o,[this,s].concat(l))),f=Cr(c,2),d=f[0],p=f[1];return i&&!s&&(p.skip=!0),[d,p]}},{key:"_separatorsCount",value:function(i){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=0,a=0;a<i;++a)this._value.indexOf(this.thousandsSeparator,a)===a&&(++s,o&&(i+=this.thousandsSeparator.length));return s}},{key:"_separatorsCountFromSlice",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(i).length,!0)}},{key:"extractInput",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=arguments.length>2?arguments[2]:void 0,a=this._adjustRangeWithSeparators(i,o),l=Cr(a,2);return i=l[0],o=l[1],this._removeThousandsSeparators(tt(He(n.prototype),"extractInput",this).call(this,i,o,s))}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.thousandsSeparator)return tt(He(n.prototype),"_appendCharRaw",this).call(this,i,o);var s=o.tail&&o._beforeTailState?o._beforeTailState._value:this._value,a=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);var l=tt(He(n.prototype),"_appendCharRaw",this).call(this,i,o);this._value=this._insertThousandsSeparators(this._value);var u=o.tail&&o._beforeTailState?o._beforeTailState._value:this._value,c=this._separatorsCountFromSlice(u);return l.tailShift+=(c-a)*this.thousandsSeparator.length,l.skip=!l.rawInserted&&i===this.thousandsSeparator,l}},{key:"_findSeparatorAround",value:function(i){if(this.thousandsSeparator){var o=i-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,o);if(s<=i)return s}return-1}},{key:"_adjustRangeWithSeparators",value:function(i,o){var s=this._findSeparatorAround(i);s>=0&&(i=s);var a=this._findSeparatorAround(o);return a>=0&&(o=a+this.thousandsSeparator.length),[i,o]}},{key:"remove",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.value.length,s=this._adjustRangeWithSeparators(i,o),a=Cr(s,2);i=a[0],o=a[1];var l=this.value.slice(0,i),u=this.value.slice(o),c=this._separatorsCount(l.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(l+u));var f=this._separatorsCountFromSlice(l);return new wt({tailShift:(f-c)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(i,o){if(!this.thousandsSeparator)return i;switch(o){case Fe.NONE:case Fe.LEFT:case Fe.FORCE_LEFT:{var s=this._findSeparatorAround(i-1);if(s>=0){var a=s+this.thousandsSeparator.length;if(i<a||this.value.length<=a||o===Fe.FORCE_LEFT)return s}break}case Fe.RIGHT:case Fe.FORCE_RIGHT:{var l=this._findSeparatorAround(i);if(l>=0)return l+this.thousandsSeparator.length}}return i}},{key:"doValidate",value:function(i){var o=i.input?this._numberRegExpInput:this._numberRegExp,s=o.test(this._removeThousandsSeparators(this.value));if(s){var a=this.number;s=s&&!isNaN(a)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return s&&tt(He(n.prototype),"doValidate",this).call(this,i)}},{key:"doCommit",value:function(){if(this.value){var i=this.number,o=i;this.min!=null&&(o=Math.max(o,this.min)),this.max!=null&&(o=Math.min(o,this.max)),o!==i&&(this.unmaskedValue=String(o));var s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}tt(He(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(i){var o=this._removeThousandsSeparators(i).split(this.radix);return o[0]=o[0].replace(/^(\D*)(0*)(\d*)/,function(s,a,l,u){return a+u}),i.length&&!/\d$/.test(o[0])&&(o[0]=o[0]+"0"),o.length>1&&(o[1]=o[1].replace(/0*$/,""),o[1].length||(o.length=1)),this._insertThousandsSeparators(o.join(this.radix))}},{key:"_padFractionalZeros",value:function(i){if(!i)return i;var o=i.split(this.radix);return o.length<2&&o.push(""),o[1]=o[1].padEnd(this.scale,"0"),o.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(i){xr(He(n.prototype),"unmaskedValue",i.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(i){xr(He(n.prototype),"unmaskedValue",String(i),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(i){this.typedValue=i}},{key:"allowNegative",get:function(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}}]),n}(Vi);Wg.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1};Qe.MaskedNumber=Wg;var gC=function(e){_r(n,e);var t=wr(n);function n(){return Gt(this,n),t.apply(this,arguments)}return Ht(n,[{key:"_update",value:function(i){i.mask&&(i.validate=i.mask),tt(He(n.prototype),"_update",this).call(this,i)}}]),n}(Vi);Qe.MaskedFunction=gC;var mC=["compiledMasks","currentMaskRef","currentMask"],zg=function(e){_r(n,e);var t=wr(n);function n(r){var i;return Gt(this,n),i=t.call(this,Object.assign({},n.DEFAULTS,r)),i.currentMask=null,i}return Ht(n,[{key:"_update",value:function(i){tt(He(n.prototype),"_update",this).call(this,i),"mask"in i&&(this.compiledMasks=Array.isArray(i.mask)?i.mask.map(function(o){return Bi(o)}):[])}},{key:"_appendCharRaw",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this._applyDispatch(i,o);return this.currentMask&&s.aggregate(this.currentMask._appendChar(i,o)),s}},{key:"_applyDispatch",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.tail&&o._beforeTailState!=null?o._beforeTailState._value:this.value,a=this.rawInputValue,l=o.tail&&o._beforeTailState!=null?o._beforeTailState._rawInputValue:a,u=a.slice(l.length),c=this.currentMask,f=new wt,d=c&&c.state;if(this.currentMask=this.doDispatch(i,Object.assign({},o)),this.currentMask)if(this.currentMask!==c){if(this.currentMask.reset(),l){var p=this.currentMask.append(l,{raw:!0});f.tailShift=p.inserted.length-s.length}u&&(f.tailShift+=this.currentMask.append(u,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=d;return f}},{key:"_appendPlaceholder",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendPlaceholder()),i}},{key:"_appendEager",value:function(){var i=this._applyDispatch.apply(this,arguments);return this.currentMask&&i.aggregate(this.currentMask._appendEager()),i}},{key:"doDispatch",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.dispatch(i,this,o)}},{key:"doValidate",value:function(){for(var i,o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(i=tt(He(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))&&(!this.currentMask||(o=this.currentMask).doValidate.apply(o,a))}},{key:"reset",value:function(){var i;(i=this.currentMask)===null||i===void 0||i.reset(),this.compiledMasks.forEach(function(o){return o.reset()})}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(i){xr(He(n.prototype),"value",i,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(i){xr(He(n.prototype),"unmaskedValue",i,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(i){var o=String(i);this.currentMask&&(this.currentMask.typedValue=i,o=this.currentMask.unmaskedValue),this.unmaskedValue=o}},{key:"isComplete",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isComplete)}},{key:"isFilled",get:function(){var i;return Boolean((i=this.currentMask)===null||i===void 0?void 0:i.isFilled)}},{key:"remove",value:function(){var i=new wt;if(this.currentMask){var o;i.aggregate((o=this.currentMask).remove.apply(o,arguments)).aggregate(this._applyDispatch())}return i}},{key:"state",get:function(){return Object.assign({},tt(He(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(i){return i.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(i){var o=i.compiledMasks,s=i.currentMaskRef,a=i.currentMask,l=gs(i,mC);this.compiledMasks.forEach(function(u,c){return u.state=o[c]}),s!=null&&(this.currentMask=s,this.currentMask.state=a),xr(He(n.prototype),"state",l,this,!0)}},{key:"extractInput",value:function(){var i;return this.currentMask?(i=this.currentMask).extractInput.apply(i,arguments):""}},{key:"extractTail",value:function(){for(var i,o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return this.currentMask?(i=this.currentMask).extractTail.apply(i,a):(o=tt(He(n.prototype),"extractTail",this)).call.apply(o,[this].concat(a))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),tt(He(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var i,o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return this.currentMask?(i=this.currentMask).nearestInputPos.apply(i,a):(o=tt(He(n.prototype),"nearestInputPos",this)).call.apply(o,[this].concat(a))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:tt(He(n.prototype),"overwrite",this)},set:function(i){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:tt(He(n.prototype),"eager",this)},set:function(i){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}},{key:"maskEquals",value:function(i){return Array.isArray(i)&&this.compiledMasks.every(function(o,s){var a;return o.maskEquals((a=i[s])===null||a===void 0?void 0:a.mask)})}}]),n}(Vi);zg.DEFAULTS={dispatch:function(t,n,r){if(!!n.compiledMasks.length){var i=n.rawInputValue,o=n.compiledMasks.map(function(s,a){s.reset(),s.append(i,{raw:!0}),s.append(t,r);var l=s.rawInputValue.length;return{weight:l,index:a}});return o.sort(function(s,a){return a.weight-s.weight}),n.compiledMasks[o[0].index]}}};Qe.MaskedDynamic=zg;var Tu={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Yg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tu.MASKED,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tu.MASKED,r=Bi(e);return function(i){return r.runIsolated(function(o){return o[t]=i,o[n]})}}function vC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yg.apply(void 0,n)(e)}Qe.PIPE_TYPE=Tu;Qe.createPipe=Yg;Qe.pipe=vC;try{globalThis.IMask=Qe}catch{}var yC=e=>{e.data("textInputFormComponent",({getMaskOptionsUsing:t,state:n})=>({mask:null,state:n,init:function(){var r;!t||(this.state&&(this.$el.value=(r=this.state)==null?void 0:r.valueOf()),this.mask=Qe(this.$el,t(Qe)).on("accept",()=>{this.state=this.mask.unmaskedValue}),this.$watch("state",()=>{var i,o;this.mask.unmaskedValue=(o=(i=this.state)==null?void 0:i.valueOf())!=null?o:""}))}}))},bC=e=>{e.data("textareaFormComponent",()=>({init:function(){this.$nextTick(()=>{this.render()})},render:function(){this.$el.scrollHeight>0&&(this.$el.style.height="150px",this.$el.style.height=this.$el.scrollHeight+2+"px")}}))};function kr(e){return e.split("-")[0]}function ao(e){return e.split("-")[1]}function xo(e){return["top","bottom"].includes(kr(e))?"x":"y"}function _c(e){return e==="y"?"height":"width"}function Rf(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=xo(t),l=_c(a),u=r[l]/2-i[l]/2,c=kr(t),f=a==="x";let d;switch(c){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(ao(t)){case"start":d[a]-=u*(n&&f?-1:1);break;case"end":d[a]+=u*(n&&f?-1:1);break}return d}var EC=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(t));if(s==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),o.filter(g=>{let{name:h}=g;return h==="autoPlacement"||h==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:c}=Rf(l,r,a),f=r,d={},p=0;for(let g=0;g<o.length;g++){if(p++,p>100)throw new Error(["Floating UI: The middleware lifecycle appears to be","running in an infinite loop. This is usually caused by a `reset`","continually being returned without a break condition."].join(" "));const{name:h,fn:v}=o[g],{x:y,y:E,data:m,reset:b}=await v({x:u,y:c,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:l,platform:s,elements:{reference:e,floating:t}});if(u=y!=null?y:u,c=E!=null?E:c,d={...d,[h]:{...d[h],...m}},b){typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(l=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:u,y:c}=Rf(l,f,a)),g=-1;continue}}return{x:u,y:c,placement:f,strategy:i,middlewareData:d}};function _C(e){return{top:0,right:0,bottom:0,left:0,...e}}function wc(e){return typeof e!="number"?_C(e):{top:e,right:e,bottom:e,left:e}}function ls(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function us(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=t,g=wc(p),v=a[d?f==="floating"?"reference":"floating":f],y=ls(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),E=ls(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:l}):s[f]);return{top:y.top-E.top+g.top,bottom:E.bottom-y.bottom+g.bottom,left:y.left-E.left+g.left,right:E.right-y.right+g.right}}var qg=Math.min,Kg=Math.max;function Su(e,t,n){return Kg(e,qg(t,n))}var Xg=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e!=null?e:{},{x:i,y:o,placement:s,rects:a,platform:l}=t;if(n==null)return console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),{};const u=wc(r),c={x:i,y:o},f=xo(s),d=_c(f),p=await l.getDimensions(n),g=f==="y"?"top":"left",h=f==="y"?"bottom":"right",v=a.reference[d]+a.reference[f]-c[f]-a.floating[d],y=c[f]-a.reference[f],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n)),m=E?f==="y"?E.clientHeight||0:E.clientWidth||0:0,b=v/2-y/2,w=u[g],A=m-p[d]-u[h],_=m/2-p[d]/2+b,T=Su(w,_,A);return{data:{[f]:T,centerOffset:_-T}}}}),wC={left:"right",right:"left",bottom:"top",top:"bottom"};function ba(e){return e.replace(/left|right|bottom|top/g,t=>wC[t])}function Zg(e,t,n){n===void 0&&(n=!1);const r=ao(e),i=xo(e),o=_c(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=ba(s)),{main:s,cross:ba(s)}}var AC={start:"end",end:"start"};function Iu(e){return e.replace(/start|end/g,t=>AC[t])}var Jg=["top","right","bottom","left"],TC=Jg.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function SC(e,t,n){return(e?[...n.filter(i=>ao(i)===e),...n.filter(i=>ao(i)!==e)]:n.filter(i=>kr(i)===i)).filter(i=>e?ao(i)===e||(t?Iu(i)!==i:!1):!0)}var Ac=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i,o,s;const{x:a,y:l,rects:u,middlewareData:c,placement:f,platform:d,elements:p}=t,{alignment:g=null,allowedPlacements:h=TC,autoAlignment:v=!0,...y}=e,E=SC(g,v,h),m=await us(t,y),b=(n=(r=c.autoPlacement)==null?void 0:r.index)!=null?n:0,w=E[b];if(w==null)return{};const{main:A,cross:_}=Zg(w,u,await(d.isRTL==null?void 0:d.isRTL(p.floating)));if(f!==w)return{x:a,y:l,reset:{placement:E[0]}};const T=[m[kr(w)],m[A],m[_]],C=[...(i=(o=c.autoPlacement)==null?void 0:o.overflows)!=null?i:[],{placement:w,overflows:T}],L=E[b+1];if(L)return{data:{index:b+1,overflows:C},reset:{placement:L}};const D=C.slice().sort((x,R)=>x.overflows[0]-R.overflows[0]),O=(s=D.find(x=>{let{overflows:R}=x;return R.every(I=>I<=0)}))==null?void 0:s.placement,S=O!=null?O:D[0].placement;return S!==f?{data:{index:b+1,overflows:C},reset:{placement:S}}:{}}}};function IC(e){const t=ba(e);return[Iu(e),t,Iu(t)]}var Qg=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",flipAlignment:p=!0,...g}=e,h=kr(r),y=f||(h===s||!p?[ba(s)]:IC(s)),E=[s,...y],m=await us(t,g),b=[];let w=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&b.push(m[h]),c){const{main:C,cross:L}=Zg(r,o,await(a.isRTL==null?void 0:a.isRTL(l.floating)));b.push(m[C],m[L])}if(w=[...w,{placement:r,overflows:b}],!b.every(C=>C<=0)){var A,_;const C=((A=(_=i.flip)==null?void 0:_.index)!=null?A:0)+1,L=E[C];if(L)return{data:{index:C,overflows:w},reset:{placement:L}};let D="bottom";switch(d){case"bestFit":{var T;const O=(T=w.map(S=>[S,S.overflows.filter(x=>x>0).reduce((x,R)=>x+R,0)]).sort((S,x)=>S[1]-x[1])[0])==null?void 0:T[0].placement;O&&(D=O);break}case"initialPlacement":D=s;break}if(r!==D)return{reset:{placement:D}}}return{}}}};function Df(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lf(e){return Jg.some(t=>e[t]>=0)}var em=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){const{rects:i}=r;switch(t){case"referenceHidden":{const o=await us(r,{...n,elementContext:"reference"}),s=Df(o,i.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Lf(s)}}}case"escaped":{const o=await us(r,{...n,altBoundary:!0}),s=Df(o,i.floating);return{data:{escapedOffsets:s,escaped:Lf(s)}}}default:return{}}}}};function CC(e,t,n,r){r===void 0&&(r=!1);const i=kr(e),o=ao(e),s=xo(e)==="x",a=["left","top"].includes(i)?-1:1,l=r&&s?-1:1,u=typeof n=="function"?n({...t,placement:e}):n;let{mainAxis:c,crossAxis:f,alignmentAxis:d}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&typeof d=="number"&&(f=o==="end"?d*-1:d),s?{x:f*l,y:c*a}:{x:c*a,y:f*l}}var tm=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=t,l=CC(i,o,e,await(s.isRTL==null?void 0:s.isRTL(a.floating)));return{x:n+l.x,y:r+l.y,data:l}}}};function OC(e){return e==="x"?"y":"x"}var nm=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:y,y:E}=v;return{x:y,y:E}}},...l}=e,u={x:n,y:r},c=await us(t,l),f=xo(kr(i)),d=OC(f);let p=u[f],g=u[d];if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",E=p+c[v],m=p-c[y];p=Su(E,p,m)}if(s){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",E=g+c[v],m=g-c[y];g=Su(E,g,m)}const h=a.fn({...t,[f]:p,[d]:g});return{...h,data:{x:h.x-n,y:h.y-r}}}}},rm=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){var n;const{placement:r,elements:i,rects:o,platform:s,strategy:a}=t,{padding:l=2,x:u,y:c}=e,f=ls(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:o.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:a}):o.reference),d=(n=await(s.getClientRects==null?void 0:s.getClientRects(i.reference)))!=null?n:[],p=wc(l);function g(){if(d.length===2&&d[0].left>d[1].right&&u!=null&&c!=null){var v;return(v=d.find(y=>u>y.left-p.left&&u<y.right+p.right&&c>y.top-p.top&&c<y.bottom+p.bottom))!=null?v:f}if(d.length>=2){if(xo(r)==="x"){const D=d[0],O=d[d.length-1],S=kr(r)==="top",x=D.top,R=O.bottom,I=S?D.left:O.left,k=S?D.right:O.right,M=k-I,F=R-x;return{top:x,bottom:R,left:I,right:k,width:M,height:F,x:I,y:x}}const y=kr(r)==="left",E=Kg(...d.map(D=>D.right)),m=qg(...d.map(D=>D.left)),b=d.filter(D=>y?D.left===m:D.right===E),w=b[0].top,A=b[b.length-1].bottom,_=m,T=E,C=T-_,L=A-w;return{top:w,bottom:A,left:_,right:T,width:C,height:L,x:_,y:w}}return f}const h=await s.getElementRects({reference:{getBoundingClientRect:g},floating:i.floating,strategy:a});return o.reference.x!==h.reference.x||o.reference.y!==h.reference.y||o.reference.width!==h.reference.width||o.reference.height!==h.reference.height?{reset:{rects:h}}:{}}}};function im(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Br(e){if(e==null)return window;if(!im(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function ms(e){return Br(e).getComputedStyle(e)}function Mr(e){return im(e)?"":e?(e.nodeName||"").toLowerCase():""}function br(e){return e instanceof Br(e).HTMLElement}function di(e){return e instanceof Br(e).Element}function xC(e){return e instanceof Br(e).Node}function Tc(e){if(typeof ShadowRoot>"u")return!1;const t=Br(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Qa(e){const{overflow:t,overflowX:n,overflowY:r}=ms(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function RC(e){return["table","td","th"].includes(Mr(e))}function om(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=ms(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}function sm(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var kf=Math.min,Jo=Math.max,Ea=Math.round;function Pr(e,t,n){var r,i,o,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect();let l=1,u=1;t&&br(e)&&(l=e.offsetWidth>0&&Ea(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&Ea(a.height)/e.offsetHeight||1);const c=di(e)?Br(e):window,f=!sm()&&n,d=(a.left+(f&&(r=(i=c.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/l,p=(a.top+(f&&(o=(s=c.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,g=a.width/l,h=a.height/u;return{width:g,height:h,top:p,right:d+g,bottom:p+h,left:d,x:d,y:p}}function fi(e){return((xC(e)?e.ownerDocument:e.document)||window.document).documentElement}function el(e){return di(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function am(e){return Pr(fi(e)).left+el(e).scrollLeft}function DC(e){const t=Pr(e);return Ea(t.width)!==e.offsetWidth||Ea(t.height)!==e.offsetHeight}function LC(e,t,n){const r=br(t),i=fi(t),o=Pr(e,r&&DC(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Mr(t)!=="body"||Qa(i))&&(s=el(t)),br(t)){const l=Pr(t,!0);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else i&&(a.x=am(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function lm(e){return Mr(e)==="html"?e:e.assignedSlot||e.parentNode||(Tc(e)?e.host:null)||fi(e)}function Mf(e){return!br(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function kC(e){let t=lm(e);for(Tc(t)&&(t=t.host);br(t)&&!["html","body"].includes(Mr(t));){if(om(t))return t;t=t.parentNode}return null}function Cu(e){const t=Br(e);let n=Mf(e);for(;n&&RC(n)&&getComputedStyle(n).position==="static";)n=Mf(n);return n&&(Mr(n)==="html"||Mr(n)==="body"&&getComputedStyle(n).position==="static"&&!om(n))?t:n||kC(e)||t}function Pf(e){if(br(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=Pr(e);return{width:t.width,height:t.height}}function MC(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=br(n),o=fi(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Mr(n)!=="body"||Qa(o))&&(s=el(n)),br(n))){const l=Pr(n,!0);a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+a.x,y:t.y-s.scrollTop+a.y}}function PC(e,t){const n=Br(e),r=fi(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=sm();(u||!u&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function NC(e){var t;const n=fi(e),r=el(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Jo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Jo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+am(e);const l=-r.scrollTop;return ms(i||n).direction==="rtl"&&(a+=Jo(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function um(e){const t=lm(e);return["html","body","#document"].includes(Mr(t))?e.ownerDocument.body:br(t)&&Qa(t)?t:um(t)}function _a(e,t){var n;t===void 0&&(t=[]);const r=um(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Br(r),s=i?[o].concat(o.visualViewport||[],Qa(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(_a(s))}function FC(e,t){const n=t==null||t.getRootNode==null?void 0:t.getRootNode();if(e!=null&&e.contains(t))return!0;if(n&&Tc(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function BC(e,t){const n=Pr(e,!1,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function Nf(e,t,n){return t==="viewport"?ls(PC(e,n)):di(t)?BC(t,n):ls(NC(fi(e)))}function $C(e){const t=_a(e),r=["absolute","fixed"].includes(ms(e).position)&&br(e)?Cu(e):e;return di(r)?t.filter(i=>di(i)&&FC(i,r)&&Mr(i)!=="body"):[]}function UC(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?$C(t):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const f=Nf(t,c,i);return u.top=Jo(f.top,u.top),u.right=kf(f.right,u.right),u.bottom=kf(f.bottom,u.bottom),u.left=Jo(f.left,u.left),u},Nf(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}var jC={getClippingRect:UC,convertOffsetParentRelativeRectToViewportRelativeRect:MC,isElement:di,getDimensions:Pf,getOffsetParent:Cu,getDocumentElement:fi,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:LC(t,Cu(n),r),floating:{...Pf(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>ms(e).direction==="rtl"};function Ff(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r;let l=!1;const u=i&&!a,c=o&&!a,f=s&&!a,d=u||c?[...di(e)?_a(e):[],..._a(t)]:[];d.forEach(y=>{u&&y.addEventListener("scroll",n,{passive:!0}),c&&y.addEventListener("resize",n)});let p=null;f&&(p=new ResizeObserver(n),di(e)&&p.observe(e),p.observe(t));let g,h=a?Pr(e):null;a&&v();function v(){if(l)return;const y=Pr(e);h&&(y.x!==h.x||y.y!==h.y||y.width!==h.width||y.height!==h.height)&&n(),h=y,g=requestAnimationFrame(v)}return()=>{var y;l=!0,d.forEach(E=>{u&&E.removeEventListener("scroll",n),c&&E.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,a&&cancelAnimationFrame(g)}}var Bf=(e,t,n)=>EC(e,t,{platform:jC,...n}),VC=e=>{const t={placement:"bottom",middleware:[]},n=Object.keys(e),r=i=>e[i];return n.includes("offset")&&t.middleware.push(tm(r("offset"))),n.includes("placement")&&(t.placement=r("placement")),n.includes("autoPlacement")&&!n.includes("flip")&&t.middleware.push(Ac(r("autoPlacement"))),n.includes("flip")&&t.middleware.push(Qg(r("flip"))),n.includes("shift")&&t.middleware.push(nm(r("shift"))),n.includes("inline")&&t.middleware.push(rm(r("inline"))),n.includes("arrow")&&t.middleware.push(Xg(r("arrow"))),n.includes("hide")&&t.middleware.push(em(r("hide"))),t},GC=(e,t)=>{const n={component:{trap:!1},float:{placement:"bottom",strategy:"absolute",middleware:[]}},r=i=>e[e.indexOf(i)+1];return e.includes("trap")&&(n.component.trap=!0),e.includes("teleport")&&(n.float.strategy="fixed"),e.includes("offset")&&n.float.middleware.push(tm(t.offset||10)),e.includes("placement")&&(n.float.placement=r("placement")),e.includes("autoPlacement")&&!e.includes("flip")&&n.float.middleware.push(Ac(t.autoPlacement)),e.includes("flip")&&n.float.middleware.push(Qg(t.flip)),e.includes("shift")&&n.float.middleware.push(nm(t.shift)),e.includes("inline")&&n.float.middleware.push(rm(t.inline)),e.includes("arrow")&&n.float.middleware.push(Xg(t.arrow)),e.includes("hide")&&n.float.middleware.push(em(t.hide)),n},HC=e=>{var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n="";e||(e=Math.floor(Math.random()*t.length));for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n};function WC(e){const t={dismissable:!0,trap:!1};function n(o,s,a=null){if(!!s){if(s.hasAttribute("aria-expanded")||s.setAttribute("aria-expanded",!1),a.hasAttribute("id"))s.setAttribute("aria-controls",a.getAttribute("id"));else{const l=`panel-${HC(8)}`;s.setAttribute("aria-controls",l),a.setAttribute("id",l)}a.setAttribute("aria-modal",!0),a.setAttribute("role","dialog")}}const r=document.querySelectorAll('[\\@click^="$float"]'),i=document.querySelectorAll('[x-on\\:click^="$float"]');[...r,...i].forEach(o=>{const s=o.parentElement.closest("[x-data]"),a=s.querySelector('[x-ref="panel"]');n(s,o,a)}),e.magic("float",o=>(s={},a={})=>{const l={...t,...a},u=Object.keys(s).length>0?VC(s):{middleware:[Ac()]},c=o,f=o.parentElement.closest("[x-data]"),d=f.querySelector('[x-ref="panel"]');function p(){return d.style.display=="block"}function g(){d.style.display="",c.setAttribute("aria-expanded",!1),l.trap&&d.setAttribute("x-trap",!1),Ff(o,d,y)}function h(){d.style.display="block",c.setAttribute("aria-expanded",!0),l.trap&&d.setAttribute("x-trap",!0),y()}function v(){p()?g():h()}async function y(){return await Bf(o,d,u).then(({middlewareData:E,placement:m,x:b,y:w})=>{var A,_;if(E.arrow){const T=(A=E.arrow)==null?void 0:A.x,C=(_=E.arrow)==null?void 0:_.y,L=u.middleware.filter(O=>O.name=="arrow")[0].options.element,D={top:"bottom",right:"left",bottom:"top",left:"right"}[m.split("-")[0]];Object.assign(L.style,{left:T!=null?`${T}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",[D]:"-4px"})}if(E.hide){const{referenceHidden:T}=E.hide;Object.assign(d.style,{visibility:T?"hidden":"visible"})}Object.assign(d.style,{left:`${b}px`,top:`${w}px`})})}l.dismissable&&(window.addEventListener("click",E=>{!f.contains(E.target)&&p()&&v()}),window.addEventListener("keydown",E=>{E.key==="Escape"&&p()&&v()},!0)),v()}),e.directive("float",(o,{modifiers:s,expression:a},{evaluate:l})=>{const u=a?l(a):{},c=s.length>0?GC(s,u):{};let f=null;c.float.strategy=="fixed"&&(o.style.position="fixed");const d=E=>o.parentElement&&!o.parentElement.closest("[x-data]").contains(E.target)?o.close():null,p=E=>E.key==="Escape"?o.close():null,g=o.getAttribute("x-ref"),h=o.parentElement.closest("[x-data]"),v=h.querySelectorAll(`[\\@click^="$refs.${g}"]`),y=h.querySelectorAll(`[x-on\\:click^="$refs.${g}"]`);n(h,[...v,...y][0],o),o.isOpen=!1,o.trigger=null,o.open=async function(E){o.trigger=E.currentTarget?E.currentTarget:E,o.isOpen=!0,o.style.display="block",o.trigger.setAttribute("aria-expanded",!0),c.component.trap&&o.setAttribute("x-trap",!0),f=Ff(o.trigger,o,()=>{Bf(o.trigger,o,c.float).then(({middlewareData:m,placement:b,x:w,y:A})=>{var _,T;if(m.arrow){const C=(_=m.arrow)==null?void 0:_.x,L=(T=m.arrow)==null?void 0:T.y,D=c.float.middleware.filter(S=>S.name=="arrow")[0].options.element,O={top:"bottom",right:"left",bottom:"top",left:"right"}[b.split("-")[0]];Object.assign(D.style,{left:C!=null?`${C}px`:"",top:L!=null?`${L}px`:"",right:"",bottom:"",[O]:"-4px"})}if(m.hide){const{referenceHidden:C}=m.hide;Object.assign(o.style,{visibility:C?"hidden":"visible"})}Object.assign(o.style,{left:`${w}px`,top:`${A}px`})})}),window.addEventListener("click",d),window.addEventListener("keydown",p,!0)},o.close=function(){o.isOpen=!1,o.style.display="",o.trigger.setAttribute("aria-expanded",!1),c.component.trap&&o.setAttribute("x-trap",!1),f(),window.removeEventListener("click",d),window.removeEventListener("keydown",p,!1)},o.toggle=function(E){o.isOpen?o.close():o.open(E)}})}var zC=WC;/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$f(Object(n),!0).forEach(function(r){YC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zs=function(t){return typeof t}:Zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(e)}function YC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(){return Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}function qC(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function KC(e,t){if(e==null)return{};var n=qC(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}var XC="1.15.0";function Rr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var $r=Rr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),vs=Rr(/Edge/i),Uf=Rr(/firefox/i),Qo=Rr(/safari/i)&&!Rr(/chrome/i)&&!Rr(/android/i),cm=Rr(/iP(ad|od|hone)/i),dm=Rr(/chrome/i)&&Rr(/android/i),fm={capture:!1,passive:!1};function lt(e,t,n){e.addEventListener(t,n,!$r&&fm)}function ot(e,t,n){e.removeEventListener(t,n,!$r&&fm)}function wa(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function ZC(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function pr(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&wa(e,t):wa(e,t))||r&&e===n)return e;if(e===n)break}while(e=ZC(e))}return null}var jf=/\s+/g;function Dn(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(jf," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(jf," ")}}function je(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function lo(e,t){var n="";if(typeof e=="string")n=e;else do{var r=je(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function hm(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function vr(){var e=document.scrollingElement;return e||document.documentElement}function qt(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,u,c,f;if(e!==window&&e.parentNode&&e!==vr()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,f=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!$r))do if(i&&i.getBoundingClientRect&&(je(i,"transform")!=="none"||n&&je(i,"position")!=="static")){var d=i.getBoundingClientRect();s-=d.top+parseInt(je(i,"border-top-width")),a-=d.left+parseInt(je(i,"border-left-width")),l=s+o.height,u=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var p=lo(i||e),g=p&&p.a,h=p&&p.d;p&&(s/=h,a/=g,f/=g,c/=h,l=s+c,u=a+f)}return{top:s,left:a,bottom:l,right:u,width:f,height:c}}}function Vf(e,t,n){for(var r=oi(e,!0),i=qt(e)[t];r;){var o=qt(r)[n],s=void 0;if(n==="top"||n==="left"?s=i>=o:s=i<=o,!s)return r;if(r===vr())break;r=oi(r,!1)}return!1}function yo(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==Ve.ghost&&(r||s[o]!==Ve.dragged)&&pr(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function Sc(e,t){for(var n=e.lastElementChild;n&&(n===Ve.ghost||je(n,"display")==="none"||t&&!wa(n,t));)n=n.previousElementSibling;return n||null}function Gn(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ve.clone&&(!t||wa(e,t))&&n++;return n}function Gf(e){var t=0,n=0,r=vr();if(e)do{var i=lo(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function JC(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function oi(e,t){if(!e||!e.getBoundingClientRect)return vr();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=je(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return vr();if(r||t)return n;r=!0}}while(n=n.parentNode);return vr()}function QC(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Cl(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var es;function pm(e,t){return function(){if(!es){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),es=setTimeout(function(){es=void 0},t)}}}function eO(){clearTimeout(es),es=void 0}function gm(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function mm(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Mn="Sortable"+new Date().getTime();function tO(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(je(i,"display")==="none"||i===Ve.ghost)){e.push({target:i,rect:qt(i)});var o=Er({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=lo(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(JC(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(a){var l=0,u=a.target,c=u.fromRect,f=qt(u),d=u.prevFromRect,p=u.prevToRect,g=a.rect,h=lo(u,!0);h&&(f.top-=h.f,f.left-=h.e),u.toRect=f,u.thisAnimationDuration&&Cl(d,f)&&!Cl(c,f)&&(g.top-f.top)/(g.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(l=rO(g,d,p,i.options)),Cl(f,c)||(u.prevFromRect=c,u.prevToRect=f,l||(l=i.options.animation),i.animate(u,g,f,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,s){if(s){je(r,"transition",""),je(r,"transform","");var a=lo(this.el),l=a&&a.a,u=a&&a.d,c=(i.left-o.left)/(l||1),f=(i.top-o.top)/(u||1);r.animatingX=!!c,r.animatingY=!!f,je(r,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=nO(r),je(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),je(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){je(r,"transition",""),je(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function nO(e){return e.offsetWidth}function rO(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Wi=[],Ol={initializeByDefault:!0},ys={mount:function(t){for(var n in Ol)Ol.hasOwnProperty(n)&&!(n in t)&&(t[n]=Ol[n]);Wi.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Wi.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Wi.forEach(function(s){!n[s.pluginName]||(n[s.pluginName][o]&&n[s.pluginName][o](Er({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](Er({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Wi.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[l]=u,Nr(r,u.defaults)}});for(var o in t.options)if(!!t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return Wi.forEach(function(i){typeof i.eventProperties=="function"&&Nr(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Wi.forEach(function(o){!t[o.pluginName]||o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function iO(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Mn],!!t){var h,v=t.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!$r&&!vs?h=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent(r,!0,!0)),h.to=s||n,h.from=a||n,h.item=i||n,h.clone=o,h.oldIndex=l,h.newIndex=u,h.oldDraggableIndex=c,h.newDraggableIndex=f,h.originalEvent=d,h.pullMode=p?p.lastPutMode:void 0;var E=Er(Er({},g),ys.getEventProperties(r,t));for(var m in E)h[m]=E[m];n&&n.dispatchEvent(h),v[y]&&v[y].call(t,h)}}var oO=["evt"],Tn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=KC(r,oO);ys.pluginEvent.bind(Ve)(t,n,Er({dragEl:he,parentEl:kt,ghostEl:Ke,rootEl:_t,nextEl:Ti,lastDownEl:Js,cloneEl:Rt,cloneHidden:ni,dragStarted:jo,putSortable:nn,activeSortable:Ve.active,originalEvent:i,oldIndex:no,oldDraggableIndex:ts,newIndex:Ln,newDraggableIndex:ei,hideGhostForTarget:Em,unhideGhostForTarget:_m,cloneNowHidden:function(){ni=!0},cloneNowShown:function(){ni=!1},dispatchSortableEvent:function(a){gn({sortable:n,name:a,originalEvent:i})}},o))};function gn(e){iO(Er({putSortable:nn,cloneEl:Rt,targetEl:he,rootEl:_t,oldIndex:no,oldDraggableIndex:ts,newIndex:Ln,newDraggableIndex:ei},e))}var he,kt,Ke,_t,Ti,Js,Rt,ni,no,Ln,ts,ei,Ps,nn,Yi=!1,Aa=!1,Ta=[],_i,Xn,xl,Rl,Hf,Wf,jo,zi,ns,rs=!1,Ns=!1,Qs,an,Dl=[],Ou=!1,Sa=[],tl=typeof document<"u",Fs=cm,zf=vs||$r?"cssFloat":"float",sO=tl&&!dm&&!cm&&"draggable"in document.createElement("div"),vm=function(){if(!!tl){if($r)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),ym=function(t,n){var r=je(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=yo(t,0,n),s=yo(t,1,n),a=o&&je(o),l=s&&je(s),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+qt(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+qt(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[zf]==="none"||s&&r[zf]==="none"&&u+c>i)?"vertical":"horizontal"},aO=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||o===l||i+s/2===a+u/2},lO=function(t,n){var r;return Ta.some(function(i){var o=i[Mn].options.emptyInsertThreshold;if(!(!o||Sc(i))){var s=qt(i),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},bm=function(t){function n(o,s){return function(a,l,u,c){var f=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||f))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,u,c),s)(a,l,u,c);var d=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var r={},i=t.group;(!i||Zs(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Em=function(){!vm&&Ke&&je(Ke,"display","none")},_m=function(){!vm&&Ke&&je(Ke,"display","")};tl&&!dm&&document.addEventListener("click",function(e){if(Aa)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Aa=!1,!1},!0);var wi=function(t){if(he){t=t.touches?t.touches[0]:t;var n=lO(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Mn]._onDragOver(r)}}},uO=function(t){he&&he.parentNode[Mn]._isOutsideThisEl(t.target)};function Ve(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Nr({},t),e[Mn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ym(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ve.supportPointer!==!1&&"PointerEvent"in window&&!Qo,emptyInsertThreshold:5};ys.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);bm(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:sO,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?lt(e,"pointerdown",this._onTapStart):(lt(e,"mousedown",this._onTapStart),lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(lt(e,"dragover",this),lt(e,"dragenter",this)),Ta.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Nr(this,tO())}Ve.prototype={constructor:Ve,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(zi=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,he):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=i.filter;if(vO(r),!he&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Qo&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=pr(l,i.draggable,r,!1),!(l&&l.animated)&&Js!==l)){if(no=Gn(l),ts=Gn(l,i.draggable),typeof c=="function"){if(c.call(this,t,l,this)){gn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Tn("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=pr(u,f.trim(),r,!1),f)return gn({sortable:n,rootEl:f,name:"filter",targetEl:l,fromEl:r,toEl:r}),Tn("filter",n,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!pr(u,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!he&&r.parentNode===o){var u=qt(r);if(_t=o,he=r,kt=he.parentNode,Ti=he.nextSibling,Js=r,Ps=s.group,Ve.dragged=he,_i={target:he,clientX:(n||t).clientX,clientY:(n||t).clientY},Hf=_i.clientX-u.left,Wf=_i.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,he.style["will-change"]="all",l=function(){if(Tn("delayEnded",i,{evt:t}),Ve.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Uf&&i.nativeDraggable&&(he.draggable=!0),i._triggerDragStart(t,n),gn({sortable:i,name:"choose",originalEvent:t}),Dn(he,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){hm(he,c.trim(),Ll)}),lt(a,"dragover",wi),lt(a,"mousemove",wi),lt(a,"touchmove",wi),lt(a,"mouseup",i._onDrop),lt(a,"touchend",i._onDrop),lt(a,"touchcancel",i._onDrop),Uf&&this.nativeDraggable&&(this.options.touchStartThreshold=4,he.draggable=!0),Tn("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(vs||$r))){if(Ve.eventCanceled){this._onDrop();return}lt(a,"mouseup",i._disableDelayedDrag),lt(a,"touchend",i._disableDelayedDrag),lt(a,"touchcancel",i._disableDelayedDrag),lt(a,"mousemove",i._delayedDragTouchMoveHandler),lt(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&lt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){he&&Ll(he),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ot(t,"mouseup",this._disableDelayedDrag),ot(t,"touchend",this._disableDelayedDrag),ot(t,"touchcancel",this._disableDelayedDrag),ot(t,"mousemove",this._delayedDragTouchMoveHandler),ot(t,"touchmove",this._delayedDragTouchMoveHandler),ot(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?lt(document,"pointermove",this._onTouchMove):n?lt(document,"touchmove",this._onTouchMove):lt(document,"mousemove",this._onTouchMove):(lt(he,"dragend",this),lt(_t,"dragstart",this._onDragStart));try{document.selection?ea(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Yi=!1,_t&&he){Tn("dragStarted",this,{evt:n}),this.nativeDraggable&&lt(document,"dragover",uO);var r=this.options;!t&&Dn(he,r.dragClass,!1),Dn(he,r.ghostClass,!0),Ve.active=this,t&&this._appendGhost(),gn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Xn){this._lastX=Xn.clientX,this._lastY=Xn.clientY,Em();for(var t=document.elementFromPoint(Xn.clientX,Xn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Xn.clientX,Xn.clientY),t!==n);)n=t;if(he.parentNode[Mn]._isOutsideThisEl(t),n)do{if(n[Mn]){var r=void 0;if(r=n[Mn]._onDragOver({clientX:Xn.clientX,clientY:Xn.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);_m()}},_onTouchMove:function(t){if(_i){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=Ke&&lo(Ke,!0),a=Ke&&s&&s.a,l=Ke&&s&&s.d,u=Fs&&an&&Gf(an),c=(o.clientX-_i.clientX+i.x)/(a||1)+(u?u[0]-Dl[0]:0)/(a||1),f=(o.clientY-_i.clientY+i.y)/(l||1)+(u?u[1]-Dl[1]:0)/(l||1);if(!Ve.active&&!Yi){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Ke){s?(s.e+=c-(xl||0),s.f+=f-(Rl||0)):s={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");je(Ke,"webkitTransform",d),je(Ke,"mozTransform",d),je(Ke,"msTransform",d),je(Ke,"transform",d),xl=c,Rl=f,Xn=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ke){var t=this.options.fallbackOnBody?document.body:_t,n=qt(he,!0,Fs,!0,t),r=this.options;if(Fs){for(an=t;je(an,"position")==="static"&&je(an,"transform")==="none"&&an!==document;)an=an.parentNode;an!==document.body&&an!==document.documentElement?(an===document&&(an=vr()),n.top+=an.scrollTop,n.left+=an.scrollLeft):an=vr(),Dl=Gf(an)}Ke=he.cloneNode(!0),Dn(Ke,r.ghostClass,!1),Dn(Ke,r.fallbackClass,!0),Dn(Ke,r.dragClass,!0),je(Ke,"transition",""),je(Ke,"transform",""),je(Ke,"box-sizing","border-box"),je(Ke,"margin",0),je(Ke,"top",n.top),je(Ke,"left",n.left),je(Ke,"width",n.width),je(Ke,"height",n.height),je(Ke,"opacity","0.8"),je(Ke,"position",Fs?"absolute":"fixed"),je(Ke,"zIndex","100000"),je(Ke,"pointerEvents","none"),Ve.ghost=Ke,t.appendChild(Ke),je(Ke,"transform-origin",Hf/parseInt(Ke.style.width)*100+"% "+Wf/parseInt(Ke.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(Tn("dragStart",this,{evt:t}),Ve.eventCanceled){this._onDrop();return}Tn("setupClone",this),Ve.eventCanceled||(Rt=mm(he),Rt.removeAttribute("id"),Rt.draggable=!1,Rt.style["will-change"]="",this._hideClone(),Dn(Rt,this.options.chosenClass,!1),Ve.clone=Rt),r.cloneId=ea(function(){Tn("clone",r),!Ve.eventCanceled&&(r.options.removeCloneOnHide||_t.insertBefore(Rt,he),r._hideClone(),gn({sortable:r,name:"clone"}))}),!n&&Dn(he,o.dragClass,!0),n?(Aa=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ot(document,"mouseup",r._onDrop),ot(document,"touchend",r._onDrop),ot(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,he)),lt(document,"drop",r),je(he,"transform","translateZ(0)")),Yi=!0,r._dragStartId=ea(r._dragStarted.bind(r,n,t)),lt(document,"selectstart",r),jo=!0,Qo&&je(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,s,a=this.options,l=a.group,u=Ve.active,c=Ps===l,f=a.sort,d=nn||u,p,g=this,h=!1;if(Ou)return;function v(M,F){Tn(M,g,Er({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:f,fromSortable:d,target:r,completed:E,onMove:function(z,ce){return Bs(_t,n,he,i,z,qt(z),t,ce)},changed:m},F))}function y(){v("dragOverAnimationCapture"),g.captureAnimationState(),g!==d&&d.captureAnimationState()}function E(M){return v("dragOverCompleted",{insertion:M}),M&&(c?u._hideClone():u._showClone(g),g!==d&&(Dn(he,nn?nn.options.ghostClass:u.options.ghostClass,!1),Dn(he,a.ghostClass,!0)),nn!==g&&g!==Ve.active?nn=g:g===Ve.active&&nn&&(nn=null),d===g&&(g._ignoreWhileAnimating=r),g.animateAll(function(){v("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(r===he&&!he.animated||r===n&&!r.animated)&&(zi=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(he.parentNode[Mn]._isOutsideThisEl(t.target),!M&&wi(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function m(){Ln=Gn(he),ei=Gn(he,a.draggable),gn({sortable:g,name:"change",toEl:n,newIndex:Ln,newDraggableIndex:ei,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=pr(r,a.draggable,n,!0),v("dragOver"),Ve.eventCanceled)return h;if(he.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return E(!1);if(Aa=!1,u&&!a.disabled&&(c?f||(s=kt!==_t):nn===this||(this.lastPutMode=Ps.checkPull(this,u,he,t))&&l.checkPut(this,u,he,t))){if(p=this._getDirection(t,r)==="vertical",i=qt(he),v("dragOverValid"),Ve.eventCanceled)return h;if(s)return kt=_t,y(),this._hideClone(),v("revert"),Ve.eventCanceled||(Ti?_t.insertBefore(he,Ti):_t.appendChild(he)),E(!0);var b=Sc(n,a.draggable);if(!b||hO(t,p,this)&&!b.animated){if(b===he)return E(!1);if(b&&n===t.target&&(r=b),r&&(o=qt(r)),Bs(_t,n,he,i,r,o,t,!!r)!==!1)return y(),b&&b.nextSibling?n.insertBefore(he,b.nextSibling):n.appendChild(he),kt=n,m(),E(!0)}else if(b&&fO(t,p,this)){var w=yo(n,0,a,!0);if(w===he)return E(!1);if(r=w,o=qt(r),Bs(_t,n,he,i,r,o,t,!1)!==!1)return y(),n.insertBefore(he,w),kt=n,m(),E(!0)}else if(r.parentNode===n){o=qt(r);var A=0,_,T=he.parentNode!==n,C=!aO(he.animated&&he.toRect||i,r.animated&&r.toRect||o,p),L=p?"top":"left",D=Vf(r,"top","top")||Vf(he,"top","top"),O=D?D.scrollTop:void 0;zi!==r&&(_=o[L],rs=!1,Ns=!C&&a.invertSwap||T),A=pO(t,r,o,p,C?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Ns,zi===r);var S;if(A!==0){var x=Gn(he);do x-=A,S=kt.children[x];while(S&&(je(S,"display")==="none"||S===Ke))}if(A===0||S===r)return E(!1);zi=r,ns=A;var R=r.nextElementSibling,I=!1;I=A===1;var k=Bs(_t,n,he,i,r,o,t,I);if(k!==!1)return(k===1||k===-1)&&(I=k===1),Ou=!0,setTimeout(dO,30),y(),I&&!R?n.appendChild(he):r.parentNode.insertBefore(he,I?R:r),D&&gm(D,0,O-D.scrollTop),kt=he.parentNode,_!==void 0&&!Ns&&(Qs=Math.abs(_-qt(r)[L])),m(),E(!0)}if(n.contains(he))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ot(document,"mousemove",this._onTouchMove),ot(document,"touchmove",this._onTouchMove),ot(document,"pointermove",this._onTouchMove),ot(document,"dragover",wi),ot(document,"mousemove",wi),ot(document,"touchmove",wi)},_offUpEvents:function(){var t=this.el.ownerDocument;ot(t,"mouseup",this._onDrop),ot(t,"touchend",this._onDrop),ot(t,"pointerup",this._onDrop),ot(t,"touchcancel",this._onDrop),ot(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Ln=Gn(he),ei=Gn(he,r.draggable),Tn("drop",this,{evt:t}),kt=he&&he.parentNode,Ln=Gn(he),ei=Gn(he,r.draggable),Ve.eventCanceled){this._nulling();return}Yi=!1,Ns=!1,rs=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xu(this.cloneId),xu(this._dragStartId),this.nativeDraggable&&(ot(document,"drop",this),ot(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Qo&&je(document.body,"user-select",""),je(he,"transform",""),t&&(jo&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Ke&&Ke.parentNode&&Ke.parentNode.removeChild(Ke),(_t===kt||nn&&nn.lastPutMode!=="clone")&&Rt&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),he&&(this.nativeDraggable&&ot(he,"dragend",this),Ll(he),he.style["will-change"]="",jo&&!Yi&&Dn(he,nn?nn.options.ghostClass:this.options.ghostClass,!1),Dn(he,this.options.chosenClass,!1),gn({sortable:this,name:"unchoose",toEl:kt,newIndex:null,newDraggableIndex:null,originalEvent:t}),_t!==kt?(Ln>=0&&(gn({rootEl:kt,name:"add",toEl:kt,fromEl:_t,originalEvent:t}),gn({sortable:this,name:"remove",toEl:kt,originalEvent:t}),gn({rootEl:kt,name:"sort",toEl:kt,fromEl:_t,originalEvent:t}),gn({sortable:this,name:"sort",toEl:kt,originalEvent:t})),nn&&nn.save()):Ln!==no&&Ln>=0&&(gn({sortable:this,name:"update",toEl:kt,originalEvent:t}),gn({sortable:this,name:"sort",toEl:kt,originalEvent:t})),Ve.active&&((Ln==null||Ln===-1)&&(Ln=no,ei=ts),gn({sortable:this,name:"end",toEl:kt,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Tn("nulling",this),_t=he=kt=Ke=Ti=Rt=Js=ni=_i=Xn=jo=Ln=ei=no=ts=zi=ns=nn=Ps=Ve.dragged=Ve.ghost=Ve.clone=Ve.active=null,Sa.forEach(function(t){t.checked=!0}),Sa.length=xl=Rl=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":he&&(this._onDragOver(t),cO(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],pr(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||mO(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];pr(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return pr(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=ys.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&bm(r)},destroy:function(){Tn("destroy",this);var t=this.el;t[Mn]=null,ot(t,"mousedown",this._onTapStart),ot(t,"touchstart",this._onTapStart),ot(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ot(t,"dragover",this),ot(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ta.splice(Ta.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ni){if(Tn("hideClone",this),Ve.eventCanceled)return;je(Rt,"display","none"),this.options.removeCloneOnHide&&Rt.parentNode&&Rt.parentNode.removeChild(Rt),ni=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ni){if(Tn("showClone",this),Ve.eventCanceled)return;he.parentNode==_t&&!this.options.group.revertClone?_t.insertBefore(Rt,he):Ti?_t.insertBefore(Rt,Ti):_t.appendChild(Rt),this.options.group.revertClone&&this.animate(he,Rt),je(Rt,"display",""),ni=!1}}};function cO(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Bs(e,t,n,r,i,o,s,a){var l,u=e[Mn],c=u.options.onMove,f;return window.CustomEvent&&!$r&&!vs?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||qt(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),c&&(f=c.call(u,l,s)),f}function Ll(e){e.draggable=!1}function dO(){Ou=!1}function fO(e,t,n){var r=qt(yo(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function hO(e,t,n){var r=qt(Sc(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function pO(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!s){if(a&&Qs<u*i){if(!rs&&(ns===1?l>c+u*o/2:l<f-u*o/2)&&(rs=!0),rs)d=!0;else if(ns===1?l<c+Qs:l>f-Qs)return-ns}else if(l>c+u*(1-i)/2&&l<f-u*(1-i)/2)return gO(t)}return d=d||s,d&&(l<c+u*o/2||l>f-u*o/2)?l>c+u/2?1:-1:0}function gO(e){return Gn(he)<Gn(e)?1:-1}function mO(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function vO(e){Sa.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Sa.push(r)}}function ea(e){return setTimeout(e,0)}function xu(e){return clearTimeout(e)}tl&&lt(document,"touchmove",function(e){(Ve.active||Yi)&&e.cancelable&&e.preventDefault()});Ve.utils={on:lt,off:ot,css:je,find:hm,is:function(t,n){return!!pr(t,n,t,!1)},extend:QC,throttle:pm,closest:pr,toggleClass:Dn,clone:mm,index:Gn,nextTick:ea,cancelNextTick:xu,detectDirection:ym,getChild:yo};Ve.get=function(e){return e[Mn]};Ve.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ve.utils=Er(Er({},Ve.utils),r.utils)),ys.mount(r)})};Ve.create=function(e,t){return new Ve(e,t)};Ve.version=XC;var $t=[],Vo,Ru,Du=!1,kl,Ml,Ia,Go;function yO(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?lt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?lt(document,"touchmove",this._handleFallbackAutoScroll):lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ot(document,"dragover",this._handleAutoScroll):(ot(document,"pointermove",this._handleFallbackAutoScroll),ot(document,"touchmove",this._handleFallbackAutoScroll),ot(document,"mousemove",this._handleFallbackAutoScroll)),Yf(),ta(),eO()},nulling:function(){Ia=Ru=Vo=Du=Go=kl=Ml=null,$t.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Ia=n,r||this.options.forceAutoScrollFallback||vs||$r||Qo){Pl(n,this.options,a,r);var l=oi(a,!0);Du&&(!Go||o!==kl||s!==Ml)&&(Go&&Yf(),Go=setInterval(function(){var u=oi(document.elementFromPoint(o,s),!0);u!==l&&(l=u,ta()),Pl(n,i.options,u,r)},10),kl=o,Ml=s)}else{if(!this.options.bubbleScroll||oi(a,!0)===vr()){ta();return}Pl(n,this.options,oi(a,!1),!1)}}},Nr(e,{pluginName:"scroll",initializeByDefault:!0})}function ta(){$t.forEach(function(e){clearInterval(e.pid)}),$t=[]}function Yf(){clearInterval(Go)}var Pl=pm(function(e,t,n,r){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=vr(),u=!1,c;Ru!==n&&(Ru=n,ta(),Vo=t.scroll,c=t.scrollFn,Vo===!0&&(Vo=oi(n,!0)));var f=0,d=Vo;do{var p=d,g=qt(p),h=g.top,v=g.bottom,y=g.left,E=g.right,m=g.width,b=g.height,w=void 0,A=void 0,_=p.scrollWidth,T=p.scrollHeight,C=je(p),L=p.scrollLeft,D=p.scrollTop;p===l?(w=m<_&&(C.overflowX==="auto"||C.overflowX==="scroll"||C.overflowX==="visible"),A=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"||C.overflowY==="visible")):(w=m<_&&(C.overflowX==="auto"||C.overflowX==="scroll"),A=b<T&&(C.overflowY==="auto"||C.overflowY==="scroll"));var O=w&&(Math.abs(E-i)<=s&&L+m<_)-(Math.abs(y-i)<=s&&!!L),S=A&&(Math.abs(v-o)<=s&&D+b<T)-(Math.abs(h-o)<=s&&!!D);if(!$t[f])for(var x=0;x<=f;x++)$t[x]||($t[x]={});($t[f].vx!=O||$t[f].vy!=S||$t[f].el!==p)&&($t[f].el=p,$t[f].vx=O,$t[f].vy=S,clearInterval($t[f].pid),(O!=0||S!=0)&&(u=!0,$t[f].pid=setInterval(function(){r&&this.layer===0&&Ve.active._onTouchMove(Ia);var R=$t[this.layer].vy?$t[this.layer].vy*a:0,I=$t[this.layer].vx?$t[this.layer].vx*a:0;typeof c=="function"&&c.call(Ve.dragged.parentNode[Mn],I,R,e,Ia,$t[this.layer].el)!=="continue"||gm($t[this.layer].el,I,R)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==l&&(d=oi(d,!1)));Du=u}},30),wm=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(!!n){var u=r||o;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(f)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Ic(){}Ic.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=yo(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:wm};Nr(Ic,{pluginName:"revertOnSpill"});function Cc(){}Cc.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:wm};Nr(Cc,{pluginName:"removeOnSpill"});Ve.mount(new yO);Ve.mount(Cc,Ic);var Am=Ve;window.Sortable=Am;window.Livewire.directive("sortable",e=>{e.sortable=Am.create(e,{draggable:"[wire\\:sortable\\.item]",handle:"[wire\\:sortable\\.handle]",dataIdAttr:"wire:sortable.item"})});var bO=e=>{e.plugin(Hb),e.plugin(Kb),e.plugin(SS),e.plugin(IS),e.plugin(HI),e.plugin(WI),e.plugin(YI),e.plugin(qI),e.plugin(yC),e.plugin(bC),e.plugin(zC)};/*!
* tabbable 5.2.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Tm=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],qf=Tm.join(","),Ca=typeof Element>"u"?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Sm=function(t,n,r){var i=Array.prototype.slice.apply(t.querySelectorAll(qf));return n&&Ca.call(t,qf)&&i.unshift(t),i=i.filter(r),i},EO=function(t){return t.contentEditable==="true"},Im=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return isNaN(n)?EO(t)||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n},_O=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Oc=function(t){return t.tagName==="INPUT"},wO=function(t){return Oc(t)&&t.type==="hidden"},AO=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},TO=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},SO=function(t){if(!t.name)return!0;var n=t.form||t.ownerDocument,r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=TO(i,t.form);return!o||o===t},IO=function(t){return Oc(t)&&t.type==="radio"},CO=function(t){return IO(t)&&!SO(t)},OO=function(t,n){if(getComputedStyle(t).visibility==="hidden")return!0;var r=Ca.call(t,"details>summary:first-of-type"),i=r?t.parentElement:t;if(Ca.call(i,"details:not([open]) *"))return!0;if(!n||n==="full")for(;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}else if(n==="non-zero-area"){var o=t.getBoundingClientRect(),s=o.width,a=o.height;return s===0&&a===0}return!1},xO=function(t){if(Oc(t)||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="BUTTON")for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return!i.contains(t)}return!0}n=n.parentElement}return!1},xc=function(t,n){return!(n.disabled||wO(n)||OO(n,t.displayCheck)||AO(n)||xO(n))},RO=function(t,n){return!(!xc(t,n)||CO(n)||Im(n)<0)},DO=function(t,n){n=n||{};var r=[],i=[],o=Sm(t,n.includeContainer,RO.bind(null,n));o.forEach(function(a,l){var u=Im(a);u===0?r.push(a):i.push({documentOrder:l,tabIndex:u,node:a})});var s=i.sort(_O).map(function(a){return a.node}).concat(r);return s},LO=function(t,n){n=n||{};var r=Sm(t,n.includeContainer,xc.bind(null,n));return r},kO=Tm.concat("iframe").join(","),Cm=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Ca.call(t,kO)===!1?!1:xc(n,t)};/*!
* focus-trap 6.6.1
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kf(Object(n),!0).forEach(function(r){PO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf=function(){var e=[];return{activateTrap:function(n){if(e.length>0){var r=e[e.length-1];r!==n&&r.pause()}var i=e.indexOf(n);i===-1||e.splice(i,1),e.push(n)},deactivateTrap:function(n){var r=e.indexOf(n);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}}}(),NO=function(t){return t.tagName&&t.tagName.toLowerCase()==="input"&&typeof t.select=="function"},FO=function(t){return t.key==="Escape"||t.key==="Esc"||t.keyCode===27},BO=function(t){return t.key==="Tab"||t.keyCode===9},Zf=function(t){return setTimeout(t,0)},Nl=function(t,n){var r=-1;return t.every(function(i,o){return n(i)?(r=o,!1):!0}),r},$o=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return typeof t=="function"?t.apply(void 0,r):t},$O=function(t,n){var r=document,i=MO({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},n),o={containers:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},s,a=function(A,_,T){return A&&A[_]!==void 0?A[_]:i[T||_]},l=function(A){return o.containers.some(function(_){return _.contains(A)})},u=function(A){var _=i[A];if(!_)return null;var T=_;if(typeof _=="string"&&(T=r.querySelector(_),!T))throw new Error("`".concat(A,"` refers to no known node"));if(typeof _=="function"&&(T=_(),!T))throw new Error("`".concat(A,"` did not return a node"));return T},c=function(){var A;if(a({},"initialFocus")===!1)return!1;if(u("initialFocus")!==null)A=u("initialFocus");else if(l(r.activeElement))A=r.activeElement;else{var _=o.tabbableGroups[0],T=_&&_.firstTabbableNode;A=T||u("fallbackFocus")}if(!A)throw new Error("Your focus-trap needs to have at least one focusable element");return A},f=function(){if(o.tabbableGroups=o.containers.map(function(A){var _=DO(A);if(_.length>0)return{container:A,firstTabbableNode:_[0],lastTabbableNode:_[_.length-1]}}).filter(function(A){return!!A}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},d=function w(A){if(A!==!1&&A!==r.activeElement){if(!A||!A.focus){w(c());return}A.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=A,NO(A)&&A.select()}},p=function(A){var _=u("setReturnFocus");return _||A},g=function(A){if(!l(A.target)){if($o(i.clickOutsideDeactivates,A)){s.deactivate({returnFocus:i.returnFocusOnDeactivate&&!Cm(A.target)});return}$o(i.allowOutsideClick,A)||A.preventDefault()}},h=function(A){var _=l(A.target);_||A.target instanceof Document?_&&(o.mostRecentlyFocusedNode=A.target):(A.stopImmediatePropagation(),d(o.mostRecentlyFocusedNode||c()))},v=function(A){f();var _=null;if(o.tabbableGroups.length>0){var T=Nl(o.tabbableGroups,function(R){var I=R.container;return I.contains(A.target)});if(T<0)A.shiftKey?_=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:_=o.tabbableGroups[0].firstTabbableNode;else if(A.shiftKey){var C=Nl(o.tabbableGroups,function(R){var I=R.firstTabbableNode;return A.target===I});if(C<0&&o.tabbableGroups[T].container===A.target&&(C=T),C>=0){var L=C===0?o.tabbableGroups.length-1:C-1,D=o.tabbableGroups[L];_=D.lastTabbableNode}}else{var O=Nl(o.tabbableGroups,function(R){var I=R.lastTabbableNode;return A.target===I});if(O<0&&o.tabbableGroups[T].container===A.target&&(O=T),O>=0){var S=O===o.tabbableGroups.length-1?0:O+1,x=o.tabbableGroups[S];_=x.firstTabbableNode}}}else _=u("fallbackFocus");_&&(A.preventDefault(),d(_))},y=function(A){if(FO(A)&&$o(i.escapeDeactivates)!==!1){A.preventDefault(),s.deactivate();return}if(BO(A)){v(A);return}},E=function(A){$o(i.clickOutsideDeactivates,A)||l(A.target)||$o(i.allowOutsideClick,A)||(A.preventDefault(),A.stopImmediatePropagation())},m=function(){if(!!o.active)return Xf.activateTrap(s),o.delayInitialFocusTimer=i.delayInitialFocus?Zf(function(){d(c())}):d(c()),r.addEventListener("focusin",h,!0),r.addEventListener("mousedown",g,{capture:!0,passive:!1}),r.addEventListener("touchstart",g,{capture:!0,passive:!1}),r.addEventListener("click",E,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),s},b=function(){if(!!o.active)return r.removeEventListener("focusin",h,!0),r.removeEventListener("mousedown",g,!0),r.removeEventListener("touchstart",g,!0),r.removeEventListener("click",E,!0),r.removeEventListener("keydown",y,!0),s};return s={activate:function(A){if(o.active)return this;var _=a(A,"onActivate"),T=a(A,"onPostActivate"),C=a(A,"checkCanFocusTrap");C||f(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,_&&_();var L=function(){C&&f(),m(),T&&T()};return C?(C(o.containers.concat()).then(L,L),this):(L(),this)},deactivate:function(A){if(!o.active)return this;clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,b(),o.active=!1,o.paused=!1,Xf.deactivateTrap(s);var _=a(A,"onDeactivate"),T=a(A,"onPostDeactivate"),C=a(A,"checkCanReturnFocus");_&&_();var L=a(A,"returnFocus","returnFocusOnDeactivate"),D=function(){Zf(function(){L&&d(p(o.nodeFocusedBeforeActivation)),T&&T()})};return L&&C?(C(p(o.nodeFocusedBeforeActivation)).then(D,D),this):(D(),this)},pause:function(){return o.paused||!o.active?this:(o.paused=!0,b(),this)},unpause:function(){return!o.paused||!o.active?this:(o.paused=!1,f(),m(),this)},updateContainerElements:function(A){var _=[].concat(A).filter(Boolean);return o.containers=_.map(function(T){return typeof T=="string"?r.querySelector(T):T}),o.active&&f(),this}},s.updateContainerElements(t),s};function UO(e){let t,n;window.addEventListener("focusin",()=>{t=n,n=document.activeElement}),e.magic("focus",r=>{let i=r;return{__noscroll:!1,__wrapAround:!1,within(o){return i=o,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(o){return Cm(o)},previouslyFocused(){return t},lastFocused(){return t},focused(){return n},focusables(){return Array.isArray(i)?i:LO(i,{displayCheck:"none"})},all(){return this.focusables()},isFirst(o){let s=this.all();return s[0]&&s[0].isSameNode(o)},isLast(o){let s=this.all();return s.length&&s.slice(-1)[0].isSameNode(o)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===o.length-1?o[0]:o[o.indexOf(s)+1]},getPrevious(){let o=this.all(),s=document.activeElement;if(o.indexOf(s)!==-1)return this.__wrapAround&&o.indexOf(s)===0?o.slice(-1)[0]:o[o.indexOf(s)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(o){!o||setTimeout(()=>{o.hasAttribute("tabindex")||o.setAttribute("tabindex","0"),o.focus({preventScroll:this._noscroll})})}}}),e.directive("trap",e.skipDuringClone((r,{expression:i,modifiers:o},{effect:s,evaluateLater:a,cleanup:l})=>{let u=a(i),c=!1,f=$O(r,{escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>r}),d=()=>{},p=()=>{};const g=()=>{d(),d=()=>{},p(),p=()=>{},f.deactivate({returnFocus:!o.includes("noreturn")})};s(()=>u(h=>{c!==h&&(h&&!c&&setTimeout(()=>{o.includes("inert")&&(d=Jf(r)),o.includes("noscroll")&&(p=jO()),f.activate()}),!h&&c&&g(),c=!!h)})),l(g)},(r,{expression:i,modifiers:o},{evaluate:s})=>{o.includes("inert")&&s(i)&&Jf(r)}))}function Jf(e){let t=[];return Om(e,n=>{let r=n.hasAttribute("aria-hidden");n.setAttribute("aria-hidden","true"),t.push(()=>r||n.removeAttribute("aria-hidden"))}),()=>{for(;t.length;)t.pop()()}}function Om(e,t){e.isSameNode(document.body)||!e.parentNode||Array.from(e.parentNode.children).forEach(n=>{n.isSameNode(e)||t(n),Om(e.parentNode,t)})}function jO(){let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}var VO=UO,GO=Object.create,Rc=Object.defineProperty,HO=Object.getPrototypeOf,WO=Object.prototype.hasOwnProperty,zO=Object.getOwnPropertyNames,YO=Object.getOwnPropertyDescriptor,qO=e=>Rc(e,"__esModule",{value:!0}),xm=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),KO=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of zO(t))!WO.call(e,r)&&r!=="default"&&Rc(e,r,{get:()=>t[r],enumerable:!(n=YO(t,r))||n.enumerable});return e},Rm=e=>KO(qO(Rc(e!=null?GO(HO(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),XO=xm(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(B){var P=B.getBoundingClientRect();return{width:P.width,height:P.height,top:P.top,right:P.right,bottom:P.bottom,left:P.left,x:P.left,y:P.top}}function n(B){if(B==null)return window;if(B.toString()!=="[object Window]"){var P=B.ownerDocument;return P&&P.defaultView||window}return B}function r(B){var P=n(B),G=P.pageXOffset,ee=P.pageYOffset;return{scrollLeft:G,scrollTop:ee}}function i(B){var P=n(B).Element;return B instanceof P||B instanceof Element}function o(B){var P=n(B).HTMLElement;return B instanceof P||B instanceof HTMLElement}function s(B){if(typeof ShadowRoot>"u")return!1;var P=n(B).ShadowRoot;return B instanceof P||B instanceof ShadowRoot}function a(B){return{scrollLeft:B.scrollLeft,scrollTop:B.scrollTop}}function l(B){return B===n(B)||!o(B)?r(B):a(B)}function u(B){return B?(B.nodeName||"").toLowerCase():null}function c(B){return((i(B)?B.ownerDocument:B.document)||window.document).documentElement}function f(B){return t(c(B)).left+r(B).scrollLeft}function d(B){return n(B).getComputedStyle(B)}function p(B){var P=d(B),G=P.overflow,ee=P.overflowX,ne=P.overflowY;return/auto|scroll|overlay|hidden/.test(G+ne+ee)}function g(B,P,G){G===void 0&&(G=!1);var ee=c(P),ne=t(B),fe=o(P),Ee={scrollLeft:0,scrollTop:0},pe={x:0,y:0};return(fe||!fe&&!G)&&((u(P)!=="body"||p(ee))&&(Ee=l(P)),o(P)?(pe=t(P),pe.x+=P.clientLeft,pe.y+=P.clientTop):ee&&(pe.x=f(ee))),{x:ne.left+Ee.scrollLeft-pe.x,y:ne.top+Ee.scrollTop-pe.y,width:ne.width,height:ne.height}}function h(B){var P=t(B),G=B.offsetWidth,ee=B.offsetHeight;return Math.abs(P.width-G)<=1&&(G=P.width),Math.abs(P.height-ee)<=1&&(ee=P.height),{x:B.offsetLeft,y:B.offsetTop,width:G,height:ee}}function v(B){return u(B)==="html"?B:B.assignedSlot||B.parentNode||(s(B)?B.host:null)||c(B)}function y(B){return["html","body","#document"].indexOf(u(B))>=0?B.ownerDocument.body:o(B)&&p(B)?B:y(v(B))}function E(B,P){var G;P===void 0&&(P=[]);var ee=y(B),ne=ee===((G=B.ownerDocument)==null?void 0:G.body),fe=n(ee),Ee=ne?[fe].concat(fe.visualViewport||[],p(ee)?ee:[]):ee,pe=P.concat(Ee);return ne?pe:pe.concat(E(v(Ee)))}function m(B){return["table","td","th"].indexOf(u(B))>=0}function b(B){return!o(B)||d(B).position==="fixed"?null:B.offsetParent}function w(B){var P=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,G=navigator.userAgent.indexOf("Trident")!==-1;if(G&&o(B)){var ee=d(B);if(ee.position==="fixed")return null}for(var ne=v(B);o(ne)&&["html","body"].indexOf(u(ne))<0;){var fe=d(ne);if(fe.transform!=="none"||fe.perspective!=="none"||fe.contain==="paint"||["transform","perspective"].indexOf(fe.willChange)!==-1||P&&fe.willChange==="filter"||P&&fe.filter&&fe.filter!=="none")return ne;ne=ne.parentNode}return null}function A(B){for(var P=n(B),G=b(B);G&&m(G)&&d(G).position==="static";)G=b(G);return G&&(u(G)==="html"||u(G)==="body"&&d(G).position==="static")?P:G||w(B)||P}var _="top",T="bottom",C="right",L="left",D="auto",O=[_,T,C,L],S="start",x="end",R="clippingParents",I="viewport",k="popper",M="reference",F=O.reduce(function(B,P){return B.concat([P+"-"+S,P+"-"+x])},[]),j=[].concat(O,[D]).reduce(function(B,P){return B.concat([P,P+"-"+S,P+"-"+x])},[]),z="beforeRead",ce="read",ie="afterRead",de="beforeMain",_e="main",ae="afterMain",we="beforeWrite",Se="write",Pe="afterWrite",Oe=[z,ce,ie,de,_e,ae,we,Se,Pe];function rt(B){var P=new Map,G=new Set,ee=[];B.forEach(function(fe){P.set(fe.name,fe)});function ne(fe){G.add(fe.name);var Ee=[].concat(fe.requires||[],fe.requiresIfExists||[]);Ee.forEach(function(pe){if(!G.has(pe)){var Ie=P.get(pe);Ie&&ne(Ie)}}),ee.push(fe)}return B.forEach(function(fe){G.has(fe.name)||ne(fe)}),ee}function nt(B){var P=rt(B);return Oe.reduce(function(G,ee){return G.concat(P.filter(function(ne){return ne.phase===ee}))},[])}function Dt(B){var P;return function(){return P||(P=new Promise(function(G){Promise.resolve().then(function(){P=void 0,G(B())})})),P}}function At(B){for(var P=arguments.length,G=new Array(P>1?P-1:0),ee=1;ee<P;ee++)G[ee-1]=arguments[ee];return[].concat(G).reduce(function(ne,fe){return ne.replace(/%s/,fe)},B)}var Tt='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Wn='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',St=["name","enabled","phase","fn","effect","requires","options"];function Ur(B){B.forEach(function(P){Object.keys(P).forEach(function(G){switch(G){case"name":typeof P.name!="string"&&console.error(At(Tt,String(P.name),'"name"','"string"','"'+String(P.name)+'"'));break;case"enabled":typeof P.enabled!="boolean"&&console.error(At(Tt,P.name,'"enabled"','"boolean"','"'+String(P.enabled)+'"'));case"phase":Oe.indexOf(P.phase)<0&&console.error(At(Tt,P.name,'"phase"',"either "+Oe.join(", "),'"'+String(P.phase)+'"'));break;case"fn":typeof P.fn!="function"&&console.error(At(Tt,P.name,'"fn"','"function"','"'+String(P.fn)+'"'));break;case"effect":typeof P.effect!="function"&&console.error(At(Tt,P.name,'"effect"','"function"','"'+String(P.fn)+'"'));break;case"requires":Array.isArray(P.requires)||console.error(At(Tt,P.name,'"requires"','"array"','"'+String(P.requires)+'"'));break;case"requiresIfExists":Array.isArray(P.requiresIfExists)||console.error(At(Tt,P.name,'"requiresIfExists"','"array"','"'+String(P.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+P.name+'" modifier, valid properties are '+St.map(function(ee){return'"'+ee+'"'}).join(", ")+'; but "'+G+'" was provided.')}P.requires&&P.requires.forEach(function(ee){B.find(function(ne){return ne.name===ee})==null&&console.error(At(Wn,String(P.name),ee,ee))})})})}function Ar(B,P){var G=new Set;return B.filter(function(ee){var ne=P(ee);if(!G.has(ne))return G.add(ne),!0})}function It(B){return B.split("-")[0]}function Cn(B){var P=B.reduce(function(G,ee){var ne=G[ee.name];return G[ee.name]=ne?Object.assign({},ne,ee,{options:Object.assign({},ne.options,ee.options),data:Object.assign({},ne.data,ee.data)}):ee,G},{});return Object.keys(P).map(function(G){return P[G]})}function ln(B){var P=n(B),G=c(B),ee=P.visualViewport,ne=G.clientWidth,fe=G.clientHeight,Ee=0,pe=0;return ee&&(ne=ee.width,fe=ee.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Ee=ee.offsetLeft,pe=ee.offsetTop)),{width:ne,height:fe,x:Ee+f(B),y:pe}}var tn=Math.max,Nn=Math.min,On=Math.round;function ar(B){var P,G=c(B),ee=r(B),ne=(P=B.ownerDocument)==null?void 0:P.body,fe=tn(G.scrollWidth,G.clientWidth,ne?ne.scrollWidth:0,ne?ne.clientWidth:0),Ee=tn(G.scrollHeight,G.clientHeight,ne?ne.scrollHeight:0,ne?ne.clientHeight:0),pe=-ee.scrollLeft+f(B),Ie=-ee.scrollTop;return d(ne||G).direction==="rtl"&&(pe+=tn(G.clientWidth,ne?ne.clientWidth:0)-fe),{width:fe,height:Ee,x:pe,y:Ie}}function lr(B,P){var G=P.getRootNode&&P.getRootNode();if(B.contains(P))return!0;if(G&&s(G)){var ee=P;do{if(ee&&B.isSameNode(ee))return!0;ee=ee.parentNode||ee.host}while(ee)}return!1}function wn(B){return Object.assign({},B,{left:B.x,top:B.y,right:B.x+B.width,bottom:B.y+B.height})}function Fn(B){var P=t(B);return P.top=P.top+B.clientTop,P.left=P.left+B.clientLeft,P.bottom=P.top+B.clientHeight,P.right=P.left+B.clientWidth,P.width=B.clientWidth,P.height=B.clientHeight,P.x=P.left,P.y=P.top,P}function un(B,P){return P===I?wn(ln(B)):o(P)?Fn(P):wn(ar(c(B)))}function cn(B){var P=E(v(B)),G=["absolute","fixed"].indexOf(d(B).position)>=0,ee=G&&o(B)?A(B):B;return i(ee)?P.filter(function(ne){return i(ne)&&lr(ne,ee)&&u(ne)!=="body"}):[]}function dn(B,P,G){var ee=P==="clippingParents"?cn(B):[].concat(P),ne=[].concat(ee,[G]),fe=ne[0],Ee=ne.reduce(function(pe,Ie){var Ue=un(B,Ie);return pe.top=tn(Ue.top,pe.top),pe.right=Nn(Ue.right,pe.right),pe.bottom=Nn(Ue.bottom,pe.bottom),pe.left=tn(Ue.left,pe.left),pe},un(B,fe));return Ee.width=Ee.right-Ee.left,Ee.height=Ee.bottom-Ee.top,Ee.x=Ee.left,Ee.y=Ee.top,Ee}function Kt(B){return B.split("-")[1]}function Xt(B){return["top","bottom"].indexOf(B)>=0?"x":"y"}function jr(B){var P=B.reference,G=B.element,ee=B.placement,ne=ee?It(ee):null,fe=ee?Kt(ee):null,Ee=P.x+P.width/2-G.width/2,pe=P.y+P.height/2-G.height/2,Ie;switch(ne){case _:Ie={x:Ee,y:P.y-G.height};break;case T:Ie={x:Ee,y:P.y+P.height};break;case C:Ie={x:P.x+P.width,y:pe};break;case L:Ie={x:P.x-G.width,y:pe};break;default:Ie={x:P.x,y:P.y}}var Ue=ne?Xt(ne):null;if(Ue!=null){var Ae=Ue==="y"?"height":"width";switch(fe){case S:Ie[Ue]=Ie[Ue]-(P[Ae]/2-G[Ae]/2);break;case x:Ie[Ue]=Ie[Ue]+(P[Ae]/2-G[Ae]/2);break}}return Ie}function yt(){return{top:0,right:0,bottom:0,left:0}}function An(B){return Object.assign({},yt(),B)}function Tr(B,P){return P.reduce(function(G,ee){return G[ee]=B,G},{})}function xn(B,P){P===void 0&&(P={});var G=P,ee=G.placement,ne=ee===void 0?B.placement:ee,fe=G.boundary,Ee=fe===void 0?R:fe,pe=G.rootBoundary,Ie=pe===void 0?I:pe,Ue=G.elementContext,Ae=Ue===void 0?k:Ue,ut=G.altBoundary,bt=ut===void 0?!1:ut,st=G.padding,et=st===void 0?0:st,ft=An(typeof et!="number"?et:Tr(et,O)),it=Ae===k?M:k,Ct=B.elements.reference,ht=B.rects.popper,Ot=B.elements[bt?it:Ae],We=dn(i(Ot)?Ot:Ot.contextElement||c(B.elements.popper),Ee,Ie),dt=t(Ct),ct=jr({reference:dt,element:ht,strategy:"absolute",placement:ne}),Et=wn(Object.assign({},ht,ct)),vt=Ae===k?Et:dt,Nt={top:We.top-vt.top+ft.top,bottom:vt.bottom-We.bottom+ft.bottom,left:We.left-vt.left+ft.left,right:vt.right-We.right+ft.right},xt=B.modifiersData.offset;if(Ae===k&&xt){var Lt=xt[ne];Object.keys(Nt).forEach(function(Kn){var sn=[C,T].indexOf(Kn)>=0?1:-1,Sr=[_,T].indexOf(Kn)>=0?"y":"x";Nt[Kn]+=Lt[Sr]*sn})}return Nt}var ur="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Vr="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",zn={placement:"bottom",modifiers:[],strategy:"absolute"};function on(){for(var B=arguments.length,P=new Array(B),G=0;G<B;G++)P[G]=arguments[G];return!P.some(function(ee){return!(ee&&typeof ee.getBoundingClientRect=="function")})}function K(B){B===void 0&&(B={});var P=B,G=P.defaultModifiers,ee=G===void 0?[]:G,ne=P.defaultOptions,fe=ne===void 0?zn:ne;return function(pe,Ie,Ue){Ue===void 0&&(Ue=fe);var Ae={placement:"bottom",orderedModifiers:[],options:Object.assign({},zn,fe),modifiersData:{},elements:{reference:pe,popper:Ie},attributes:{},styles:{}},ut=[],bt=!1,st={state:Ae,setOptions:function(Ct){ft(),Ae.options=Object.assign({},fe,Ae.options,Ct),Ae.scrollParents={reference:i(pe)?E(pe):pe.contextElement?E(pe.contextElement):[],popper:E(Ie)};var ht=nt(Cn([].concat(ee,Ae.options.modifiers)));Ae.orderedModifiers=ht.filter(function(xt){return xt.enabled});{var Ot=Ar([].concat(ht,Ae.options.modifiers),function(xt){var Lt=xt.name;return Lt});if(Ur(Ot),It(Ae.options.placement)===D){var We=Ae.orderedModifiers.find(function(xt){var Lt=xt.name;return Lt==="flip"});We||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var dt=d(Ie),ct=dt.marginTop,Et=dt.marginRight,vt=dt.marginBottom,Nt=dt.marginLeft;[ct,Et,vt,Nt].some(function(xt){return parseFloat(xt)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return et(),st.update()},forceUpdate:function(){if(!bt){var Ct=Ae.elements,ht=Ct.reference,Ot=Ct.popper;if(!on(ht,Ot)){console.error(ur);return}Ae.rects={reference:g(ht,A(Ot),Ae.options.strategy==="fixed"),popper:h(Ot)},Ae.reset=!1,Ae.placement=Ae.options.placement,Ae.orderedModifiers.forEach(function(Lt){return Ae.modifiersData[Lt.name]=Object.assign({},Lt.data)});for(var We=0,dt=0;dt<Ae.orderedModifiers.length;dt++){if(We+=1,We>100){console.error(Vr);break}if(Ae.reset===!0){Ae.reset=!1,dt=-1;continue}var ct=Ae.orderedModifiers[dt],Et=ct.fn,vt=ct.options,Nt=vt===void 0?{}:vt,xt=ct.name;typeof Et=="function"&&(Ae=Et({state:Ae,options:Nt,name:xt,instance:st})||Ae)}}},update:Dt(function(){return new Promise(function(it){st.forceUpdate(),it(Ae)})}),destroy:function(){ft(),bt=!0}};if(!on(pe,Ie))return console.error(ur),st;st.setOptions(Ue).then(function(it){!bt&&Ue.onFirstUpdate&&Ue.onFirstUpdate(it)});function et(){Ae.orderedModifiers.forEach(function(it){var Ct=it.name,ht=it.options,Ot=ht===void 0?{}:ht,We=it.effect;if(typeof We=="function"){var dt=We({state:Ae,name:Ct,instance:st,options:Ot}),ct=function(){};ut.push(dt||ct)}})}function ft(){ut.forEach(function(it){return it()}),ut=[]}return st}}var V={passive:!0};function X(B){var P=B.state,G=B.instance,ee=B.options,ne=ee.scroll,fe=ne===void 0?!0:ne,Ee=ee.resize,pe=Ee===void 0?!0:Ee,Ie=n(P.elements.popper),Ue=[].concat(P.scrollParents.reference,P.scrollParents.popper);return fe&&Ue.forEach(function(Ae){Ae.addEventListener("scroll",G.update,V)}),pe&&Ie.addEventListener("resize",G.update,V),function(){fe&&Ue.forEach(function(Ae){Ae.removeEventListener("scroll",G.update,V)}),pe&&Ie.removeEventListener("resize",G.update,V)}}var J={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:X,data:{}};function oe(B){var P=B.state,G=B.name;P.modifiersData[G]=jr({reference:P.rects.reference,element:P.rects.popper,strategy:"absolute",placement:P.placement})}var se={name:"popperOffsets",enabled:!0,phase:"read",fn:oe,data:{}},ge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ye(B){var P=B.x,G=B.y,ee=window,ne=ee.devicePixelRatio||1;return{x:On(On(P*ne)/ne)||0,y:On(On(G*ne)/ne)||0}}function be(B){var P,G=B.popper,ee=B.popperRect,ne=B.placement,fe=B.offsets,Ee=B.position,pe=B.gpuAcceleration,Ie=B.adaptive,Ue=B.roundOffsets,Ae=Ue===!0?ye(fe):typeof Ue=="function"?Ue(fe):fe,ut=Ae.x,bt=ut===void 0?0:ut,st=Ae.y,et=st===void 0?0:st,ft=fe.hasOwnProperty("x"),it=fe.hasOwnProperty("y"),Ct=L,ht=_,Ot=window;if(Ie){var We=A(G),dt="clientHeight",ct="clientWidth";We===n(G)&&(We=c(G),d(We).position!=="static"&&(dt="scrollHeight",ct="scrollWidth")),We=We,ne===_&&(ht=T,et-=We[dt]-ee.height,et*=pe?1:-1),ne===L&&(Ct=C,bt-=We[ct]-ee.width,bt*=pe?1:-1)}var Et=Object.assign({position:Ee},Ie&&ge);if(pe){var vt;return Object.assign({},Et,(vt={},vt[ht]=it?"0":"",vt[Ct]=ft?"0":"",vt.transform=(Ot.devicePixelRatio||1)<2?"translate("+bt+"px, "+et+"px)":"translate3d("+bt+"px, "+et+"px, 0)",vt))}return Object.assign({},Et,(P={},P[ht]=it?et+"px":"",P[Ct]=ft?bt+"px":"",P.transform="",P))}function N(B){var P=B.state,G=B.options,ee=G.gpuAcceleration,ne=ee===void 0?!0:ee,fe=G.adaptive,Ee=fe===void 0?!0:fe,pe=G.roundOffsets,Ie=pe===void 0?!0:pe;{var Ue=d(P.elements.popper).transitionProperty||"";Ee&&["transform","top","right","bottom","left"].some(function(ut){return Ue.indexOf(ut)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var Ae={placement:It(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:ne};P.modifiersData.popperOffsets!=null&&(P.styles.popper=Object.assign({},P.styles.popper,be(Object.assign({},Ae,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:Ee,roundOffsets:Ie})))),P.modifiersData.arrow!=null&&(P.styles.arrow=Object.assign({},P.styles.arrow,be(Object.assign({},Ae,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ie})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})}var $={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:N,data:{}};function H(B){var P=B.state;Object.keys(P.elements).forEach(function(G){var ee=P.styles[G]||{},ne=P.attributes[G]||{},fe=P.elements[G];!o(fe)||!u(fe)||(Object.assign(fe.style,ee),Object.keys(ne).forEach(function(Ee){var pe=ne[Ee];pe===!1?fe.removeAttribute(Ee):fe.setAttribute(Ee,pe===!0?"":pe)}))})}function Q(B){var P=B.state,G={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,G.popper),P.styles=G,P.elements.arrow&&Object.assign(P.elements.arrow.style,G.arrow),function(){Object.keys(P.elements).forEach(function(ee){var ne=P.elements[ee],fe=P.attributes[ee]||{},Ee=Object.keys(P.styles.hasOwnProperty(ee)?P.styles[ee]:G[ee]),pe=Ee.reduce(function(Ie,Ue){return Ie[Ue]="",Ie},{});!o(ne)||!u(ne)||(Object.assign(ne.style,pe),Object.keys(fe).forEach(function(Ie){ne.removeAttribute(Ie)}))})}}var ue={name:"applyStyles",enabled:!0,phase:"write",fn:H,effect:Q,requires:["computeStyles"]};function le(B,P,G){var ee=It(B),ne=[L,_].indexOf(ee)>=0?-1:1,fe=typeof G=="function"?G(Object.assign({},P,{placement:B})):G,Ee=fe[0],pe=fe[1];return Ee=Ee||0,pe=(pe||0)*ne,[L,C].indexOf(ee)>=0?{x:pe,y:Ee}:{x:Ee,y:pe}}function Y(B){var P=B.state,G=B.options,ee=B.name,ne=G.offset,fe=ne===void 0?[0,0]:ne,Ee=j.reduce(function(Ae,ut){return Ae[ut]=le(ut,P.rects,fe),Ae},{}),pe=Ee[P.placement],Ie=pe.x,Ue=pe.y;P.modifiersData.popperOffsets!=null&&(P.modifiersData.popperOffsets.x+=Ie,P.modifiersData.popperOffsets.y+=Ue),P.modifiersData[ee]=Ee}var U={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Y},q={left:"right",right:"left",bottom:"top",top:"bottom"};function te(B){return B.replace(/left|right|bottom|top/g,function(P){return q[P]})}var me={start:"end",end:"start"};function Be(B){return B.replace(/start|end/g,function(P){return me[P]})}function qe(B,P){P===void 0&&(P={});var G=P,ee=G.placement,ne=G.boundary,fe=G.rootBoundary,Ee=G.padding,pe=G.flipVariations,Ie=G.allowedAutoPlacements,Ue=Ie===void 0?j:Ie,Ae=Kt(ee),ut=Ae?pe?F:F.filter(function(et){return Kt(et)===Ae}):O,bt=ut.filter(function(et){return Ue.indexOf(et)>=0});bt.length===0&&(bt=ut,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var st=bt.reduce(function(et,ft){return et[ft]=xn(B,{placement:ft,boundary:ne,rootBoundary:fe,padding:Ee})[It(ft)],et},{});return Object.keys(st).sort(function(et,ft){return st[et]-st[ft]})}function Le(B){if(It(B)===D)return[];var P=te(B);return[Be(B),P,Be(P)]}function ze(B){var P=B.state,G=B.options,ee=B.name;if(!P.modifiersData[ee]._skip){for(var ne=G.mainAxis,fe=ne===void 0?!0:ne,Ee=G.altAxis,pe=Ee===void 0?!0:Ee,Ie=G.fallbackPlacements,Ue=G.padding,Ae=G.boundary,ut=G.rootBoundary,bt=G.altBoundary,st=G.flipVariations,et=st===void 0?!0:st,ft=G.allowedAutoPlacements,it=P.options.placement,Ct=It(it),ht=Ct===it,Ot=Ie||(ht||!et?[te(it)]:Le(it)),We=[it].concat(Ot).reduce(function(ke,Xe){return ke.concat(It(Xe)===D?qe(P,{placement:Xe,boundary:Ae,rootBoundary:ut,padding:Ue,flipVariations:et,allowedAutoPlacements:ft}):Xe)},[]),dt=P.rects.reference,ct=P.rects.popper,Et=new Map,vt=!0,Nt=We[0],xt=0;xt<We.length;xt++){var Lt=We[xt],Kn=It(Lt),sn=Kt(Lt)===S,Sr=[_,T].indexOf(Kn)>=0,pi=Sr?"width":"height",zr=xn(P,{placement:Lt,boundary:Ae,rootBoundary:ut,altBoundary:bt,padding:Ue}),Ir=Sr?sn?C:L:sn?T:_;dt[pi]>ct[pi]&&(Ir=te(Ir));var Ro=te(Ir),Yr=[];if(fe&&Yr.push(zr[Kn]<=0),pe&&Yr.push(zr[Ir]<=0,zr[Ro]<=0),Yr.every(function(ke){return ke})){Nt=Lt,vt=!1;break}Et.set(Lt,Yr)}if(vt)for(var Gi=et?3:1,Do=function(Xe){var Je=We.find(function(Wt){var zt=Et.get(Wt);if(zt)return zt.slice(0,Xe).every(function(cr){return cr})});if(Je)return Nt=Je,"break"},Z=Gi;Z>0;Z--){var Ce=Do(Z);if(Ce==="break")break}P.placement!==Nt&&(P.modifiersData[ee]._skip=!0,P.placement=Nt,P.reset=!0)}}var ve={name:"flip",enabled:!0,phase:"main",fn:ze,requiresIfExists:["offset"],data:{_skip:!1}};function Re(B){return B==="x"?"y":"x"}function $e(B,P,G){return tn(B,Nn(P,G))}function xe(B){var P=B.state,G=B.options,ee=B.name,ne=G.mainAxis,fe=ne===void 0?!0:ne,Ee=G.altAxis,pe=Ee===void 0?!1:Ee,Ie=G.boundary,Ue=G.rootBoundary,Ae=G.altBoundary,ut=G.padding,bt=G.tether,st=bt===void 0?!0:bt,et=G.tetherOffset,ft=et===void 0?0:et,it=xn(P,{boundary:Ie,rootBoundary:Ue,padding:ut,altBoundary:Ae}),Ct=It(P.placement),ht=Kt(P.placement),Ot=!ht,We=Xt(Ct),dt=Re(We),ct=P.modifiersData.popperOffsets,Et=P.rects.reference,vt=P.rects.popper,Nt=typeof ft=="function"?ft(Object.assign({},P.rects,{placement:P.placement})):ft,xt={x:0,y:0};if(!!ct){if(fe||pe){var Lt=We==="y"?_:L,Kn=We==="y"?T:C,sn=We==="y"?"height":"width",Sr=ct[We],pi=ct[We]+it[Lt],zr=ct[We]-it[Kn],Ir=st?-vt[sn]/2:0,Ro=ht===S?Et[sn]:vt[sn],Yr=ht===S?-vt[sn]:-Et[sn],Gi=P.elements.arrow,Do=st&&Gi?h(Gi):{width:0,height:0},Z=P.modifiersData["arrow#persistent"]?P.modifiersData["arrow#persistent"].padding:yt(),Ce=Z[Lt],ke=Z[Kn],Xe=$e(0,Et[sn],Do[sn]),Je=Ot?Et[sn]/2-Ir-Xe-Ce-Nt:Ro-Xe-Ce-Nt,Wt=Ot?-Et[sn]/2+Ir+Xe+ke+Nt:Yr+Xe+ke+Nt,zt=P.elements.arrow&&A(P.elements.arrow),cr=zt?We==="y"?zt.clientTop||0:zt.clientLeft||0:0,Lo=P.modifiersData.offset?P.modifiersData.offset[P.placement][We]:0,dr=ct[We]+Je-Lo-cr,Hi=ct[We]+Wt-Lo;if(fe){var gi=$e(st?Nn(pi,dr):pi,Sr,st?tn(zr,Hi):zr);ct[We]=gi,xt[We]=gi-Sr}if(pe){var qr=We==="x"?_:L,nl=We==="x"?T:C,Kr=ct[dt],mi=Kr+it[qr],Dc=Kr-it[nl],Lc=$e(st?Nn(mi,dr):mi,Kr,st?tn(Dc,Hi):Dc);ct[dt]=Lc,xt[dt]=Lc-Kr}}P.modifiersData[ee]=xt}}var De={name:"preventOverflow",enabled:!0,phase:"main",fn:xe,requiresIfExists:["offset"]},W=function(P,G){return P=typeof P=="function"?P(Object.assign({},G.rects,{placement:G.placement})):P,An(typeof P!="number"?P:Tr(P,O))};function at(B){var P,G=B.state,ee=B.name,ne=B.options,fe=G.elements.arrow,Ee=G.modifiersData.popperOffsets,pe=It(G.placement),Ie=Xt(pe),Ue=[L,C].indexOf(pe)>=0,Ae=Ue?"height":"width";if(!(!fe||!Ee)){var ut=W(ne.padding,G),bt=h(fe),st=Ie==="y"?_:L,et=Ie==="y"?T:C,ft=G.rects.reference[Ae]+G.rects.reference[Ie]-Ee[Ie]-G.rects.popper[Ae],it=Ee[Ie]-G.rects.reference[Ie],Ct=A(fe),ht=Ct?Ie==="y"?Ct.clientHeight||0:Ct.clientWidth||0:0,Ot=ft/2-it/2,We=ut[st],dt=ht-bt[Ae]-ut[et],ct=ht/2-bt[Ae]/2+Ot,Et=$e(We,ct,dt),vt=Ie;G.modifiersData[ee]=(P={},P[vt]=Et,P.centerOffset=Et-ct,P)}}function Ne(B){var P=B.state,G=B.options,ee=G.element,ne=ee===void 0?"[data-popper-arrow]":ee;if(ne!=null&&!(typeof ne=="string"&&(ne=P.elements.popper.querySelector(ne),!ne))){if(o(ne)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!lr(P.elements.popper,ne)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}P.elements.arrow=ne}}var Bn={name:"arrow",enabled:!0,phase:"main",fn:at,effect:Ne,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yn(B,P,G){return G===void 0&&(G={x:0,y:0}),{top:B.top-P.height-G.y,right:B.right-P.width+G.x,bottom:B.bottom-P.height+G.y,left:B.left-P.width-G.x}}function Gr(B){return[_,C,T,L].some(function(P){return B[P]>=0})}function Hr(B){var P=B.state,G=B.name,ee=P.rects.reference,ne=P.rects.popper,fe=P.modifiersData.preventOverflow,Ee=xn(P,{elementContext:"reference"}),pe=xn(P,{altBoundary:!0}),Ie=Yn(Ee,ee),Ue=Yn(pe,ne,fe),Ae=Gr(Ie),ut=Gr(Ue);P.modifiersData[G]={referenceClippingOffsets:Ie,popperEscapeOffsets:Ue,isReferenceHidden:Ae,hasPopperEscaped:ut},P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-reference-hidden":Ae,"data-popper-escaped":ut})}var Wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hr},fn=[J,se,$,ue],Rn=K({defaultModifiers:fn}),qn=[J,se,$,ue,U,ve,De,Bn,Wr],hi=K({defaultModifiers:qn});e.applyStyles=ue,e.arrow=Bn,e.computeStyles=$,e.createPopper=hi,e.createPopperLite=Rn,e.defaultModifiers=qn,e.detectOverflow=xn,e.eventListeners=J,e.flip=ve,e.hide=Wr,e.offset=U,e.popperGenerator=K,e.popperOffsets=se,e.preventOverflow=De}),Dm=xm(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=XO(),n='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',r="tippy-box",i="tippy-content",o="tippy-backdrop",s="tippy-arrow",a="tippy-svg-arrow",l={passive:!0,capture:!0};function u(N,$){return{}.hasOwnProperty.call(N,$)}function c(N,$,H){if(Array.isArray(N)){var Q=N[$];return Q==null?Array.isArray(H)?H[$]:H:Q}return N}function f(N,$){var H={}.toString.call(N);return H.indexOf("[object")===0&&H.indexOf($+"]")>-1}function d(N,$){return typeof N=="function"?N.apply(void 0,$):N}function p(N,$){if($===0)return N;var H;return function(Q){clearTimeout(H),H=setTimeout(function(){N(Q)},$)}}function g(N,$){var H=Object.assign({},N);return $.forEach(function(Q){delete H[Q]}),H}function h(N){return N.split(/\s+/).filter(Boolean)}function v(N){return[].concat(N)}function y(N,$){N.indexOf($)===-1&&N.push($)}function E(N){return N.filter(function($,H){return N.indexOf($)===H})}function m(N){return N.split("-")[0]}function b(N){return[].slice.call(N)}function w(N){return Object.keys(N).reduce(function($,H){return N[H]!==void 0&&($[H]=N[H]),$},{})}function A(){return document.createElement("div")}function _(N){return["Element","Fragment"].some(function($){return f(N,$)})}function T(N){return f(N,"NodeList")}function C(N){return f(N,"MouseEvent")}function L(N){return!!(N&&N._tippy&&N._tippy.reference===N)}function D(N){return _(N)?[N]:T(N)?b(N):Array.isArray(N)?N:b(document.querySelectorAll(N))}function O(N,$){N.forEach(function(H){H&&(H.style.transitionDuration=$+"ms")})}function S(N,$){N.forEach(function(H){H&&H.setAttribute("data-state",$)})}function x(N){var $,H=v(N),Q=H[0];return!(Q==null||($=Q.ownerDocument)==null)&&$.body?Q.ownerDocument:document}function R(N,$){var H=$.clientX,Q=$.clientY;return N.every(function(ue){var le=ue.popperRect,Y=ue.popperState,U=ue.props,q=U.interactiveBorder,te=m(Y.placement),me=Y.modifiersData.offset;if(!me)return!0;var Be=te==="bottom"?me.top.y:0,qe=te==="top"?me.bottom.y:0,Le=te==="right"?me.left.x:0,ze=te==="left"?me.right.x:0,ve=le.top-Q+Be>q,Re=Q-le.bottom-qe>q,$e=le.left-H+Le>q,xe=H-le.right-ze>q;return ve||Re||$e||xe})}function I(N,$,H){var Q=$+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(ue){N[Q](ue,H)})}var k={isTouch:!1},M=0;function F(){k.isTouch||(k.isTouch=!0,window.performance&&document.addEventListener("mousemove",j))}function j(){var N=performance.now();N-M<20&&(k.isTouch=!1,document.removeEventListener("mousemove",j)),M=N}function z(){var N=document.activeElement;if(L(N)){var $=N._tippy;N.blur&&!$.state.isVisible&&N.blur()}}function ce(){document.addEventListener("touchstart",F,l),window.addEventListener("blur",z)}var ie=typeof window<"u"&&typeof document<"u",de=ie?navigator.userAgent:"",_e=/MSIE |Trident\//.test(de);function ae(N){var $=N==="destroy"?"n already-":" ";return[N+"() was called on a"+$+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function we(N){var $=/[ \t]{2,}/g,H=/^[ \t]*/gm;return N.replace($," ").replace(H,"").trim()}function Se(N){return we(`
  %ctippy.js

  %c`+we(N)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function Pe(N){return[Se(N),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Oe;rt();function rt(){Oe=new Set}function nt(N,$){if(N&&!Oe.has($)){var H;Oe.add($),(H=console).warn.apply(H,Pe($))}}function Dt(N,$){if(N&&!Oe.has($)){var H;Oe.add($),(H=console).error.apply(H,Pe($))}}function At(N){var $=!N,H=Object.prototype.toString.call(N)==="[object Object]"&&!N.addEventListener;Dt($,["tippy() was passed","`"+String(N)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Dt(H,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Tt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Wn={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},St=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Tt,{},Wn),Ur=Object.keys(St),Ar=function($){tn($,[]);var H=Object.keys($);H.forEach(function(Q){St[Q]=$[Q]})};function It(N){var $=N.plugins||[],H=$.reduce(function(Q,ue){var le=ue.name,Y=ue.defaultValue;return le&&(Q[le]=N[le]!==void 0?N[le]:Y),Q},{});return Object.assign({},N,{},H)}function Cn(N,$){var H=$?Object.keys(It(Object.assign({},St,{plugins:$}))):Ur,Q=H.reduce(function(ue,le){var Y=(N.getAttribute("data-tippy-"+le)||"").trim();if(!Y)return ue;if(le==="content")ue[le]=Y;else try{ue[le]=JSON.parse(Y)}catch{ue[le]=Y}return ue},{});return Q}function ln(N,$){var H=Object.assign({},$,{content:d($.content,[N])},$.ignoreAttributes?{}:Cn(N,$.plugins));return H.aria=Object.assign({},St.aria,{},H.aria),H.aria={expanded:H.aria.expanded==="auto"?$.interactive:H.aria.expanded,content:H.aria.content==="auto"?$.interactive?null:"describedby":H.aria.content},H}function tn(N,$){N===void 0&&(N={}),$===void 0&&($=[]);var H=Object.keys(N);H.forEach(function(Q){var ue=g(St,Object.keys(Tt)),le=!u(ue,Q);le&&(le=$.filter(function(Y){return Y.name===Q}).length===0),nt(le,["`"+Q+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Nn=function(){return"innerHTML"};function On(N,$){N[Nn()]=$}function ar(N){var $=A();return N===!0?$.className=s:($.className=a,_(N)?$.appendChild(N):On($,N)),$}function lr(N,$){_($.content)?(On(N,""),N.appendChild($.content)):typeof $.content!="function"&&($.allowHTML?On(N,$.content):N.textContent=$.content)}function wn(N){var $=N.firstElementChild,H=b($.children);return{box:$,content:H.find(function(Q){return Q.classList.contains(i)}),arrow:H.find(function(Q){return Q.classList.contains(s)||Q.classList.contains(a)}),backdrop:H.find(function(Q){return Q.classList.contains(o)})}}function Fn(N){var $=A(),H=A();H.className=r,H.setAttribute("data-state","hidden"),H.setAttribute("tabindex","-1");var Q=A();Q.className=i,Q.setAttribute("data-state","hidden"),lr(Q,N.props),$.appendChild(H),H.appendChild(Q),ue(N.props,N.props);function ue(le,Y){var U=wn($),q=U.box,te=U.content,me=U.arrow;Y.theme?q.setAttribute("data-theme",Y.theme):q.removeAttribute("data-theme"),typeof Y.animation=="string"?q.setAttribute("data-animation",Y.animation):q.removeAttribute("data-animation"),Y.inertia?q.setAttribute("data-inertia",""):q.removeAttribute("data-inertia"),q.style.maxWidth=typeof Y.maxWidth=="number"?Y.maxWidth+"px":Y.maxWidth,Y.role?q.setAttribute("role",Y.role):q.removeAttribute("role"),(le.content!==Y.content||le.allowHTML!==Y.allowHTML)&&lr(te,N.props),Y.arrow?me?le.arrow!==Y.arrow&&(q.removeChild(me),q.appendChild(ar(Y.arrow))):q.appendChild(ar(Y.arrow)):me&&q.removeChild(me)}return{popper:$,onUpdate:ue}}Fn.$$tippy=!0;var un=1,cn=[],dn=[];function Kt(N,$){var H=ln(N,Object.assign({},St,{},It(w($)))),Q,ue,le,Y=!1,U=!1,q=!1,te=!1,me,Be,qe,Le=[],ze=p(ht,H.interactiveDebounce),ve,Re=un++,$e=null,xe=E(H.plugins),De={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},W={id:Re,reference:N,popper:A(),popperInstance:$e,props:H,state:De,plugins:xe,clearDelayTimeouts:Sr,setProps:pi,setContent:zr,show:Ir,hide:Ro,hideWithInteractivity:Yr,enable:Kn,disable:sn,unmount:Gi,destroy:Do};if(!H.render)return Dt(!0,"render() function has not been supplied."),W;var at=H.render(W),Ne=at.popper,Bn=at.onUpdate;Ne.setAttribute("data-tippy-root",""),Ne.id="tippy-"+W.id,W.popper=Ne,N._tippy=W,Ne._tippy=W;var Yn=xe.map(function(Z){return Z.fn(W)}),Gr=N.hasAttribute("aria-expanded");return ft(),ne(),P(),G("onCreate",[W]),H.showOnCreate&&xt(),Ne.addEventListener("mouseenter",function(){W.props.interactive&&W.state.isVisible&&W.clearDelayTimeouts()}),Ne.addEventListener("mouseleave",function(Z){W.props.interactive&&W.props.trigger.indexOf("mouseenter")>=0&&(qn().addEventListener("mousemove",ze),ze(Z))}),W;function Hr(){var Z=W.props.touch;return Array.isArray(Z)?Z:[Z,0]}function Wr(){return Hr()[0]==="hold"}function fn(){var Z;return!!((Z=W.props.render)!=null&&Z.$$tippy)}function Rn(){return ve||N}function qn(){var Z=Rn().parentNode;return Z?x(Z):document}function hi(){return wn(Ne)}function B(Z){return W.state.isMounted&&!W.state.isVisible||k.isTouch||me&&me.type==="focus"?0:c(W.props.delay,Z?0:1,St.delay)}function P(){Ne.style.pointerEvents=W.props.interactive&&W.state.isVisible?"":"none",Ne.style.zIndex=""+W.props.zIndex}function G(Z,Ce,ke){if(ke===void 0&&(ke=!0),Yn.forEach(function(Je){Je[Z]&&Je[Z].apply(void 0,Ce)}),ke){var Xe;(Xe=W.props)[Z].apply(Xe,Ce)}}function ee(){var Z=W.props.aria;if(!!Z.content){var Ce="aria-"+Z.content,ke=Ne.id,Xe=v(W.props.triggerTarget||N);Xe.forEach(function(Je){var Wt=Je.getAttribute(Ce);if(W.state.isVisible)Je.setAttribute(Ce,Wt?Wt+" "+ke:ke);else{var zt=Wt&&Wt.replace(ke,"").trim();zt?Je.setAttribute(Ce,zt):Je.removeAttribute(Ce)}})}}function ne(){if(!(Gr||!W.props.aria.expanded)){var Z=v(W.props.triggerTarget||N);Z.forEach(function(Ce){W.props.interactive?Ce.setAttribute("aria-expanded",W.state.isVisible&&Ce===Rn()?"true":"false"):Ce.removeAttribute("aria-expanded")})}}function fe(){qn().removeEventListener("mousemove",ze),cn=cn.filter(function(Z){return Z!==ze})}function Ee(Z){if(!(k.isTouch&&(q||Z.type==="mousedown"))&&!(W.props.interactive&&Ne.contains(Z.target))){if(Rn().contains(Z.target)){if(k.isTouch||W.state.isVisible&&W.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[W,Z]);W.props.hideOnClick===!0&&(W.clearDelayTimeouts(),W.hide(),U=!0,setTimeout(function(){U=!1}),W.state.isMounted||Ae())}}function pe(){q=!0}function Ie(){q=!1}function Ue(){var Z=qn();Z.addEventListener("mousedown",Ee,!0),Z.addEventListener("touchend",Ee,l),Z.addEventListener("touchstart",Ie,l),Z.addEventListener("touchmove",pe,l)}function Ae(){var Z=qn();Z.removeEventListener("mousedown",Ee,!0),Z.removeEventListener("touchend",Ee,l),Z.removeEventListener("touchstart",Ie,l),Z.removeEventListener("touchmove",pe,l)}function ut(Z,Ce){st(Z,function(){!W.state.isVisible&&Ne.parentNode&&Ne.parentNode.contains(Ne)&&Ce()})}function bt(Z,Ce){st(Z,Ce)}function st(Z,Ce){var ke=hi().box;function Xe(Je){Je.target===ke&&(I(ke,"remove",Xe),Ce())}if(Z===0)return Ce();I(ke,"remove",Be),I(ke,"add",Xe),Be=Xe}function et(Z,Ce,ke){ke===void 0&&(ke=!1);var Xe=v(W.props.triggerTarget||N);Xe.forEach(function(Je){Je.addEventListener(Z,Ce,ke),Le.push({node:Je,eventType:Z,handler:Ce,options:ke})})}function ft(){Wr()&&(et("touchstart",Ct,{passive:!0}),et("touchend",Ot,{passive:!0})),h(W.props.trigger).forEach(function(Z){if(Z!=="manual")switch(et(Z,Ct),Z){case"mouseenter":et("mouseleave",Ot);break;case"focus":et(_e?"focusout":"blur",We);break;case"focusin":et("focusout",We);break}})}function it(){Le.forEach(function(Z){var Ce=Z.node,ke=Z.eventType,Xe=Z.handler,Je=Z.options;Ce.removeEventListener(ke,Xe,Je)}),Le=[]}function Ct(Z){var Ce,ke=!1;if(!(!W.state.isEnabled||dt(Z)||U)){var Xe=((Ce=me)==null?void 0:Ce.type)==="focus";me=Z,ve=Z.currentTarget,ne(),!W.state.isVisible&&C(Z)&&cn.forEach(function(Je){return Je(Z)}),Z.type==="click"&&(W.props.trigger.indexOf("mouseenter")<0||Y)&&W.props.hideOnClick!==!1&&W.state.isVisible?ke=!0:xt(Z),Z.type==="click"&&(Y=!ke),ke&&!Xe&&Lt(Z)}}function ht(Z){var Ce=Z.target,ke=Rn().contains(Ce)||Ne.contains(Ce);if(!(Z.type==="mousemove"&&ke)){var Xe=Nt().concat(Ne).map(function(Je){var Wt,zt=Je._tippy,cr=(Wt=zt.popperInstance)==null?void 0:Wt.state;return cr?{popperRect:Je.getBoundingClientRect(),popperState:cr,props:H}:null}).filter(Boolean);R(Xe,Z)&&(fe(),Lt(Z))}}function Ot(Z){var Ce=dt(Z)||W.props.trigger.indexOf("click")>=0&&Y;if(!Ce){if(W.props.interactive){W.hideWithInteractivity(Z);return}Lt(Z)}}function We(Z){W.props.trigger.indexOf("focusin")<0&&Z.target!==Rn()||W.props.interactive&&Z.relatedTarget&&Ne.contains(Z.relatedTarget)||Lt(Z)}function dt(Z){return k.isTouch?Wr()!==Z.type.indexOf("touch")>=0:!1}function ct(){Et();var Z=W.props,Ce=Z.popperOptions,ke=Z.placement,Xe=Z.offset,Je=Z.getReferenceClientRect,Wt=Z.moveTransition,zt=fn()?wn(Ne).arrow:null,cr=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||Rn()}:N,Lo={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(gi){var qr=gi.state;if(fn()){var nl=hi(),Kr=nl.box;["placement","reference-hidden","escaped"].forEach(function(mi){mi==="placement"?Kr.setAttribute("data-placement",qr.placement):qr.attributes.popper["data-popper-"+mi]?Kr.setAttribute("data-"+mi,""):Kr.removeAttribute("data-"+mi)}),qr.attributes.popper={}}}},dr=[{name:"offset",options:{offset:Xe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Wt}},Lo];fn()&&zt&&dr.push({name:"arrow",options:{element:zt,padding:3}}),dr.push.apply(dr,(Ce==null?void 0:Ce.modifiers)||[]),W.popperInstance=t.createPopper(cr,Ne,Object.assign({},Ce,{placement:ke,onFirstUpdate:qe,modifiers:dr}))}function Et(){W.popperInstance&&(W.popperInstance.destroy(),W.popperInstance=null)}function vt(){var Z=W.props.appendTo,Ce,ke=Rn();W.props.interactive&&Z===St.appendTo||Z==="parent"?Ce=ke.parentNode:Ce=d(Z,[ke]),Ce.contains(Ne)||Ce.appendChild(Ne),ct(),nt(W.props.interactive&&Z===St.appendTo&&ke.nextElementSibling!==Ne,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function Nt(){return b(Ne.querySelectorAll("[data-tippy-root]"))}function xt(Z){W.clearDelayTimeouts(),Z&&G("onTrigger",[W,Z]),Ue();var Ce=B(!0),ke=Hr(),Xe=ke[0],Je=ke[1];k.isTouch&&Xe==="hold"&&Je&&(Ce=Je),Ce?Q=setTimeout(function(){W.show()},Ce):W.show()}function Lt(Z){if(W.clearDelayTimeouts(),G("onUntrigger",[W,Z]),!W.state.isVisible){Ae();return}if(!(W.props.trigger.indexOf("mouseenter")>=0&&W.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Z.type)>=0&&Y)){var Ce=B(!1);Ce?ue=setTimeout(function(){W.state.isVisible&&W.hide()},Ce):le=requestAnimationFrame(function(){W.hide()})}}function Kn(){W.state.isEnabled=!0}function sn(){W.hide(),W.state.isEnabled=!1}function Sr(){clearTimeout(Q),clearTimeout(ue),cancelAnimationFrame(le)}function pi(Z){if(nt(W.state.isDestroyed,ae("setProps")),!W.state.isDestroyed){G("onBeforeUpdate",[W,Z]),it();var Ce=W.props,ke=ln(N,Object.assign({},W.props,{},Z,{ignoreAttributes:!0}));W.props=ke,ft(),Ce.interactiveDebounce!==ke.interactiveDebounce&&(fe(),ze=p(ht,ke.interactiveDebounce)),Ce.triggerTarget&&!ke.triggerTarget?v(Ce.triggerTarget).forEach(function(Xe){Xe.removeAttribute("aria-expanded")}):ke.triggerTarget&&N.removeAttribute("aria-expanded"),ne(),P(),Bn&&Bn(Ce,ke),W.popperInstance&&(ct(),Nt().forEach(function(Xe){requestAnimationFrame(Xe._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[W,Z])}}function zr(Z){W.setProps({content:Z})}function Ir(){nt(W.state.isDestroyed,ae("show"));var Z=W.state.isVisible,Ce=W.state.isDestroyed,ke=!W.state.isEnabled,Xe=k.isTouch&&!W.props.touch,Je=c(W.props.duration,0,St.duration);if(!(Z||Ce||ke||Xe)&&!Rn().hasAttribute("disabled")&&(G("onShow",[W],!1),W.props.onShow(W)!==!1)){if(W.state.isVisible=!0,fn()&&(Ne.style.visibility="visible"),P(),Ue(),W.state.isMounted||(Ne.style.transition="none"),fn()){var Wt=hi(),zt=Wt.box,cr=Wt.content;O([zt,cr],0)}qe=function(){var dr;if(!(!W.state.isVisible||te)){if(te=!0,Ne.offsetHeight,Ne.style.transition=W.props.moveTransition,fn()&&W.props.animation){var Hi=hi(),gi=Hi.box,qr=Hi.content;O([gi,qr],Je),S([gi,qr],"visible")}ee(),ne(),y(dn,W),(dr=W.popperInstance)==null||dr.forceUpdate(),W.state.isMounted=!0,G("onMount",[W]),W.props.animation&&fn()&&bt(Je,function(){W.state.isShown=!0,G("onShown",[W])})}},vt()}}function Ro(){nt(W.state.isDestroyed,ae("hide"));var Z=!W.state.isVisible,Ce=W.state.isDestroyed,ke=!W.state.isEnabled,Xe=c(W.props.duration,1,St.duration);if(!(Z||Ce||ke)&&(G("onHide",[W],!1),W.props.onHide(W)!==!1)){if(W.state.isVisible=!1,W.state.isShown=!1,te=!1,Y=!1,fn()&&(Ne.style.visibility="hidden"),fe(),Ae(),P(),fn()){var Je=hi(),Wt=Je.box,zt=Je.content;W.props.animation&&(O([Wt,zt],Xe),S([Wt,zt],"hidden"))}ee(),ne(),W.props.animation?fn()&&ut(Xe,W.unmount):W.unmount()}}function Yr(Z){nt(W.state.isDestroyed,ae("hideWithInteractivity")),qn().addEventListener("mousemove",ze),y(cn,ze),ze(Z)}function Gi(){nt(W.state.isDestroyed,ae("unmount")),W.state.isVisible&&W.hide(),W.state.isMounted&&(Et(),Nt().forEach(function(Z){Z._tippy.unmount()}),Ne.parentNode&&Ne.parentNode.removeChild(Ne),dn=dn.filter(function(Z){return Z!==W}),W.state.isMounted=!1,G("onHidden",[W]))}function Do(){nt(W.state.isDestroyed,ae("destroy")),!W.state.isDestroyed&&(W.clearDelayTimeouts(),W.unmount(),it(),delete N._tippy,W.state.isDestroyed=!0,G("onDestroy",[W]))}}function Xt(N,$){$===void 0&&($={});var H=St.plugins.concat($.plugins||[]);At(N),tn($,H),ce();var Q=Object.assign({},$,{plugins:H}),ue=D(N);{var le=_(Q.content),Y=ue.length>1;nt(le&&Y,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var U=ue.reduce(function(q,te){var me=te&&Kt(te,Q);return me&&q.push(me),q},[]);return _(N)?U[0]:U}Xt.defaultProps=St,Xt.setDefaultProps=Ar,Xt.currentInput=k;var jr=function($){var H=$===void 0?{}:$,Q=H.exclude,ue=H.duration;dn.forEach(function(le){var Y=!1;if(Q&&(Y=L(Q)?le.reference===Q:le.popper===Q.popper),!Y){var U=le.props.duration;le.setProps({duration:ue}),le.hide(),le.state.isDestroyed||le.setProps({duration:U})}})},yt=Object.assign({},t.applyStyles,{effect:function($){var H=$.state,Q={popper:{position:H.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(H.elements.popper.style,Q.popper),H.styles=Q,H.elements.arrow&&Object.assign(H.elements.arrow.style,Q.arrow)}}),An=function($,H){var Q;H===void 0&&(H={}),Dt(!Array.isArray($),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String($)].join(" "));var ue=$,le=[],Y,U=H.overrides,q=[],te=!1;function me(){le=ue.map(function(xe){return xe.reference})}function Be(xe){ue.forEach(function(De){xe?De.enable():De.disable()})}function qe(xe){return ue.map(function(De){var W=De.setProps;return De.setProps=function(at){W(at),De.reference===Y&&xe.setProps(at)},function(){De.setProps=W}})}function Le(xe,De){var W=le.indexOf(De);if(De!==Y){Y=De;var at=(U||[]).concat("content").reduce(function(Ne,Bn){return Ne[Bn]=ue[W].props[Bn],Ne},{});xe.setProps(Object.assign({},at,{getReferenceClientRect:typeof at.getReferenceClientRect=="function"?at.getReferenceClientRect:function(){return De.getBoundingClientRect()}}))}}Be(!1),me();var ze={fn:function(){return{onDestroy:function(){Be(!0)},onHidden:function(){Y=null},onClickOutside:function(W){W.props.showOnCreate&&!te&&(te=!0,Y=null)},onShow:function(W){W.props.showOnCreate&&!te&&(te=!0,Le(W,le[0]))},onTrigger:function(W,at){Le(W,at.currentTarget)}}}},ve=Xt(A(),Object.assign({},g(H,["overrides"]),{plugins:[ze].concat(H.plugins||[]),triggerTarget:le,popperOptions:Object.assign({},H.popperOptions,{modifiers:[].concat(((Q=H.popperOptions)==null?void 0:Q.modifiers)||[],[yt])})})),Re=ve.show;ve.show=function(xe){if(Re(),!Y&&xe==null)return Le(ve,le[0]);if(!(Y&&xe==null)){if(typeof xe=="number")return le[xe]&&Le(ve,le[xe]);if(ue.includes(xe)){var De=xe.reference;return Le(ve,De)}if(le.includes(xe))return Le(ve,xe)}},ve.showNext=function(){var xe=le[0];if(!Y)return ve.show(0);var De=le.indexOf(Y);ve.show(le[De+1]||xe)},ve.showPrevious=function(){var xe=le[le.length-1];if(!Y)return ve.show(xe);var De=le.indexOf(Y),W=le[De-1]||xe;ve.show(W)};var $e=ve.setProps;return ve.setProps=function(xe){U=xe.overrides||U,$e(xe)},ve.setInstances=function(xe){Be(!0),q.forEach(function(De){return De()}),ue=xe,Be(!1),me(),qe(ve),ve.setProps({triggerTarget:le})},q=qe(ve),ve},Tr={mouseover:"mouseenter",focusin:"focus",click:"click"};function xn(N,$){Dt(!($&&$.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var H=[],Q=[],ue=!1,le=$.target,Y=g($,["target"]),U=Object.assign({},Y,{trigger:"manual",touch:!1}),q=Object.assign({},Y,{showOnCreate:!0}),te=Xt(N,U),me=v(te);function Be(Re){if(!(!Re.target||ue)){var $e=Re.target.closest(le);if(!!$e){var xe=$e.getAttribute("data-tippy-trigger")||$.trigger||St.trigger;if(!$e._tippy&&!(Re.type==="touchstart"&&typeof q.touch=="boolean")&&!(Re.type!=="touchstart"&&xe.indexOf(Tr[Re.type])<0)){var De=Xt($e,q);De&&(Q=Q.concat(De))}}}}function qe(Re,$e,xe,De){De===void 0&&(De=!1),Re.addEventListener($e,xe,De),H.push({node:Re,eventType:$e,handler:xe,options:De})}function Le(Re){var $e=Re.reference;qe($e,"touchstart",Be,l),qe($e,"mouseover",Be),qe($e,"focusin",Be),qe($e,"click",Be)}function ze(){H.forEach(function(Re){var $e=Re.node,xe=Re.eventType,De=Re.handler,W=Re.options;$e.removeEventListener(xe,De,W)}),H=[]}function ve(Re){var $e=Re.destroy,xe=Re.enable,De=Re.disable;Re.destroy=function(W){W===void 0&&(W=!0),W&&Q.forEach(function(at){at.destroy()}),Q=[],ze(),$e()},Re.enable=function(){xe(),Q.forEach(function(W){return W.enable()}),ue=!1},Re.disable=function(){De(),Q.forEach(function(W){return W.disable()}),ue=!0},Le(Re)}return me.forEach(ve),te}var ur={name:"animateFill",defaultValue:!1,fn:function($){var H;if(!((H=$.props.render)!=null&&H.$$tippy))return Dt($.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var Q=wn($.popper),ue=Q.box,le=Q.content,Y=$.props.animateFill?Vr():null;return{onCreate:function(){Y&&(ue.insertBefore(Y,ue.firstElementChild),ue.setAttribute("data-animatefill",""),ue.style.overflow="hidden",$.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Y){var q=ue.style.transitionDuration,te=Number(q.replace("ms",""));le.style.transitionDelay=Math.round(te/10)+"ms",Y.style.transitionDuration=q,S([Y],"visible")}},onShow:function(){Y&&(Y.style.transitionDuration="0ms")},onHide:function(){Y&&S([Y],"hidden")}}}};function Vr(){var N=A();return N.className=o,S([N],"hidden"),N}var zn={clientX:0,clientY:0},on=[];function K(N){var $=N.clientX,H=N.clientY;zn={clientX:$,clientY:H}}function V(N){N.addEventListener("mousemove",K)}function X(N){N.removeEventListener("mousemove",K)}var J={name:"followCursor",defaultValue:!1,fn:function($){var H=$.reference,Q=x($.props.triggerTarget||H),ue=!1,le=!1,Y=!0,U=$.props;function q(){return $.props.followCursor==="initial"&&$.state.isVisible}function te(){Q.addEventListener("mousemove",qe)}function me(){Q.removeEventListener("mousemove",qe)}function Be(){ue=!0,$.setProps({getReferenceClientRect:null}),ue=!1}function qe(ve){var Re=ve.target?H.contains(ve.target):!0,$e=$.props.followCursor,xe=ve.clientX,De=ve.clientY,W=H.getBoundingClientRect(),at=xe-W.left,Ne=De-W.top;(Re||!$.props.interactive)&&$.setProps({getReferenceClientRect:function(){var Yn=H.getBoundingClientRect(),Gr=xe,Hr=De;$e==="initial"&&(Gr=Yn.left+at,Hr=Yn.top+Ne);var Wr=$e==="horizontal"?Yn.top:Hr,fn=$e==="vertical"?Yn.right:Gr,Rn=$e==="horizontal"?Yn.bottom:Hr,qn=$e==="vertical"?Yn.left:Gr;return{width:fn-qn,height:Rn-Wr,top:Wr,right:fn,bottom:Rn,left:qn}}})}function Le(){$.props.followCursor&&(on.push({instance:$,doc:Q}),V(Q))}function ze(){on=on.filter(function(ve){return ve.instance!==$}),on.filter(function(ve){return ve.doc===Q}).length===0&&X(Q)}return{onCreate:Le,onDestroy:ze,onBeforeUpdate:function(){U=$.props},onAfterUpdate:function(Re,$e){var xe=$e.followCursor;ue||xe!==void 0&&U.followCursor!==xe&&(ze(),xe?(Le(),$.state.isMounted&&!le&&!q()&&te()):(me(),Be()))},onMount:function(){$.props.followCursor&&!le&&(Y&&(qe(zn),Y=!1),q()||te())},onTrigger:function(Re,$e){C($e)&&(zn={clientX:$e.clientX,clientY:$e.clientY}),le=$e.type==="focus"},onHidden:function(){$.props.followCursor&&(Be(),me(),Y=!0)}}}};function oe(N,$){var H;return{popperOptions:Object.assign({},N.popperOptions,{modifiers:[].concat((((H=N.popperOptions)==null?void 0:H.modifiers)||[]).filter(function(Q){var ue=Q.name;return ue!==$.name}),[$])})}}var se={name:"inlinePositioning",defaultValue:!1,fn:function($){var H=$.reference;function Q(){return!!$.props.inlinePositioning}var ue,le=-1,Y=!1,U={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(qe){var Le=qe.state;Q()&&(ue!==Le.placement&&$.setProps({getReferenceClientRect:function(){return q(Le.placement)}}),ue=Le.placement)}};function q(Be){return ge(m(Be),H.getBoundingClientRect(),b(H.getClientRects()),le)}function te(Be){Y=!0,$.setProps(Be),Y=!1}function me(){Y||te(oe($.props,U))}return{onCreate:me,onAfterUpdate:me,onTrigger:function(qe,Le){if(C(Le)){var ze=b($.reference.getClientRects()),ve=ze.find(function(Re){return Re.left-2<=Le.clientX&&Re.right+2>=Le.clientX&&Re.top-2<=Le.clientY&&Re.bottom+2>=Le.clientY});le=ze.indexOf(ve)}},onUntrigger:function(){le=-1}}}};function ge(N,$,H,Q){if(H.length<2||N===null)return $;if(H.length===2&&Q>=0&&H[0].left>H[1].right)return H[Q]||$;switch(N){case"top":case"bottom":{var ue=H[0],le=H[H.length-1],Y=N==="top",U=ue.top,q=le.bottom,te=Y?ue.left:le.left,me=Y?ue.right:le.right,Be=me-te,qe=q-U;return{top:U,bottom:q,left:te,right:me,width:Be,height:qe}}case"left":case"right":{var Le=Math.min.apply(Math,H.map(function(Ne){return Ne.left})),ze=Math.max.apply(Math,H.map(function(Ne){return Ne.right})),ve=H.filter(function(Ne){return N==="left"?Ne.left===Le:Ne.right===ze}),Re=ve[0].top,$e=ve[ve.length-1].bottom,xe=Le,De=ze,W=De-xe,at=$e-Re;return{top:Re,bottom:$e,left:xe,right:De,width:W,height:at}}default:return $}}var ye={name:"sticky",defaultValue:!1,fn:function($){var H=$.reference,Q=$.popper;function ue(){return $.popperInstance?$.popperInstance.state.elements.reference:H}function le(te){return $.props.sticky===!0||$.props.sticky===te}var Y=null,U=null;function q(){var te=le("reference")?ue().getBoundingClientRect():null,me=le("popper")?Q.getBoundingClientRect():null;(te&&be(Y,te)||me&&be(U,me))&&$.popperInstance&&$.popperInstance.update(),Y=te,U=me,$.state.isMounted&&requestAnimationFrame(q)}return{onMount:function(){$.props.sticky&&q()}}}};function be(N,$){return N&&$?N.top!==$.top||N.right!==$.right||N.bottom!==$.bottom||N.left!==$.left:!0}Xt.setDefaultProps({render:Fn}),e.animateFill=ur,e.createSingleton=An,e.default=Xt,e.delegate=xn,e.followCursor=J,e.hideAll=jr,e.inlinePositioning=se,e.roundArrow=n,e.sticky=ye}),Qf=Rm(Dm()),ZO=Rm(Dm()),JO=e=>{const t={plugins:[]},n=r=>e[e.indexOf(r)+1];if(e.includes("animation")&&(t.animation=n("animation")),e.includes("duration")&&(t.duration=parseInt(n("duration"))),e.includes("delay")){const r=n("delay");t.delay=r.includes("-")?r.split("-").map(i=>parseInt(i)):parseInt(r)}if(e.includes("cursor")){t.plugins.push(ZO.followCursor);const r=n("cursor");["x","initial"].includes(r)?t.followCursor=r==="x"?"horizontal":"initial":t.followCursor=!0}return e.includes("on")&&(t.trigger=n("on")),e.includes("arrowless")&&(t.arrow=!1),e.includes("html")&&(t.allowHTML=!0),e.includes("interactive")&&(t.interactive=!0),e.includes("border")&&t.interactive&&(t.interactiveBorder=parseInt(n("border"))),e.includes("debounce")&&t.interactive&&(t.interactiveDebounce=parseInt(n("debounce"))),e.includes("max-width")&&(t.maxWidth=parseInt(n("max-width"))),e.includes("theme")&&(t.theme=n("theme")),e.includes("placement")&&(t.placement=n("placement")),t};function QO(e){e.magic("tooltip",t=>(n,r={})=>{const i=(0,Qf.default)(t,{content:n,trigger:"manual",...r});i.show(),setTimeout(()=>{i.hide(),setTimeout(()=>i.destroy(),r.duration||300)},r.timeout||2e3)}),e.directive("tooltip",(t,{modifiers:n,expression:r},{evaluateLater:i,effect:o})=>{const s=n.length>0?JO(n):{};t.__x_tippy||(t.__x_tippy=(0,Qf.default)(t,s));const a=()=>t.__x_tippy.enable(),l=()=>t.__x_tippy.disable(),u=c=>{c?(a(),t.__x_tippy.setContent(c)):l()};if(n.includes("raw"))u(r);else{const c=i(r);o(()=>{c(f=>{typeof f=="object"?(t.__x_tippy.setProps(f),a()):u(f)})})}})}var ex=QO;_o.plugin(ex);_o.plugin(bO);_o.plugin(VO);_o.plugin(My);window.Alpine=_o;_o.start();var Lm=document.getElementById("theme-toggle-dark-icon"),km=document.getElementById("theme-toggle-light-icon");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?km.classList.remove("hidden"):Lm.classList.remove("hidden");var tx=document.getElementById("theme-toggle");tx.addEventListener("click",function(){Lm.classList.toggle("hidden"),km.classList.toggle("hidden"),localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))});const Mm=new Driver;Mm.defineSteps([{element:"#first-element-introduction",popover:{className:"first-step-popover-class",title:"Title on Popover",description:"Body of the popover",position:"bottom"}},{element:"#second-element-introduction",popover:{title:"Title on Popover",description:"Body of the popover",position:"left"}},{element:"#third-element-introduction",popover:{title:"Title on Popover",description:"Body of the popover",position:"bottom"}},{element:"#fourth-element-introduction",popover:{title:"Title on Popover",description:"Body of the popover",position:"bottom"}}]);localStorage.getItem("first-time-user")!="true"&&Mm.start();localStorage.setItem("first-time-user","true");
